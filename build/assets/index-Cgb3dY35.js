var RD=Object.defineProperty;var OD=(t,e,n)=>e in t?RD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Z=(t,e,n)=>(OD(t,typeof e!="symbol"?e+"":e,n),n);function cQ(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Uv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l1={exports:{}},Zf={},c1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),DD=Symbol.for("react.portal"),MD=Symbol.for("react.fragment"),LD=Symbol.for("react.strict_mode"),ND=Symbol.for("react.profiler"),VD=Symbol.for("react.provider"),FD=Symbol.for("react.context"),$D=Symbol.for("react.forward_ref"),jD=Symbol.for("react.suspense"),UD=Symbol.for("react.memo"),BD=Symbol.for("react.lazy"),eb=Symbol.iterator;function zD(t){return t===null||typeof t!="object"?null:(t=eb&&t[eb]||t["@@iterator"],typeof t=="function"?t:null)}var u1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h1=Object.assign,d1={};function za(t,e,n){this.props=t,this.context=e,this.refs=d1,this.updater=n||u1}za.prototype.isReactComponent={};za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f1(){}f1.prototype=za.prototype;function Bv(t,e,n){this.props=t,this.context=e,this.refs=d1,this.updater=n||u1}var zv=Bv.prototype=new f1;zv.constructor=Bv;h1(zv,za.prototype);zv.isPureReactComponent=!0;var tb=Array.isArray,p1=Object.prototype.hasOwnProperty,Wv={current:null},m1={key:!0,ref:!0,__self:!0,__source:!0};function g1(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)p1.call(e,i)&&!m1.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:gu,type:t,key:s,ref:o,props:r,_owner:Wv.current}}function WD(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hv(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function HD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nb=/\/+/g;function Tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HD(""+t.key):e.toString(36)}function cd(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gu:case DD:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Tm(o,0):i,tb(r)?(n="",t!=null&&(n=t.replace(nb,"$&/")+"/"),cd(r,e,n,"",function(c){return c})):r!=null&&(Hv(r)&&(r=WD(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(nb,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",tb(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Tm(s,a);o+=cd(s,e,n,l,r)}else if(l=zD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Tm(s,a++),o+=cd(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yh(t,e,n){if(t==null)return t;var i=[],r=0;return cd(t,i,"","",function(s){return e.call(n,s,r++)}),i}function qD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},ud={transition:null},GD={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:ud,ReactCurrentOwner:Wv};function y1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:yh,forEach:function(t,e,n){yh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yh(t,function(){e++}),e},toArray:function(t){return yh(t,function(e){return e})||[]},only:function(t){if(!Hv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=za;ye.Fragment=MD;ye.Profiler=ND;ye.PureComponent=Bv;ye.StrictMode=LD;ye.Suspense=jD;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GD;ye.act=y1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=h1({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Wv.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)p1.call(e,l)&&!m1.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:gu,type:t.type,key:r,ref:s,props:i,_owner:o}};ye.createContext=function(t){return t={$$typeof:FD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VD,_context:t},t.Consumer=t};ye.createElement=g1;ye.createFactory=function(t){var e=g1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:$D,render:t}};ye.isValidElement=Hv;ye.lazy=function(t){return{$$typeof:BD,_payload:{_status:-1,_result:t},_init:qD}};ye.memo=function(t,e){return{$$typeof:UD,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=ud.transition;ud.transition={};try{t()}finally{ud.transition=e}};ye.unstable_act=y1;ye.useCallback=function(t,e){return rn.current.useCallback(t,e)};ye.useContext=function(t){return rn.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};ye.useEffect=function(t,e){return rn.current.useEffect(t,e)};ye.useId=function(){return rn.current.useId()};ye.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return rn.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};ye.useRef=function(t){return rn.current.useRef(t)};ye.useState=function(t){return rn.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return rn.current.useTransition()};ye.version="18.3.1";c1.exports=ye;var j=c1.exports;const W=Uv(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KD=j,YD=Symbol.for("react.element"),QD=Symbol.for("react.fragment"),XD=Object.prototype.hasOwnProperty,JD=KD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZD={key:!0,ref:!0,__self:!0,__source:!0};function v1(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)XD.call(e,i)&&!ZD.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:YD,type:t,key:s,ref:o,props:r,_owner:JD.current}}Zf.Fragment=QD;Zf.jsx=v1;Zf.jsxs=v1;l1.exports=Zf;var I=l1.exports,_1={exports:{}},Rn={},w1={exports:{}},b1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,B){var $=U.length;U.push(B);e:for(;0<$;){var X=$-1>>>1,q=U[X];if(0<r(q,B))U[X]=B,U[$]=q,$=X;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var B=U[0],$=U.pop();if($!==B){U[0]=$;e:for(var X=0,q=U.length,re=q>>>1;X<re;){var oe=2*(X+1)-1,ue=U[oe],ve=oe+1,Ie=U[ve];if(0>r(ue,$))ve<q&&0>r(Ie,ue)?(U[X]=Ie,U[ve]=$,X=ve):(U[X]=ue,U[oe]=$,X=oe);else if(ve<q&&0>r(Ie,$))U[X]=Ie,U[ve]=$,X=ve;else break e}}return B}function r(U,B){var $=U.sortIndex-B.sortIndex;return $!==0?$:U.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=U)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function A(U){if(y=!1,S(U),!g)if(n(l)!==null)g=!0,Q(D);else{var B=n(c);B!==null&&ie(A,B.startTime-U)}}function D(U,B){g=!1,y&&(y=!1,_(w),w=-1),p=!0;var $=f;try{for(S(B),d=n(l);d!==null&&(!(d.expirationTime>B)||U&&!P());){var X=d.callback;if(typeof X=="function"){d.callback=null,f=d.priorityLevel;var q=X(d.expirationTime<=B);B=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&i(l),S(B)}else i(l);d=n(l)}if(d!==null)var re=!0;else{var oe=n(c);oe!==null&&ie(A,oe.startTime-B),re=!1}return re}finally{d=null,f=$,p=!1}}var M=!1,E=null,w=-1,T=5,C=-1;function P(){return!(t.unstable_now()-C<T)}function O(){if(E!==null){var U=t.unstable_now();C=U;var B=!0;try{B=E(!0,U)}finally{B?R():(M=!1,E=null)}}else M=!1}var R;if(typeof v=="function")R=function(){v(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,G=Y.port2;Y.port1.onmessage=O,R=function(){G.postMessage(null)}}else R=function(){x(O,0)};function Q(U){E=U,M||(M=!0,R())}function ie(U,B){w=x(function(){U(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,Q(D))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var $=f;f=B;try{return U()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,B){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=f;f=U;try{return B()}finally{f=$}},t.unstable_scheduleCallback=function(U,B,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,U={id:u++,callback:B,priorityLevel:U,startTime:$,expirationTime:q,sortIndex:-1},$>X?(U.sortIndex=$,e(c,U),n(l)===null&&U===n(c)&&(y?(_(w),w=-1):y=!0,ie(A,$-X))):(U.sortIndex=q,e(l,U),g||p||(g=!0,Q(D))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var B=f;return function(){var $=f;f=B;try{return U.apply(this,arguments)}finally{f=$}}}})(b1);w1.exports=b1;var eM=w1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tM=j,Pn=eM;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E1=new Set,Ac={};function bo(t,e){Ea(t,e),Ea(t+"Capture",e)}function Ea(t,e){for(Ac[t]=e,t=0;t<e.length;t++)E1.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zg=Object.prototype.hasOwnProperty,nM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ib={},rb={};function iM(t){return zg.call(rb,t)?!0:zg.call(ib,t)?!1:nM.test(t)?rb[t]=!0:(ib[t]=!0,!1)}function rM(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sM(t,e,n,i){if(e===null||typeof e>"u"||rM(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var qv=/[\-:]([a-z])/g;function Gv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qv,Gv);Mt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qv,Gv);Mt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qv,Gv);Mt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kv(t,e,n,i){var r=Mt.hasOwnProperty(e)?Mt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sM(e,n,r,i)&&(n=null),i||r===null?iM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var mr=tM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Yv=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),T1=Symbol.for("react.context"),Qv=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),qg=Symbol.for("react.suspense_list"),Xv=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),S1=Symbol.for("react.offscreen"),sb=Symbol.iterator;function Sl(t){return t===null||typeof t!="object"?null:(t=sb&&t[sb]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Sm;function zl(t){if(Sm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sm=e&&e[1]||""}return"\n"+Sm+t}var Im=!1;function Cm(t,e){if(!t||Im)return"";Im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Im=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zl(t):""}function oM(t){switch(t.tag){case 5:return zl(t.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return t=Cm(t.type,!1),t;case 11:return t=Cm(t.type.render,!1),t;case 1:return t=Cm(t.type,!0),t;default:return""}}function Gg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Qo:return"Portal";case Wg:return"Profiler";case Yv:return"StrictMode";case Hg:return"Suspense";case qg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T1:return(t.displayName||"Context")+".Consumer";case x1:return(t._context.displayName||"Context")+".Provider";case Qv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xv:return e=t.displayName||null,e!==null?e:Gg(t.type)||"Memo";case Rr:e=t._payload,t=t._init;try{return Gg(t(e))}catch(n){}}return null}function aM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gg(e);case 8:return e===Yv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lM(t){var e=I1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _h(t){t._valueTracker||(t._valueTracker=lM(t))}function C1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=I1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Fd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Kg(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function ob(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k1(t,e){e=e.checked,e!=null&&Kv(t,"checked",e,!1)}function Yg(t,e){k1(t,e);var n=ss(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qg(t,e.type,ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ab(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qg(t,e,n){(e!=="number"||Fd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wl=Array.isArray;function ca(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ss(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Wl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ss(n)}}function P1(t,e){var n=ss(e.value),i=ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function cb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,R1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cM=["Webkit","ms","Moz","O"];Object.keys(sc).forEach(function(t){cM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sc[e]=sc[t]})});function O1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sc.hasOwnProperty(t)&&sc[t]?(""+e).trim():e+"px"}function D1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=O1(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var uM=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(t,e){if(e){if(uM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=null;function Jv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ny=null,ua=null,ha=null;function ub(t){if(t=_u(t)){if(typeof ny!="function")throw Error(K(280));var e=t.stateNode;e&&(e=rp(e),ny(t.stateNode,t.type,e))}}function M1(t){ua?ha?ha.push(t):ha=[t]:ua=t}function L1(){if(ua){var t=ua,e=ha;if(ha=ua=null,ub(t),e)for(t=0;t<e.length;t++)ub(e[t])}}function N1(t,e){return t(e)}function V1(){}var km=!1;function F1(t,e,n){if(km)return t(e,n);km=!0;try{return N1(t,e,n)}finally{km=!1,(ua!==null||ha!==null)&&(V1(),L1())}}function Oc(t,e){var n=t.stateNode;if(n===null)return null;var i=rp(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var iy=!1;if(lr)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){iy=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch(t){iy=!1}function hM(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var oc=!1,$d=null,jd=!1,ry=null,dM={onError:function(t){oc=!0,$d=t}};function fM(t,e,n,i,r,s,o,a,l){oc=!1,$d=null,hM.apply(dM,arguments)}function pM(t,e,n,i,r,s,o,a,l){if(fM.apply(this,arguments),oc){if(oc){var c=$d;oc=!1,$d=null}else throw Error(K(198));jd||(jd=!0,ry=c)}}function Eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hb(t){if(Eo(t)!==t)throw Error(K(188))}function mM(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return hb(r),t;if(s===i)return hb(r),e;s=s.sibling}throw Error(K(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==i)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function j1(t){return t=mM(t),t!==null?U1(t):null}function U1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U1(t);if(e!==null)return e;t=t.sibling}return null}var B1=Pn.unstable_scheduleCallback,db=Pn.unstable_cancelCallback,gM=Pn.unstable_shouldYield,yM=Pn.unstable_requestPaint,it=Pn.unstable_now,vM=Pn.unstable_getCurrentPriorityLevel,Zv=Pn.unstable_ImmediatePriority,z1=Pn.unstable_UserBlockingPriority,Ud=Pn.unstable_NormalPriority,_M=Pn.unstable_LowPriority,W1=Pn.unstable_IdlePriority,ep=null,Si=null;function wM(t){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(ep,t,void 0,(t.current.flags&128)===128)}catch(e){}}var Zn=Math.clz32?Math.clz32:xM,bM=Math.log,EM=Math.LN2;function xM(t){return t>>>=0,t===0?32:31-(bM(t)/EM|0)|0}var bh=64,Eh=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bd(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Hl(a):(s&=o,s!==0&&(i=Hl(s)))}else o=n&~r,o!==0?i=Hl(o):s!==0&&(i=Hl(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Zn(e),r=1<<n,i|=t[n],e&=~r;return i}function TM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SM(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=TM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function sy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H1(){var t=bh;return bh<<=1,!(bh&4194240)&&(bh=64),t}function Pm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function IM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Zn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function e_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Zn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Pe=0;function q1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G1,t_,K1,Y1,Q1,oy=!1,xh=[],Hr=null,qr=null,Gr=null,Dc=new Map,Mc=new Map,Dr=[],CM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fb(t,e){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(e.pointerId)}}function Cl(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=_u(e),e!==null&&t_(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function kM(t,e,n,i,r){switch(e){case"focusin":return Hr=Cl(Hr,t,e,n,i,r),!0;case"dragenter":return qr=Cl(qr,t,e,n,i,r),!0;case"mouseover":return Gr=Cl(Gr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Dc.set(s,Cl(Dc.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Mc.set(s,Cl(Mc.get(s)||null,t,e,n,i,r)),!0}return!1}function X1(t){var e=$s(t.target);if(e!==null){var n=Eo(e);if(n!==null){if(e=n.tag,e===13){if(e=$1(n),e!==null){t.blockedOn=e,Q1(t.priority,function(){K1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);ty=i,n.target.dispatchEvent(i),ty=null}else return e=_u(n),e!==null&&t_(e),t.blockedOn=n,!1;e.shift()}return!0}function pb(t,e,n){hd(t)&&n.delete(e)}function PM(){oy=!1,Hr!==null&&hd(Hr)&&(Hr=null),qr!==null&&hd(qr)&&(qr=null),Gr!==null&&hd(Gr)&&(Gr=null),Dc.forEach(pb),Mc.forEach(pb)}function kl(t,e){t.blockedOn===e&&(t.blockedOn=null,oy||(oy=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,PM)))}function Lc(t){function e(r){return kl(r,t)}if(0<xh.length){kl(xh[0],t);for(var n=1;n<xh.length;n++){var i=xh[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Hr!==null&&kl(Hr,t),qr!==null&&kl(qr,t),Gr!==null&&kl(Gr,t),Dc.forEach(e),Mc.forEach(e),n=0;n<Dr.length;n++)i=Dr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Dr.length&&(n=Dr[0],n.blockedOn===null);)X1(n),n.blockedOn===null&&Dr.shift()}var da=mr.ReactCurrentBatchConfig,zd=!0;function AM(t,e,n,i){var r=Pe,s=da.transition;da.transition=null;try{Pe=1,n_(t,e,n,i)}finally{Pe=r,da.transition=s}}function RM(t,e,n,i){var r=Pe,s=da.transition;da.transition=null;try{Pe=4,n_(t,e,n,i)}finally{Pe=r,da.transition=s}}function n_(t,e,n,i){if(zd){var r=ay(t,e,n,i);if(r===null)$m(t,e,i,Wd,n),fb(t,i);else if(kM(r,t,e,n,i))i.stopPropagation();else if(fb(t,i),e&4&&-1<CM.indexOf(t)){for(;r!==null;){var s=_u(r);if(s!==null&&G1(s),s=ay(t,e,n,i),s===null&&$m(t,e,i,Wd,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else $m(t,e,i,null,n)}}var Wd=null;function ay(t,e,n,i){if(Wd=null,t=Jv(i),t=$s(t),t!==null)if(e=Eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wd=t,null}function J1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vM()){case Zv:return 1;case z1:return 4;case Ud:case _M:return 16;case W1:return 536870912;default:return 16}default:return 16}}var $r=null,i_=null,dd=null;function Z1(){if(dd)return dd;var t,e=i_,n=e.length,i,r="value"in $r?$r.value:$r.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return dd=r.slice(t,1<i?1-i:void 0)}function fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function mb(){return!1}function On(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Th:mb,this.isPropagationStopped=mb,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r_=On(Wa),vu=Ke({},Wa,{view:0,detail:0}),OM=On(vu),Am,Rm,Pl,tp=Ke({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pl&&(Pl&&t.type==="mousemove"?(Am=t.screenX-Pl.screenX,Rm=t.screenY-Pl.screenY):Rm=Am=0,Pl=t),Am)},movementY:function(t){return"movementY"in t?t.movementY:Rm}}),gb=On(tp),DM=Ke({},tp,{dataTransfer:0}),MM=On(DM),LM=Ke({},vu,{relatedTarget:0}),Om=On(LM),NM=Ke({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),VM=On(NM),FM=Ke({},Wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$M=On(FM),jM=Ke({},Wa,{data:0}),yb=On(jM),UM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zM[t])?!!e[t]:!1}function s_(){return WM}var HM=Ke({},vu,{key:function(t){if(t.key){var e=UM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s_,charCode:function(t){return t.type==="keypress"?fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qM=On(HM),GM=Ke({},tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vb=On(GM),KM=Ke({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s_}),YM=On(KM),QM=Ke({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),XM=On(QM),JM=Ke({},tp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZM=On(JM),eL=[9,13,27,32],o_=lr&&"CompositionEvent"in window,ac=null;lr&&"documentMode"in document&&(ac=document.documentMode);var tL=lr&&"TextEvent"in window&&!ac,eI=lr&&(!o_||ac&&8<ac&&11>=ac),_b=" ",wb=!1;function tI(t,e){switch(t){case"keyup":return eL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function nL(t,e){switch(t){case"compositionend":return nI(e);case"keypress":return e.which!==32?null:(wb=!0,_b);case"textInput":return t=e.data,t===_b&&wb?null:t;default:return null}}function iL(t,e){if(Jo)return t==="compositionend"||!o_&&tI(t,e)?(t=Z1(),dd=i_=$r=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eI&&e.locale!=="ko"?null:e.data;default:return null}}var rL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rL[t.type]:e==="textarea"}function iI(t,e,n,i){M1(i),e=Hd(e,"onChange"),0<e.length&&(n=new r_("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var lc=null,Nc=null;function sL(t){pI(t,0)}function np(t){var e=ta(t);if(C1(e))return t}function oL(t,e){if(t==="change")return e}var rI=!1;if(lr){var Dm;if(lr){var Mm="oninput"in document;if(!Mm){var Eb=document.createElement("div");Eb.setAttribute("oninput","return;"),Mm=typeof Eb.oninput=="function"}Dm=Mm}else Dm=!1;rI=Dm&&(!document.documentMode||9<document.documentMode)}function xb(){lc&&(lc.detachEvent("onpropertychange",sI),Nc=lc=null)}function sI(t){if(t.propertyName==="value"&&np(Nc)){var e=[];iI(e,Nc,t,Jv(t)),F1(sL,e)}}function aL(t,e,n){t==="focusin"?(xb(),lc=e,Nc=n,lc.attachEvent("onpropertychange",sI)):t==="focusout"&&xb()}function lL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return np(Nc)}function cL(t,e){if(t==="click")return np(e)}function uL(t,e){if(t==="input"||t==="change")return np(e)}function hL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ri=typeof Object.is=="function"?Object.is:hL;function Vc(t,e){if(ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!zg.call(e,r)||!ri(t[r],e[r]))return!1}return!0}function Tb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sb(t,e){var n=Tb(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tb(n)}}function oI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aI(){for(var t=window,e=Fd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=Fd(t.document)}return e}function a_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dL(t){var e=aI(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oI(n.ownerDocument.documentElement,n)){if(i!==null&&a_(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Sb(n,s);var o=Sb(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fL=lr&&"documentMode"in document&&11>=document.documentMode,Zo=null,ly=null,cc=null,cy=!1;function Ib(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cy||Zo==null||Zo!==Fd(i)||(i=Zo,"selectionStart"in i&&a_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),cc&&Vc(cc,i)||(cc=i,i=Hd(ly,"onSelect"),0<i.length&&(e=new r_("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Zo)))}function Sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ea={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Lm={},lI={};lr&&(lI=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function ip(t){if(Lm[t])return Lm[t];if(!ea[t])return t;var e=ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lI)return Lm[t]=e[n];return t}var cI=ip("animationend"),uI=ip("animationiteration"),hI=ip("animationstart"),dI=ip("transitionend"),fI=new Map,Cb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(t,e){fI.set(t,e),bo(e,[t])}for(var Nm=0;Nm<Cb.length;Nm++){var Vm=Cb[Nm],pL=Vm.toLowerCase(),mL=Vm[0].toUpperCase()+Vm.slice(1);ps(pL,"on"+mL)}ps(cI,"onAnimationEnd");ps(uI,"onAnimationIteration");ps(hI,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(dI,"onTransitionEnd");Ea("onMouseEnter",["mouseout","mouseover"]);Ea("onMouseLeave",["mouseout","mouseover"]);Ea("onPointerEnter",["pointerout","pointerover"]);Ea("onPointerLeave",["pointerout","pointerover"]);bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gL=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function kb(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,pM(i,e,void 0,t),t.currentTarget=null}function pI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;kb(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;kb(r,a,c),s=l}}}if(jd)throw t=ry,jd=!1,ry=null,t}function Ve(t,e){var n=e[py];n===void 0&&(n=e[py]=new Set);var i=t+"__bubble";n.has(i)||(mI(e,t,2,!1),n.add(i))}function Fm(t,e,n){var i=0;e&&(i|=4),mI(n,t,i,e)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Fc(t){if(!t[Ih]){t[Ih]=!0,E1.forEach(function(n){n!=="selectionchange"&&(gL.has(n)||Fm(n,!1,t),Fm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ih]||(e[Ih]=!0,Fm("selectionchange",!1,e))}}function mI(t,e,n,i){switch(J1(e)){case 1:var r=AM;break;case 4:r=RM;break;default:r=n_}n=r.bind(null,e,n,t),r=void 0,!iy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function $m(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=$s(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}F1(function(){var c=s,u=Jv(n),d=[];e:{var f=fI.get(t);if(f!==void 0){var p=r_,g=t;switch(t){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":p=qM;break;case"focusin":g="focus",p=Om;break;case"focusout":g="blur",p=Om;break;case"beforeblur":case"afterblur":p=Om;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YM;break;case cI:case uI:case hI:p=VM;break;case dI:p=XM;break;case"scroll":p=OM;break;case"wheel":p=ZM;break;case"copy":case"cut":case"paste":p=$M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vb}var y=(e&4)!==0,x=!y&&t==="scroll",_=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,S;v!==null;){S=v;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,_!==null&&(A=Oc(v,_),A!=null&&y.push($c(v,A,S)))),x)break;v=v.return}0<y.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==ty&&(g=n.relatedTarget||n.fromElement)&&($s(g)||g[cr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?$s(g):null,g!==null&&(x=Eo(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=gb,A="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=vb,A="onPointerLeave",_="onPointerEnter",v="pointer"),x=p==null?f:ta(p),S=g==null?f:ta(g),f=new y(A,v+"leave",p,n,u),f.target=x,f.relatedTarget=S,A=null,$s(u)===c&&(y=new y(_,v+"enter",g,n,u),y.target=S,y.relatedTarget=x,A=y),x=A,p&&g)t:{for(y=p,_=g,v=0,S=y;S;S=jo(S))v++;for(S=0,A=_;A;A=jo(A))S++;for(;0<v-S;)y=jo(y),v--;for(;0<S-v;)_=jo(_),S--;for(;v--;){if(y===_||_!==null&&y===_.alternate)break t;y=jo(y),_=jo(_)}y=null}else y=null;p!==null&&Pb(d,f,p,y,!1),g!==null&&x!==null&&Pb(d,x,g,y,!0)}}e:{if(f=c?ta(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var D=oL;else if(bb(f))if(rI)D=uL;else{D=lL;var M=aL}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=cL);if(D&&(D=D(t,c))){iI(d,D,n,u);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Qg(f,"number",f.value)}switch(M=c?ta(c):window,t){case"focusin":(bb(M)||M.contentEditable==="true")&&(Zo=M,ly=c,cc=null);break;case"focusout":cc=ly=Zo=null;break;case"mousedown":cy=!0;break;case"contextmenu":case"mouseup":case"dragend":cy=!1,Ib(d,n,u);break;case"selectionchange":if(fL)break;case"keydown":case"keyup":Ib(d,n,u)}var E;if(o_)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Jo?tI(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(eI&&n.locale!=="ko"&&(Jo||w!=="onCompositionStart"?w==="onCompositionEnd"&&Jo&&(E=Z1()):($r=u,i_="value"in $r?$r.value:$r.textContent,Jo=!0)),M=Hd(c,w),0<M.length&&(w=new yb(w,t,null,n,u),d.push({event:w,listeners:M}),E?w.data=E:(E=nI(n),E!==null&&(w.data=E)))),(E=tL?nL(t,n):iL(t,n))&&(c=Hd(c,"onBeforeInput"),0<c.length&&(u=new yb("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}pI(d,e)})}function $c(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hd(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Oc(t,n),s!=null&&i.unshift($c(t,s,r)),s=Oc(t,e),s!=null&&i.push($c(t,s,r))),t=t.return}return i}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pb(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Oc(n,s),l!=null&&o.unshift($c(n,l,a))):r||(l=Oc(n,s),l!=null&&o.push($c(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yL=/\r\n?/g,vL=/\u0000|\uFFFD/g;function Ab(t){return(typeof t=="string"?t:""+t).replace(yL,"\n").replace(vL,"")}function Ch(t,e,n){if(e=Ab(e),Ab(t)!==e&&n)throw Error(K(425))}function qd(){}var uy=null,hy=null;function dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fy=typeof setTimeout=="function"?setTimeout:void 0,_L=typeof clearTimeout=="function"?clearTimeout:void 0,Rb=typeof Promise=="function"?Promise:void 0,wL=typeof queueMicrotask=="function"?queueMicrotask:typeof Rb<"u"?function(t){return Rb.resolve(null).then(t).catch(bL)}:fy;function bL(t){setTimeout(function(){throw t})}function jm(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Lc(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Lc(e)}function Kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ob(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),_i="__reactFiber$"+Ha,jc="__reactProps$"+Ha,cr="__reactContainer$"+Ha,py="__reactEvents$"+Ha,EL="__reactListeners$"+Ha,xL="__reactHandles$"+Ha;function $s(t){var e=t[_i];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[_i]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ob(t);t!==null;){if(n=t[_i])return n;t=Ob(t)}return e}t=n,n=t.parentNode}return null}function _u(t){return t=t[_i]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function rp(t){return t[jc]||null}var my=[],na=-1;function ms(t){return{current:t}}function $e(t){0>na||(t.current=my[na],my[na]=null,na--)}function Le(t,e){na++,my[na]=t.current,t.current=e}var os={},Yt=ms(os),pn=ms(!1),eo=os;function xa(t,e){var n=t.type.contextTypes;if(!n)return os;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function mn(t){return t=t.childContextTypes,t!=null}function Gd(){$e(pn),$e(Yt)}function Db(t,e,n){if(Yt.current!==os)throw Error(K(168));Le(Yt,e),Le(pn,n)}function gI(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(K(108,aM(t)||"Unknown",r));return Ke({},n,i)}function Kd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,eo=Yt.current,Le(Yt,t),Le(pn,pn.current),!0}function Mb(t,e,n){var i=t.stateNode;if(!i)throw Error(K(169));n?(t=gI(t,e,eo),i.__reactInternalMemoizedMergedChildContext=t,$e(pn),$e(Yt),Le(Yt,t)):$e(pn),Le(pn,n)}var Hi=null,sp=!1,Um=!1;function yI(t){Hi===null?Hi=[t]:Hi.push(t)}function TL(t){sp=!0,yI(t)}function gs(){if(!Um&&Hi!==null){Um=!0;var t=0,e=Pe;try{var n=Hi;for(Pe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Hi=null,sp=!1}catch(r){throw Hi!==null&&(Hi=Hi.slice(t+1)),B1(Zv,gs),r}finally{Pe=e,Um=!1}}return null}var ia=[],ra=0,Yd=null,Qd=0,Ln=[],Nn=0,to=null,Yi=1,Qi="";function Ds(t,e){ia[ra++]=Qd,ia[ra++]=Yd,Yd=t,Qd=e}function vI(t,e,n){Ln[Nn++]=Yi,Ln[Nn++]=Qi,Ln[Nn++]=to,to=t;var i=Yi;t=Qi;var r=32-Zn(i)-1;i&=~(1<<r),n+=1;var s=32-Zn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Yi=1<<32-Zn(e)+r|n<<r|i,Qi=s+t}else Yi=1<<s|n<<r|i,Qi=t}function l_(t){t.return!==null&&(Ds(t,1),vI(t,1,0))}function c_(t){for(;t===Yd;)Yd=ia[--ra],ia[ra]=null,Qd=ia[--ra],ia[ra]=null;for(;t===to;)to=Ln[--Nn],Ln[Nn]=null,Qi=Ln[--Nn],Ln[Nn]=null,Yi=Ln[--Nn],Ln[Nn]=null}var kn=null,Tn=null,Be=!1,Xn=null;function _I(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,Tn=Kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=to!==null?{id:Yi,overflow:Qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,Tn=null,!0):!1;default:return!1}}function gy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yy(t){if(Be){var e=Tn;if(e){var n=e;if(!Lb(t,e)){if(gy(t))throw Error(K(418));e=Kr(n.nextSibling);var i=kn;e&&Lb(t,e)?_I(i,n):(t.flags=t.flags&-4097|2,Be=!1,kn=t)}}else{if(gy(t))throw Error(K(418));t.flags=t.flags&-4097|2,Be=!1,kn=t}}}function Nb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function kh(t){if(t!==kn)return!1;if(!Be)return Nb(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dy(t.type,t.memoizedProps)),e&&(e=Tn)){if(gy(t))throw wI(),Error(K(418));for(;e;)_I(t,e),e=Kr(e.nextSibling)}if(Nb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=Kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=kn?Kr(t.stateNode.nextSibling):null;return!0}function wI(){for(var t=Tn;t;)t=Kr(t.nextSibling)}function Ta(){Tn=kn=null,Be=!1}function u_(t){Xn===null?Xn=[t]:Xn.push(t)}var SL=mr.ReactCurrentBatchConfig;function Al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var i=n.stateNode}if(!i)throw Error(K(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Ph(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vb(t){var e=t._init;return e(t._payload)}function bI(t){function e(_,v){if(t){var S=_.deletions;S===null?(_.deletions=[v],_.flags|=16):S.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function i(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function r(_,v){return _=Jr(_,v),_.index=0,_.sibling=null,_}function s(_,v,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<v?(_.flags|=2,v):S):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,S,A){return v===null||v.tag!==6?(v=Km(S,_.mode,A),v.return=_,v):(v=r(v,S),v.return=_,v)}function l(_,v,S,A){var D=S.type;return D===Xo?u(_,v,S.props.children,A,S.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Rr&&Vb(D)===v.type)?(A=r(v,S.props),A.ref=Al(_,v,S),A.return=_,A):(A=wd(S.type,S.key,S.props,null,_.mode,A),A.ref=Al(_,v,S),A.return=_,A)}function c(_,v,S,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Ym(S,_.mode,A),v.return=_,v):(v=r(v,S.children||[]),v.return=_,v)}function u(_,v,S,A,D){return v===null||v.tag!==7?(v=Gs(S,_.mode,A,D),v.return=_,v):(v=r(v,S),v.return=_,v)}function d(_,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Km(""+v,_.mode,S),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vh:return S=wd(v.type,v.key,v.props,null,_.mode,S),S.ref=Al(_,null,v),S.return=_,S;case Qo:return v=Ym(v,_.mode,S),v.return=_,v;case Rr:var A=v._init;return d(_,A(v._payload),S)}if(Wl(v)||Sl(v))return v=Gs(v,_.mode,S,null),v.return=_,v;Ph(_,v)}return null}function f(_,v,S,A){var D=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(_,v,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vh:return S.key===D?l(_,v,S,A):null;case Qo:return S.key===D?c(_,v,S,A):null;case Rr:return D=S._init,f(_,v,D(S._payload),A)}if(Wl(S)||Sl(S))return D!==null?null:u(_,v,S,A,null);Ph(_,S)}return null}function p(_,v,S,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(S)||null,a(v,_,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case vh:return _=_.get(A.key===null?S:A.key)||null,l(v,_,A,D);case Qo:return _=_.get(A.key===null?S:A.key)||null,c(v,_,A,D);case Rr:var M=A._init;return p(_,v,S,M(A._payload),D)}if(Wl(A)||Sl(A))return _=_.get(S)||null,u(v,_,A,D,null);Ph(v,A)}return null}function g(_,v,S,A){for(var D=null,M=null,E=v,w=v=0,T=null;E!==null&&w<S.length;w++){E.index>w?(T=E,E=null):T=E.sibling;var C=f(_,E,S[w],A);if(C===null){E===null&&(E=T);break}t&&E&&C.alternate===null&&e(_,E),v=s(C,v,w),M===null?D=C:M.sibling=C,M=C,E=T}if(w===S.length)return n(_,E),Be&&Ds(_,w),D;if(E===null){for(;w<S.length;w++)E=d(_,S[w],A),E!==null&&(v=s(E,v,w),M===null?D=E:M.sibling=E,M=E);return Be&&Ds(_,w),D}for(E=i(_,E);w<S.length;w++)T=p(E,_,w,S[w],A),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?w:T.key),v=s(T,v,w),M===null?D=T:M.sibling=T,M=T);return t&&E.forEach(function(P){return e(_,P)}),Be&&Ds(_,w),D}function y(_,v,S,A){var D=Sl(S);if(typeof D!="function")throw Error(K(150));if(S=D.call(S),S==null)throw Error(K(151));for(var M=D=null,E=v,w=v=0,T=null,C=S.next();E!==null&&!C.done;w++,C=S.next()){E.index>w?(T=E,E=null):T=E.sibling;var P=f(_,E,C.value,A);if(P===null){E===null&&(E=T);break}t&&E&&P.alternate===null&&e(_,E),v=s(P,v,w),M===null?D=P:M.sibling=P,M=P,E=T}if(C.done)return n(_,E),Be&&Ds(_,w),D;if(E===null){for(;!C.done;w++,C=S.next())C=d(_,C.value,A),C!==null&&(v=s(C,v,w),M===null?D=C:M.sibling=C,M=C);return Be&&Ds(_,w),D}for(E=i(_,E);!C.done;w++,C=S.next())C=p(E,_,w,C.value,A),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?w:C.key),v=s(C,v,w),M===null?D=C:M.sibling=C,M=C);return t&&E.forEach(function(O){return e(_,O)}),Be&&Ds(_,w),D}function x(_,v,S,A){if(typeof S=="object"&&S!==null&&S.type===Xo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case vh:e:{for(var D=S.key,M=v;M!==null;){if(M.key===D){if(D=S.type,D===Xo){if(M.tag===7){n(_,M.sibling),v=r(M,S.props.children),v.return=_,_=v;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Rr&&Vb(D)===M.type){n(_,M.sibling),v=r(M,S.props),v.ref=Al(_,M,S),v.return=_,_=v;break e}n(_,M);break}else e(_,M);M=M.sibling}S.type===Xo?(v=Gs(S.props.children,_.mode,A,S.key),v.return=_,_=v):(A=wd(S.type,S.key,S.props,null,_.mode,A),A.ref=Al(_,v,S),A.return=_,_=A)}return o(_);case Qo:e:{for(M=S.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(_,v.sibling),v=r(v,S.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Ym(S,_.mode,A),v.return=_,_=v}return o(_);case Rr:return M=S._init,x(_,v,M(S._payload),A)}if(Wl(S))return g(_,v,S,A);if(Sl(S))return y(_,v,S,A);Ph(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(_,v.sibling),v=r(v,S),v.return=_,_=v):(n(_,v),v=Km(S,_.mode,A),v.return=_,_=v),o(_)):n(_,v)}return x}var Sa=bI(!0),EI=bI(!1),Xd=ms(null),Jd=null,sa=null,h_=null;function d_(){h_=sa=Jd=null}function f_(t){var e=Xd.current;$e(Xd),t._currentValue=e}function vy(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function fa(t,e){Jd=t,h_=sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(h_!==t)if(t={context:t,memoizedValue:e,next:null},sa===null){if(Jd===null)throw Error(K(308));sa=t,Jd.dependencies={lanes:0,firstContext:t}}else sa=sa.next=t;return e}var js=null;function p_(t){js===null?js=[t]:js.push(t)}function xI(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,p_(e)):(n.next=r.next,r.next=n),e.interleaved=n,ur(t,i)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Or=!1;function m_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,xe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ur(t,n)}return r=i.interleaved,r===null?(e.next=e,p_(i)):(e.next=r.next,r.next=e),i.interleaved=e,ur(t,n)}function pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,e_(t,n)}}function Fb(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zd(t,e,n,i){var r=t.updateQueue;Or=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=Ke({},d,f);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);io|=o,t.lanes=o,t.memoizedState=d}}function $b(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(K(191,r));r.call(i)}}}var wu={},Ii=ms(wu),Uc=ms(wu),Bc=ms(wu);function Us(t){if(t===wu)throw Error(K(174));return t}function g_(t,e){switch(Le(Bc,e),Le(Uc,t),Le(Ii,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jg(e,t)}$e(Ii),Le(Ii,e)}function Ia(){$e(Ii),$e(Uc),$e(Bc)}function SI(t){Us(Bc.current);var e=Us(Ii.current),n=Jg(e,t.type);e!==n&&(Le(Uc,t),Le(Ii,n))}function y_(t){Uc.current===t&&($e(Ii),$e(Uc))}var qe=ms(0);function ef(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bm=[];function v_(){for(var t=0;t<Bm.length;t++)Bm[t]._workInProgressVersionPrimary=null;Bm.length=0}var md=mr.ReactCurrentDispatcher,zm=mr.ReactCurrentBatchConfig,no=0,Ge=null,ft=null,Et=null,tf=!1,uc=!1,zc=0,IL=0;function jt(){throw Error(K(321))}function __(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ri(t[n],e[n]))return!1;return!0}function w_(t,e,n,i,r,s){if(no=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,md.current=t===null||t.memoizedState===null?AL:RL,t=n(i,r),uc){s=0;do{if(uc=!1,zc=0,25<=s)throw Error(K(301));s+=1,Et=ft=null,e.updateQueue=null,md.current=OL,t=n(i,r)}while(uc)}if(md.current=nf,e=ft!==null&&ft.next!==null,no=0,Et=ft=Ge=null,tf=!1,e)throw Error(K(300));return t}function b_(){var t=zc!==0;return zc=0,t}function yi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ge.memoizedState=Et=t:Et=Et.next=t,Et}function zn(){if(ft===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=Et===null?Ge.memoizedState:Et.next;if(e!==null)Et=e,ft=t;else{if(t===null)throw Error(K(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Et===null?Ge.memoizedState=Et=t:Et=Et.next=t}return Et}function Wc(t,e){return typeof e=="function"?e(t):e}function Wm(t){var e=zn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=ft,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((no&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Ge.lanes|=u,io|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,ri(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ge.lanes|=s,io|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hm(t){var e=zn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);ri(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function II(){}function CI(t,e){var n=Ge,i=zn(),r=e(),s=!ri(i.memoizedState,r);if(s&&(i.memoizedState=r,fn=!0),i=i.queue,E_(AI.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Hc(9,PI.bind(null,n,i,r,e),void 0,null),Tt===null)throw Error(K(349));no&30||kI(n,e,r)}return r}function kI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PI(t,e,n,i){e.value=n,e.getSnapshot=i,RI(e)&&OI(t)}function AI(t,e,n){return n(function(){RI(e)&&OI(t)})}function RI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ri(t,n)}catch(i){return!0}}function OI(t){var e=ur(t,1);e!==null&&ei(e,t,1,-1)}function jb(t){var e=yi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:t},e.queue=t,t=t.dispatch=PL.bind(null,Ge,t),[e.memoizedState,t]}function Hc(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function DI(){return zn().memoizedState}function gd(t,e,n,i){var r=yi();Ge.flags|=t,r.memoizedState=Hc(1|e,n,void 0,i===void 0?null:i)}function op(t,e,n,i){var r=zn();i=i===void 0?null:i;var s=void 0;if(ft!==null){var o=ft.memoizedState;if(s=o.destroy,i!==null&&__(i,o.deps)){r.memoizedState=Hc(e,n,s,i);return}}Ge.flags|=t,r.memoizedState=Hc(1|e,n,s,i)}function Ub(t,e){return gd(8390656,8,t,e)}function E_(t,e){return op(2048,8,t,e)}function MI(t,e){return op(4,2,t,e)}function LI(t,e){return op(4,4,t,e)}function NI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VI(t,e,n){return n=n!=null?n.concat([t]):null,op(4,4,NI.bind(null,e,t),n)}function x_(){}function FI(t,e){var n=zn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&__(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function $I(t,e){var n=zn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&__(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function jI(t,e,n){return no&21?(ri(n,e)||(n=H1(),Ge.lanes|=n,io|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function CL(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var i=zm.transition;zm.transition={};try{t(!1),e()}finally{Pe=n,zm.transition=i}}function UI(){return zn().memoizedState}function kL(t,e,n){var i=Xr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},BI(t))zI(e,n);else if(n=xI(t,e,n,i),n!==null){var r=en();ei(n,t,i,r),WI(n,e,i)}}function PL(t,e,n){var i=Xr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(BI(t))zI(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ri(a,o)){var l=e.interleaved;l===null?(r.next=r,p_(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch(c){}finally{}n=xI(t,e,r,i),n!==null&&(r=en(),ei(n,t,i,r),WI(n,e,i))}}function BI(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function zI(t,e){uc=tf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WI(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,e_(t,n)}}var nf={readContext:Bn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},AL={readContext:Bn,useCallback:function(t,e){return yi().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:Ub,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gd(4194308,4,NI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return gd(4,2,t,e)},useMemo:function(t,e){var n=yi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=yi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=kL.bind(null,Ge,t),[i.memoizedState,t]},useRef:function(t){var e=yi();return t={current:t},e.memoizedState=t},useState:jb,useDebugValue:x_,useDeferredValue:function(t){return yi().memoizedState=t},useTransition:function(){var t=jb(!1),e=t[0];return t=CL.bind(null,t[1]),yi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ge,r=yi();if(Be){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Tt===null)throw Error(K(349));no&30||kI(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Ub(AI.bind(null,i,s,t),[t]),i.flags|=2048,Hc(9,PI.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=yi(),e=Tt.identifierPrefix;if(Be){var n=Qi,i=Yi;n=(i&~(1<<32-Zn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=zc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RL={readContext:Bn,useCallback:FI,useContext:Bn,useEffect:E_,useImperativeHandle:VI,useInsertionEffect:MI,useLayoutEffect:LI,useMemo:$I,useReducer:Wm,useRef:DI,useState:function(){return Wm(Wc)},useDebugValue:x_,useDeferredValue:function(t){var e=zn();return jI(e,ft.memoizedState,t)},useTransition:function(){var t=Wm(Wc)[0],e=zn().memoizedState;return[t,e]},useMutableSource:II,useSyncExternalStore:CI,useId:UI,unstable_isNewReconciler:!1},OL={readContext:Bn,useCallback:FI,useContext:Bn,useEffect:E_,useImperativeHandle:VI,useInsertionEffect:MI,useLayoutEffect:LI,useMemo:$I,useReducer:Hm,useRef:DI,useState:function(){return Hm(Wc)},useDebugValue:x_,useDeferredValue:function(t){var e=zn();return ft===null?e.memoizedState=t:jI(e,ft.memoizedState,t)},useTransition:function(){var t=Hm(Wc)[0],e=zn().memoizedState;return[t,e]},useMutableSource:II,useSyncExternalStore:CI,useId:UI,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _y(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ap={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=en(),r=Xr(t),s=rr(i,r);s.payload=e,n!=null&&(s.callback=n),e=Yr(t,s,r),e!==null&&(ei(e,t,r,i),pd(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=en(),r=Xr(t),s=rr(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yr(t,s,r),e!==null&&(ei(e,t,r,i),pd(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),i=Xr(t),r=rr(n,i);r.tag=2,e!=null&&(r.callback=e),e=Yr(t,r,i),e!==null&&(ei(e,t,i,n),pd(e,t,i))}};function Bb(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Vc(n,i)||!Vc(r,s):!0}function HI(t,e,n){var i=!1,r=os,s=e.contextType;return typeof s=="object"&&s!==null?s=Bn(s):(r=mn(e)?eo:Yt.current,i=e.contextTypes,s=(i=i!=null)?xa(t,r):os),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ap,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function zb(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ap.enqueueReplaceState(e,e.state,null)}function wy(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},m_(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Bn(s):(s=mn(e)?eo:Yt.current,r.context=xa(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_y(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ap.enqueueReplaceState(r,r.state,null),Zd(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ca(t,e){try{var n="",i=e;do n+=oM(i),i=i.return;while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function qm(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function by(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DL=typeof WeakMap=="function"?WeakMap:Map;function qI(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){sf||(sf=!0,Ry=i),by(t,e)},n}function GI(t,e,n){n=rr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){by(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){by(t,e),typeof i!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wb(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new DL;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=GL.bind(null,t,e,n),e.then(t,t))}function Hb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qb(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,Yr(n,e,1))),n.lanes|=1),t)}var ML=mr.ReactCurrentOwner,fn=!1;function Jt(t,e,n,i){e.child=t===null?EI(e,null,n,i):Sa(e,t.child,n,i)}function Gb(t,e,n,i,r){n=n.render;var s=e.ref;return fa(e,r),i=w_(t,e,n,i,s,r),n=b_(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,hr(t,e,r)):(Be&&n&&l_(e),e.flags|=1,Jt(t,e,i,r),e.child)}function Kb(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!R_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,KI(t,e,s,i,r)):(t=wd(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vc,n(o,i)&&t.ref===e.ref)return hr(t,e,r)}return e.flags|=1,t=Jr(s,i),t.ref=e.ref,t.return=e,e.child=t}function KI(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Vc(s,i)&&t.ref===e.ref)if(fn=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,hr(t,e,r)}return Ey(t,e,n,i,r)}function YI(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(aa,bn),bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(aa,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Le(aa,bn),bn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Le(aa,bn),bn|=i;return Jt(t,e,r,n),e.child}function QI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ey(t,e,n,i,r){var s=mn(n)?eo:Yt.current;return s=xa(e,s),fa(e,r),n=w_(t,e,n,i,s,r),i=b_(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,hr(t,e,r)):(Be&&i&&l_(e),e.flags|=1,Jt(t,e,n,r),e.child)}function Yb(t,e,n,i,r){if(mn(n)){var s=!0;Kd(e)}else s=!1;if(fa(e,r),e.stateNode===null)yd(t,e),HI(e,n,i),wy(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Bn(c):(c=mn(n)?eo:Yt.current,c=xa(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&zb(e,o,i,c),Or=!1;var f=e.memoizedState;o.state=f,Zd(e,i,o,r),l=e.memoizedState,a!==i||f!==l||pn.current||Or?(typeof u=="function"&&(_y(e,n,u,i),l=e.memoizedState),(a=Or||Bb(e,n,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,TI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=mn(n)?eo:Yt.current,l=xa(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&zb(e,o,i,l),Or=!1,f=e.memoizedState,o.state=f,Zd(e,i,o,r);var g=e.memoizedState;a!==d||f!==g||pn.current||Or?(typeof p=="function"&&(_y(e,n,p,i),g=e.memoizedState),(c=Or||Bb(e,n,c,i,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return xy(t,e,n,i,s,r)}function xy(t,e,n,i,r,s){QI(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Mb(e,n,!1),hr(t,e,s);i=e.stateNode,ML.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Sa(e,t.child,null,s),e.child=Sa(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=i.state,r&&Mb(e,n,!0),e.child}function XI(t){var e=t.stateNode;e.pendingContext?Db(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Db(t,e.context,!1),g_(t,e.containerInfo)}function Qb(t,e,n,i,r){return Ta(),u_(r),e.flags|=256,Jt(t,e,n,i),e.child}var Ty={dehydrated:null,treeContext:null,retryLane:0};function Sy(t){return{baseLanes:t,cachePool:null,transitions:null}}function JI(t,e,n){var i=e.pendingProps,r=qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Le(qe,r&1),t===null)return yy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=up(o,i,0,null),t=Gs(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sy(n),e.memoizedState=Ty,t):T_(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return LL(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Jr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Jr(a,s):(s=Gs(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Sy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ty,i}return s=t.child,t=s.sibling,i=Jr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function T_(t,e){return e=up({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,n,i){return i!==null&&u_(i),Sa(e,t.child,null,n),t=T_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LL(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=qm(Error(K(422))),Ah(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=up({mode:"visible",children:i.children},r,0,null),s=Gs(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Sa(e,t.child,null,o),e.child.memoizedState=Sy(o),e.memoizedState=Ty,s);if(!(e.mode&1))return Ah(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(K(419)),i=qm(s,i,void 0),Ah(t,e,o,i)}if(a=(o&t.childLanes)!==0,fn||a){if(i=Tt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ur(t,r),ei(i,t,r,-1))}return A_(),i=qm(Error(K(421))),Ah(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=KL.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Tn=Kr(r.nextSibling),kn=e,Be=!0,Xn=null,t!==null&&(Ln[Nn++]=Yi,Ln[Nn++]=Qi,Ln[Nn++]=to,Yi=t.id,Qi=t.overflow,to=e),e=T_(e,i.children),e.flags|=4096,e)}function Xb(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),vy(t.return,e,n)}function Gm(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function ZI(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Jt(t,e,i.children,n),i=qe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xb(t,n,e);else if(t.tag===19)Xb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Le(qe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ef(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Gm(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ef(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Gm(e,!0,n,null,s);break;case"together":Gm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),io|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NL(t,e,n){switch(e.tag){case 3:XI(e),Ta();break;case 5:SI(e);break;case 1:mn(e.type)&&Kd(e);break;case 4:g_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Le(Xd,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Le(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?JI(t,e,n):(Le(qe,qe.current&1),t=hr(t,e,n),t!==null?t.sibling:null);Le(qe,qe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return ZI(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Le(qe,qe.current),i)break;return null;case 22:case 23:return e.lanes=0,YI(t,e,n)}return hr(t,e,n)}var eC,Iy,tC,nC;eC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iy=function(){};tC=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Us(Ii.current);var s=null;switch(n){case"input":r=Kg(t,r),i=Kg(t,i),s=[];break;case"select":r=Ke({},r,{value:void 0}),i=Ke({},i,{value:void 0}),s=[];break;case"textarea":r=Xg(t,r),i=Xg(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=qd)}Zg(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ac.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};nC=function(t,e,n,i){n!==i&&(e.flags|=4)};function Rl(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function VL(t,e,n){var i=e.pendingProps;switch(c_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return mn(e.type)&&Gd(),Ut(e),null;case 3:return i=e.stateNode,Ia(),$e(pn),$e(Yt),v_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(My(Xn),Xn=null))),Iy(t,e),Ut(e),null;case 5:y_(e);var r=Us(Bc.current);if(n=e.type,t!==null&&e.stateNode!=null)tC(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(K(166));return Ut(e),null}if(t=Us(Ii.current),kh(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[_i]=e,i[jc]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(r=0;r<ql.length;r++)Ve(ql[r],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":ob(i,s),Ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",i);break;case"textarea":lb(i,s),Ve("invalid",i)}Zg(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ch(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ch(i.textContent,a,t),r=["children",""+a]):Ac.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",i)}switch(n){case"input":_h(i),ab(i,s,!0);break;case"textarea":_h(i),cb(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=qd)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[_i]=e,t[jc]=i,eC(t,e,!1,!1),e.stateNode=t;e:{switch(o=ey(n,i),n){case"dialog":Ve("cancel",t),Ve("close",t),r=i;break;case"iframe":case"object":case"embed":Ve("load",t),r=i;break;case"video":case"audio":for(r=0;r<ql.length;r++)Ve(ql[r],t);r=i;break;case"source":Ve("error",t),r=i;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),r=i;break;case"details":Ve("toggle",t),r=i;break;case"input":ob(t,i),r=Kg(t,i),Ve("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ke({},i,{value:void 0}),Ve("invalid",t);break;case"textarea":lb(t,i),r=Xg(t,i),Ve("invalid",t);break;default:r=i}Zg(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?D1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&R1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rc(t,l):typeof l=="number"&&Rc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ac.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&Kv(t,s,l,o))}switch(n){case"input":_h(t),ab(t,i,!1);break;case"textarea":_h(t),cb(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ss(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?ca(t,!!i.multiple,s,!1):i.defaultValue!=null&&ca(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=qd)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)nC(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(K(166));if(n=Us(Bc.current),Us(Ii.current),kh(e)){if(i=e.stateNode,n=e.memoizedProps,i[_i]=e,(s=i.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:Ch(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ch(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[_i]=e,e.stateNode=i}return Ut(e),null;case 13:if($e(qe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Tn!==null&&e.mode&1&&!(e.flags&128))wI(),Ta(),e.flags|=98560,s=!1;else if(s=kh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[_i]=e}else Ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else Xn!==null&&(My(Xn),Xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?pt===0&&(pt=3):A_())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Ia(),Iy(t,e),t===null&&Fc(e.stateNode.containerInfo),Ut(e),null;case 10:return f_(e.type._context),Ut(e),null;case 17:return mn(e.type)&&Gd(),Ut(e),null;case 19:if($e(qe),s=e.memoizedState,s===null)return Ut(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Rl(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ef(t),o!==null){for(e.flags|=128,Rl(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(qe,qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>ka&&(e.flags|=128,i=!0,Rl(s,!1),e.lanes=4194304)}else{if(!i)if(t=ef(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return Ut(e),null}else 2*it()-s.renderingStartTime>ka&&n!==1073741824&&(e.flags|=128,i=!0,Rl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=qe.current,Le(qe,i?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return P_(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?bn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function FL(t,e){switch(c_(e),e.tag){case 1:return mn(e.type)&&Gd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(),$e(pn),$e(Yt),v_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return y_(e),null;case 13:if($e(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(qe),null;case 4:return Ia(),null;case 10:return f_(e.type._context),null;case 22:case 23:return P_(),null;case 24:return null;default:return null}}var Rh=!1,qt=!1,$L=typeof WeakSet=="function"?WeakSet:Set,te=null;function oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Je(t,e,i)}else n.current=null}function Cy(t,e,n){try{n()}catch(i){Je(t,e,i)}}var Jb=!1;function jL(t,e){if(uy=zd,t=aI(),a_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(A){n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===r&&(a=o),f===s&&++u===i&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hy={focusedElem:t,selectionRange:n},zd=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Yn(e.type,y),x);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(A){Je(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return g=Jb,Jb=!1,g}function hc(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Cy(e,n,s)}r=r.next}while(r!==i)}}function lp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ky(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iC(t){var e=t.alternate;e!==null&&(t.alternate=null,iC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_i],delete e[jc],delete e[py],delete e[EL],delete e[xL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rC(t){return t.tag===5||t.tag===3||t.tag===4}function Zb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Py(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qd));else if(i!==4&&(t=t.child,t!==null))for(Py(t,e,n),t=t.sibling;t!==null;)Py(t,e,n),t=t.sibling}function Ay(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Ay(t,e,n),t=t.sibling;t!==null;)Ay(t,e,n),t=t.sibling}var Pt=null,Qn=!1;function Ir(t,e,n){for(n=n.child;n!==null;)sC(t,e,n),n=n.sibling}function sC(t,e,n){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(ep,n)}catch(a){}switch(n.tag){case 5:qt||oa(n,e);case 6:var i=Pt,r=Qn;Pt=null,Ir(t,e,n),Pt=i,Qn=r,Pt!==null&&(Qn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Qn?(t=Pt,n=n.stateNode,t.nodeType===8?jm(t.parentNode,n):t.nodeType===1&&jm(t,n),Lc(t)):jm(Pt,n.stateNode));break;case 4:i=Pt,r=Qn,Pt=n.stateNode.containerInfo,Qn=!0,Ir(t,e,n),Pt=i,Qn=r;break;case 0:case 11:case 14:case 15:if(!qt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cy(n,e,o),r=r.next}while(r!==i)}Ir(t,e,n);break;case 1:if(!qt&&(oa(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Je(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(qt=(i=qt)||n.memoizedState!==null,Ir(t,e,n),qt=i):Ir(t,e,n);break;default:Ir(t,e,n)}}function eE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $L),e.forEach(function(i){var r=YL.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Qn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Qn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Qn=!0;break e}a=a.return}if(Pt===null)throw Error(K(160));sC(s,o,r),Pt=null,Qn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Je(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oC(e,t),e=e.sibling}function oC(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),fi(t),i&4){try{hc(3,t,t.return),lp(3,t)}catch(y){Je(t,t.return,y)}try{hc(5,t,t.return)}catch(y){Je(t,t.return,y)}}break;case 1:Kn(e,t),fi(t),i&512&&n!==null&&oa(n,n.return);break;case 5:if(Kn(e,t),fi(t),i&512&&n!==null&&oa(n,n.return),t.flags&32){var r=t.stateNode;try{Rc(r,"")}catch(y){Je(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&k1(r,s),ey(a,o);var c=ey(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?D1(r,d):u==="dangerouslySetInnerHTML"?R1(r,d):u==="children"?Rc(r,d):Kv(r,u,d,c)}switch(a){case"input":Yg(r,s);break;case"textarea":P1(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ca(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ca(r,!!s.multiple,s.defaultValue,!0):ca(r,!!s.multiple,s.multiple?[]:"",!1))}r[jc]=s}catch(y){Je(t,t.return,y)}}break;case 6:if(Kn(e,t),fi(t),i&4){if(t.stateNode===null)throw Error(K(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){Je(t,t.return,y)}}break;case 3:if(Kn(e,t),fi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Lc(e.containerInfo)}catch(y){Je(t,t.return,y)}break;case 4:Kn(e,t),fi(t);break;case 13:Kn(e,t),fi(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(C_=it())),i&4&&eE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(c=qt)||u,Kn(e,t),qt=c):Kn(e,t),fi(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(te=t,u=t.child;u!==null;){for(d=te=u;te!==null;){switch(f=te,p=f.child,f.tag){case 0:case 11:case 14:case 15:hc(4,f,f.return);break;case 1:oa(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Je(i,n,y)}}break;case 5:oa(f,f.return);break;case 22:if(f.memoizedState!==null){nE(d);continue}}p!==null?(p.return=f,te=p):nE(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=O1("display",o))}catch(y){Je(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Je(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kn(e,t),fi(t),i&4&&eE(t);break;case 21:break;default:Kn(e,t),fi(t)}}function fi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rC(n)){var i=n;break e}n=n.return}throw Error(K(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Rc(r,""),i.flags&=-33);var s=Zb(t);Ay(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Zb(t);Py(t,a,o);break;default:throw Error(K(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UL(t,e,n){te=t,aC(t)}function aC(t,e,n){for(var i=(t.mode&1)!==0;te!==null;){var r=te,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Rh;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||qt;a=Rh;var c=qt;if(Rh=o,(qt=l)&&!c)for(te=r;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?iE(r):l!==null?(l.return=o,te=l):iE(r);for(;s!==null;)te=s,aC(s),s=s.sibling;te=r,Rh=a,qt=c}tE(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,te=s):tE(t)}}function tE(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||lp(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!qt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$b(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$b(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Lc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}qt||e.flags&512&&ky(e)}catch(f){Je(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function nE(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function iE(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lp(4,e)}catch(l){Je(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Je(e,r,l)}}var s=e.return;try{ky(e)}catch(l){Je(e,s,l)}break;case 5:var o=e.return;try{ky(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var BL=Math.ceil,rf=mr.ReactCurrentDispatcher,S_=mr.ReactCurrentOwner,$n=mr.ReactCurrentBatchConfig,xe=0,Tt=null,ut=null,Ot=0,bn=0,aa=ms(0),pt=0,qc=null,io=0,cp=0,I_=0,dc=null,un=null,C_=0,ka=1/0,Wi=null,sf=!1,Ry=null,Qr=null,Oh=!1,jr=null,of=0,fc=0,Oy=null,vd=-1,_d=0;function en(){return xe&6?it():vd!==-1?vd:vd=it()}function Xr(t){return t.mode&1?xe&2&&Ot!==0?Ot&-Ot:SL.transition!==null?(_d===0&&(_d=H1()),_d):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:J1(t.type)),t):1}function ei(t,e,n,i){if(50<fc)throw fc=0,Oy=null,Error(K(185));yu(t,n,i),(!(xe&2)||t!==Tt)&&(t===Tt&&(!(xe&2)&&(cp|=n),pt===4&&Mr(t,Ot)),gn(t,i),n===1&&xe===0&&!(e.mode&1)&&(ka=it()+500,sp&&gs()))}function gn(t,e){var n=t.callbackNode;SM(t,e);var i=Bd(t,t===Tt?Ot:0);if(i===0)n!==null&&db(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&db(n),e===1)t.tag===0?TL(rE.bind(null,t)):yI(rE.bind(null,t)),wL(function(){!(xe&6)&&gs()}),n=null;else{switch(q1(i)){case 1:n=Zv;break;case 4:n=z1;break;case 16:n=Ud;break;case 536870912:n=W1;break;default:n=Ud}n=mC(n,lC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lC(t,e){if(vd=-1,_d=0,xe&6)throw Error(K(327));var n=t.callbackNode;if(pa()&&t.callbackNode!==n)return null;var i=Bd(t,t===Tt?Ot:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=af(t,i);else{e=i;var r=xe;xe|=2;var s=uC();(Tt!==t||Ot!==e)&&(Wi=null,ka=it()+500,qs(t,e));do try{HL();break}catch(a){cC(t,a)}while(!0);d_(),rf.current=s,xe=r,ut!==null?e=0:(Tt=null,Ot=0,e=pt)}if(e!==0){if(e===2&&(r=sy(t),r!==0&&(i=r,e=Dy(t,r))),e===1)throw n=qc,qs(t,0),Mr(t,i),gn(t,it()),n;if(e===6)Mr(t,i);else{if(r=t.current.alternate,!(i&30)&&!zL(r)&&(e=af(t,i),e===2&&(s=sy(t),s!==0&&(i=s,e=Dy(t,s))),e===1))throw n=qc,qs(t,0),Mr(t,i),gn(t,it()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(K(345));case 2:Ms(t,un,Wi);break;case 3:if(Mr(t,i),(i&130023424)===i&&(e=C_+500-it(),10<e)){if(Bd(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){en(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=fy(Ms.bind(null,t,un,Wi),e);break}Ms(t,un,Wi);break;case 4:if(Mr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Zn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=it()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*BL(i/1960))-i,10<i){t.timeoutHandle=fy(Ms.bind(null,t,un,Wi),i);break}Ms(t,un,Wi);break;case 5:Ms(t,un,Wi);break;default:throw Error(K(329))}}}return gn(t,it()),t.callbackNode===n?lC.bind(null,t):null}function Dy(t,e){var n=dc;return t.current.memoizedState.isDehydrated&&(qs(t,e).flags|=256),t=af(t,e),t!==2&&(e=un,un=n,e!==null&&My(e)),t}function My(t){un===null?un=t:un.push.apply(un,t)}function zL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ri(s(),r))return!1}catch(o){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~I_,e&=~cp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),i=1<<n;t[n]=-1,e&=~i}}function rE(t){if(xe&6)throw Error(K(327));pa();var e=Bd(t,0);if(!(e&1))return gn(t,it()),null;var n=af(t,e);if(t.tag!==0&&n===2){var i=sy(t);i!==0&&(e=i,n=Dy(t,i))}if(n===1)throw n=qc,qs(t,0),Mr(t,e),gn(t,it()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ms(t,un,Wi),gn(t,it()),null}function k_(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(ka=it()+500,sp&&gs())}}function ro(t){jr!==null&&jr.tag===0&&!(xe&6)&&pa();var e=xe;xe|=1;var n=$n.transition,i=Pe;try{if($n.transition=null,Pe=1,t)return t()}finally{Pe=i,$n.transition=n,xe=e,!(xe&6)&&gs()}}function P_(){bn=aa.current,$e(aa)}function qs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_L(n)),ut!==null)for(n=ut.return;n!==null;){var i=n;switch(c_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Gd();break;case 3:Ia(),$e(pn),$e(Yt),v_();break;case 5:y_(i);break;case 4:Ia();break;case 13:$e(qe);break;case 19:$e(qe);break;case 10:f_(i.type._context);break;case 22:case 23:P_()}n=n.return}if(Tt=t,ut=t=Jr(t.current,null),Ot=bn=e,pt=0,qc=null,I_=cp=io=0,un=dc=null,js!==null){for(e=0;e<js.length;e++)if(n=js[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}js=null}return t}function cC(t,e){do{var n=ut;try{if(d_(),md.current=nf,tf){for(var i=Ge.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}tf=!1}if(no=0,Et=ft=Ge=null,uc=!1,zc=0,S_.current=null,n===null||n.return===null){pt=1,qc=e,ut=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Hb(o);if(p!==null){p.flags&=-257,qb(p,o,a,s,e),p.mode&1&&Wb(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){Wb(s,c,e),A_();break e}l=Error(K(426))}}else if(Be&&a.mode&1){var x=Hb(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),qb(x,o,a,s,e),u_(Ca(l,a));break e}}s=l=Ca(l,a),pt!==4&&(pt=2),dc===null?dc=[s]:dc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=qI(s,l,e);Fb(s,_);break e;case 1:a=l;var v=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Qr===null||!Qr.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=GI(s,a,e);Fb(s,A);break e}}s=s.return}while(s!==null)}dC(n)}catch(D){e=D,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function uC(){var t=rf.current;return rf.current=nf,t===null?nf:t}function A_(){(pt===0||pt===3||pt===2)&&(pt=4),Tt===null||!(io&268435455)&&!(cp&268435455)||Mr(Tt,Ot)}function af(t,e){var n=xe;xe|=2;var i=uC();(Tt!==t||Ot!==e)&&(Wi=null,qs(t,e));do try{WL();break}catch(r){cC(t,r)}while(!0);if(d_(),xe=n,rf.current=i,ut!==null)throw Error(K(261));return Tt=null,Ot=0,pt}function WL(){for(;ut!==null;)hC(ut)}function HL(){for(;ut!==null&&!gM();)hC(ut)}function hC(t){var e=pC(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?dC(t):ut=e,S_.current=null}function dC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FL(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ut=null;return}}else if(n=VL(n,e,bn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);pt===0&&(pt=5)}function Ms(t,e,n){var i=Pe,r=$n.transition;try{$n.transition=null,Pe=1,qL(t,e,n,i)}finally{$n.transition=r,Pe=i}return null}function qL(t,e,n,i){do pa();while(jr!==null);if(xe&6)throw Error(K(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(IM(t,s),t===Tt&&(ut=Tt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oh||(Oh=!0,mC(Ud,function(){return pa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$n.transition,$n.transition=null;var o=Pe;Pe=1;var a=xe;xe|=4,S_.current=null,jL(t,n),oC(n,t),dL(hy),zd=!!uy,hy=uy=null,t.current=n,UL(n),yM(),xe=a,Pe=o,$n.transition=s}else t.current=n;if(Oh&&(Oh=!1,jr=t,of=r),s=t.pendingLanes,s===0&&(Qr=null),wM(n.stateNode),gn(t,it()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(sf)throw sf=!1,t=Ry,Ry=null,t;return of&1&&t.tag!==0&&pa(),s=t.pendingLanes,s&1?t===Oy?fc++:(fc=0,Oy=t):fc=0,gs(),null}function pa(){if(jr!==null){var t=q1(of),e=$n.transition,n=Pe;try{if($n.transition=null,Pe=16>t?16:t,jr===null)var i=!1;else{if(t=jr,jr=null,of=0,xe&6)throw Error(K(331));var r=xe;for(xe|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:hc(8,u,s)}var d=u.child;if(d!==null)d.return=u,te=d;else for(;te!==null;){u=te;var f=u.sibling,p=u.return;if(iC(u),u===c){te=null;break}if(f!==null){f.return=p,te=f;break}te=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hc(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,te=_;break e}te=s.return}}var v=t.current;for(te=v;te!==null;){o=te;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,te=S;else e:for(o=v;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lp(9,a)}}catch(D){Je(a,a.return,D)}if(a===o){te=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,te=A;break e}te=a.return}}if(xe=r,gs(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(ep,t)}catch(D){}i=!0}return i}finally{Pe=n,$n.transition=e}}return!1}function sE(t,e,n){e=Ca(n,e),e=qI(t,e,1),t=Yr(t,e,1),e=en(),t!==null&&(yu(t,1,e),gn(t,e))}function Je(t,e,n){if(t.tag===3)sE(t,t,n);else for(;e!==null;){if(e.tag===3){sE(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qr===null||!Qr.has(i))){t=Ca(n,t),t=GI(e,t,1),e=Yr(e,t,1),t=en(),e!==null&&(yu(e,1,t),gn(e,t));break}}e=e.return}}function GL(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Ot&n)===n&&(pt===4||pt===3&&(Ot&130023424)===Ot&&500>it()-C_?qs(t,0):I_|=n),gn(t,e)}function fC(t,e){e===0&&(t.mode&1?(e=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):e=1);var n=en();t=ur(t,e),t!==null&&(yu(t,e,n),gn(t,n))}function KL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fC(t,n)}function YL(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(e),fC(t,n)}var pC;pC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,NL(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Be&&e.flags&1048576&&vI(e,Qd,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;yd(t,e),t=e.pendingProps;var r=xa(e,Yt.current);fa(e,n),r=w_(null,e,i,t,r,n);var s=b_();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(i)?(s=!0,Kd(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,m_(e),r.updater=ap,e.stateNode=r,r._reactInternals=e,wy(e,i,t,n),e=xy(null,e,i,!0,s,n)):(e.tag=0,Be&&s&&l_(e),Jt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(yd(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=XL(i),t=Yn(i,t),r){case 0:e=Ey(null,e,i,t,n);break e;case 1:e=Yb(null,e,i,t,n);break e;case 11:e=Gb(null,e,i,t,n);break e;case 14:e=Kb(null,e,i,Yn(i.type,t),n);break e}throw Error(K(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yn(i,r),Ey(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yn(i,r),Yb(t,e,i,r,n);case 3:e:{if(XI(e),t===null)throw Error(K(387));i=e.pendingProps,s=e.memoizedState,r=s.element,TI(t,e),Zd(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ca(Error(K(423)),e),e=Qb(t,e,i,n,r);break e}else if(i!==r){r=Ca(Error(K(424)),e),e=Qb(t,e,i,n,r);break e}else for(Tn=Kr(e.stateNode.containerInfo.firstChild),kn=e,Be=!0,Xn=null,n=EI(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ta(),i===r){e=hr(t,e,n);break e}Jt(t,e,i,n)}e=e.child}return e;case 5:return SI(e),t===null&&yy(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,dy(i,r)?o=null:s!==null&&dy(i,s)&&(e.flags|=32),QI(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&yy(e),null;case 13:return JI(t,e,n);case 4:return g_(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Sa(e,null,i,n):Jt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yn(i,r),Gb(t,e,i,r,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Le(Xd,i._currentValue),i._currentValue=o,s!==null)if(ri(s.value,o)){if(s.children===r.children&&!pn.current){e=hr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=rr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),vy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,fa(e,n),r=Bn(r),i=i(r),e.flags|=1,Jt(t,e,i,n),e.child;case 14:return i=e.type,r=Yn(i,e.pendingProps),r=Yn(i.type,r),Kb(t,e,i,r,n);case 15:return KI(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yn(i,r),yd(t,e),e.tag=1,mn(i)?(t=!0,Kd(e)):t=!1,fa(e,n),HI(e,i,r),wy(e,i,r,n),xy(null,e,i,!0,t,n);case 19:return ZI(t,e,n);case 22:return YI(t,e,n)}throw Error(K(156,e.tag))};function mC(t,e){return B1(t,e)}function QL(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,i){return new QL(t,e,n,i)}function R_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XL(t){if(typeof t=="function")return R_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qv)return 11;if(t===Xv)return 14}return 2}function Jr(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wd(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")R_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xo:return Gs(n.children,r,s,e);case Yv:o=8,r|=8;break;case Wg:return t=Fn(12,n,e,r|2),t.elementType=Wg,t.lanes=s,t;case Hg:return t=Fn(13,n,e,r),t.elementType=Hg,t.lanes=s,t;case qg:return t=Fn(19,n,e,r),t.elementType=qg,t.lanes=s,t;case S1:return up(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x1:o=10;break e;case T1:o=9;break e;case Qv:o=11;break e;case Xv:o=14;break e;case Rr:o=16,i=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Gs(t,e,n,i){return t=Fn(7,t,i,e),t.lanes=n,t}function up(t,e,n,i){return t=Fn(22,t,i,e),t.elementType=S1,t.lanes=n,t.stateNode={isHidden:!1},t}function Km(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Ym(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JL(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pm(0),this.expirationTimes=Pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pm(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function O_(t,e,n,i,r,s,o,a,l){return t=new JL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},m_(s),t}function ZL(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function gC(t){if(!t)return os;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(mn(n))return gI(t,n,e)}return e}function yC(t,e,n,i,r,s,o,a,l){return t=O_(n,i,!0,t,r,s,o,a,l),t.context=gC(null),n=t.current,i=en(),r=Xr(n),s=rr(i,r),s.callback=e!=null?e:null,Yr(n,s,r),t.current.lanes=r,yu(t,r,i),gn(t,i),t}function hp(t,e,n,i){var r=e.current,s=en(),o=Xr(r);return n=gC(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Yr(r,e,o),t!==null&&(ei(t,r,o,s),pd(t,r,o)),o}function lf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D_(t,e){oE(t,e),(t=t.alternate)&&oE(t,e)}function eN(){return null}var vC=typeof reportError=="function"?reportError:function(t){console.error(t)};function M_(t){this._internalRoot=t}dp.prototype.render=M_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));hp(t,e,null,null)};dp.prototype.unmount=M_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){hp(null,t,null,null)}),e[cr]=null}};function dp(t){this._internalRoot=t}dp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Dr.length&&e!==0&&e<Dr[n].priority;n++);Dr.splice(n,0,t),n===0&&X1(t)}};function L_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aE(){}function tN(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=lf(o);s.call(c)}}var o=yC(e,i,t,0,null,!1,!1,"",aE);return t._reactRootContainer=o,t[cr]=o.current,Fc(t.nodeType===8?t.parentNode:t),ro(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=lf(l);a.call(c)}}var l=O_(t,0,!1,null,null,!1,!1,"",aE);return t._reactRootContainer=l,t[cr]=l.current,Fc(t.nodeType===8?t.parentNode:t),ro(function(){hp(e,l,n,i)}),l}function pp(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=lf(o);a.call(l)}}hp(e,o,t,r)}else o=tN(n,e,t,r,i);return lf(o)}G1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hl(e.pendingLanes);n!==0&&(e_(e,n|1),gn(e,it()),!(xe&6)&&(ka=it()+500,gs()))}break;case 13:ro(function(){var i=ur(t,1);if(i!==null){var r=en();ei(i,t,1,r)}}),D_(t,1)}};t_=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=en();ei(e,t,134217728,n)}D_(t,134217728)}};K1=function(t){if(t.tag===13){var e=Xr(t),n=ur(t,e);if(n!==null){var i=en();ei(n,t,e,i)}D_(t,e)}};Y1=function(){return Pe};Q1=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};ny=function(t,e,n){switch(e){case"input":if(Yg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=rp(i);if(!r)throw Error(K(90));C1(i),Yg(i,r)}}}break;case"textarea":P1(t,n);break;case"select":e=n.value,e!=null&&ca(t,!!n.multiple,e,!1)}};N1=k_;V1=ro;var nN={usingClientEntryPoint:!1,Events:[_u,ta,rp,M1,L1,k_]},Ol={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iN={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||eN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{ep=Dh.inject(iN),Si=Dh}catch(t){}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nN;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L_(e))throw Error(K(200));return ZL(t,e,null,n)};Rn.createRoot=function(t,e){if(!L_(t))throw Error(K(299));var n=!1,i="",r=vC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=O_(t,1,!1,null,null,n,!1,i,r),t[cr]=e.current,Fc(t.nodeType===8?t.parentNode:t),new M_(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=j1(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return ro(t)};Rn.hydrate=function(t,e,n){if(!fp(e))throw Error(K(200));return pp(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!L_(t))throw Error(K(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=vC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yC(e,null,t,1,n!=null?n:null,r,!1,s,o),t[cr]=e.current,Fc(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new dp(e)};Rn.render=function(t,e,n){if(!fp(e))throw Error(K(200));return pp(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!fp(t))throw Error(K(40));return t._reactRootContainer?(ro(function(){pp(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};Rn.unstable_batchedUpdates=k_;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!fp(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return pp(t,e,n,!1,i)};Rn.version="18.3.1-next-f1338f8080-20240426";function _C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_C)}catch(t){console.error(t)}}_C(),_1.exports=Rn;var wC=_1.exports,bC,lE=wC;bC=lE.createRoot,lE.hydrateRoot;var cE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},rN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),i.push(n[u],n[d],n[f],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new sN;const f=s<<2|a>>4;if(i.push(f),c!==64){const p=a<<4&240|c>>2;if(i.push(p),d!==64){const g=c<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oN=function(t){const e=EC(t);return xC.encodeByteArray(e,!0)},cf=function(t){return oN(t).replace(/\./g,"")},TC=function(t){try{return xC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=()=>aN().__FIREBASE_DEFAULTS__,cN=()=>{if(typeof process>"u"||typeof cE>"u")return;const t=cE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&TC(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return lN()||cN()||uN()}catch(t){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t));return}},SC=t=>{var e,n;return(n=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IC=t=>{const e=SC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},CC=()=>{var t;return(t=mp())===null||t===void 0?void 0:t.config},kC=t=>{var e;return(e=mp())===null||e===void 0?void 0:e["_".concat(t)]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(i),aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cf(JSON.stringify(n)),cf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function fN(){var t;const e=(t=mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function pN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gN(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yN(){return!fN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vN(){try{return typeof indexedDB=="object"}catch(t){return!1}}function _N(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="FirebaseError";class Ni extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=wN,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r="".concat(this.service,"/").concat(e),s=this.errors[e],o=s?bN(s,i):"Error",a="".concat(this.serviceName,": ").concat(o," (").concat(r,").");return new Ni(r,a,i)}}function bN(t,e){return t.replace(EN,(n,i)=>{const r=e[i];return r!=null?String(r):"<".concat(i,"?>")})}const EN=/\{\$([^}]+)}/g;function xN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(uE(s)&&uE(o)){if(!uf(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function uE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Kl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TN(t,e){const n=new SN(t,e);return n.subscribe.bind(n)}class SN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");IN(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Qm),r.error===void 0&&(r.error=Qm),r.complete===void 0&&(r.complete=Qm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(o){}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class as{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new hN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(PN(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch(n){}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kN(t){return t===Ls?void 0:t}function PN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const RN={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},ON=be.INFO,DN={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},MN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=DN[e];if(r)console[r]("[".concat(i,"]  ").concat(t.name,":"),...n);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class N_{constructor(e){this.name=e,this._logLevel=ON,this._logHandler=MN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const LN=(t,e)=>e.some(n=>t instanceof n);let hE,dE;function NN(){return hE||(hE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VN(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AC=new WeakMap,Ly=new WeakMap,RC=new WeakMap,Xm=new WeakMap,V_=new WeakMap;function FN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AC.set(n,t)}).catch(()=>{}),V_.set(e,t),e}function $N(t){if(Ly.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ly.set(t,e)}let Ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jN(t){Ny=t(Ny)}function UN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Jm(this),e,...n);return RC.set(i,e.sort?e.sort():[e]),Zr(i)}:VN().includes(t)?function(...e){return t.apply(Jm(this),e),Zr(AC.get(this))}:function(...e){return Zr(t.apply(Jm(this),e))}}function BN(t){return typeof t=="function"?UN(t):(t instanceof IDBTransaction&&$N(t),LN(t,NN())?new Proxy(t,Ny):t)}function Zr(t){if(t instanceof IDBRequest)return FN(t);if(Xm.has(t))return Xm.get(t);const e=BN(t);return e!==t&&(Xm.set(t,e),V_.set(e,t)),e}const Jm=t=>V_.get(t);function zN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Zr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Zr(o.result),l.oldVersion,l.newVersion,Zr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const WN=["get","getKey","getAll","getAllKeys","count"],HN=["put","add","delete","clear"],Zm=new Map;function fE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=HN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||WN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Zm.set(e,s),s}jN(t=>({...t,get:(e,n,i)=>fE(e,n)||t.get(e,n,i),has:(e,n)=>!!fE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GN(n)){const i=n.getImmediate();return"".concat(i.library,"/").concat(i.version)}else return null}).filter(n=>n).join(" ")}}function GN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vy="@firebase/app",pE="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new N_("@firebase/app"),KN="@firebase/app-compat",YN="@firebase/analytics-compat",QN="@firebase/analytics",XN="@firebase/app-check-compat",JN="@firebase/app-check",ZN="@firebase/auth",e2="@firebase/auth-compat",t2="@firebase/database",n2="@firebase/database-compat",i2="@firebase/functions",r2="@firebase/functions-compat",s2="@firebase/installations",o2="@firebase/installations-compat",a2="@firebase/messaging",l2="@firebase/messaging-compat",c2="@firebase/performance",u2="@firebase/performance-compat",h2="@firebase/remote-config",d2="@firebase/remote-config-compat",f2="@firebase/storage",p2="@firebase/storage-compat",m2="@firebase/firestore",g2="@firebase/vertexai-preview",y2="@firebase/firestore-compat",v2="firebase",_2="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="[DEFAULT]",w2={[Vy]:"fire-core",[KN]:"fire-core-compat",[QN]:"fire-analytics",[YN]:"fire-analytics-compat",[JN]:"fire-app-check",[XN]:"fire-app-check-compat",[ZN]:"fire-auth",[e2]:"fire-auth-compat",[t2]:"fire-rtdb",[n2]:"fire-rtdb-compat",[i2]:"fire-fn",[r2]:"fire-fn-compat",[s2]:"fire-iid",[o2]:"fire-iid-compat",[a2]:"fire-fcm",[l2]:"fire-fcm-compat",[c2]:"fire-perf",[u2]:"fire-perf-compat",[h2]:"fire-rc",[d2]:"fire-rc-compat",[f2]:"fire-gcs",[p2]:"fire-gcs-compat",[m2]:"fire-fst",[y2]:"fire-fst-compat",[g2]:"fire-vertex","fire-js":"fire-js",[v2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,b2=new Map,$y=new Map;function mE(t,e){try{t.container.addComponent(e)}catch(n){so.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function oo(t){const e=t.name;if($y.has(e))return so.debug("There were multiple attempts to register component ".concat(e,".")),!1;$y.set(e,t);for(const n of hf.values())mE(n,t);for(const n of b2.values())mE(n,t);return!0}function gp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new bu("app","Firebase",E2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=_2;function OC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Fy,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw es.create("bad-app-name",{appName:String(r)});if(n||(n=CC()),!n)throw es.create("no-options");const s=hf.get(r);if(s){if(uf(n,s.options)&&uf(i,s.config))return s;throw es.create("duplicate-app",{appName:r})}const o=new AN(r);for(const l of $y.values())o.addComponent(l);const a=new x2(n,i,o);return hf.set(r,a),a}function F_(t=Fy){const e=hf.get(t);if(!e&&t===Fy&&CC())return OC();if(!e)throw es.create("no-app",{appName:t});return e}function Ci(t,e,n){var i;let r=(i=w2[t])!==null&&i!==void 0?i:t;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];s&&a.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&a.push("and"),o&&a.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),so.warn(a.join(" "));return}oo(new as("".concat(r,"-version"),()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebase-heartbeat-database",S2=1,Gc="firebase-heartbeat-store";let eg=null;function DC(){return eg||(eg=zN(T2,S2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw es.create("idb-open",{originalErrorMessage:t.message})})),eg}async function I2(t){try{const n=(await DC()).transaction(Gc),i=await n.objectStore(Gc).get(MC(t));return await n.done,i}catch(e){if(e instanceof Ni)so.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});so.warn(n.message)}}}async function gE(t,e){try{const i=(await DC()).transaction(Gc,"readwrite");await i.objectStore(Gc).put(e,MC(t)),await i.done}catch(n){if(n instanceof Ni)so.warn(n.message);else{const i=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});so.warn(i.message)}}}function MC(t){return"".concat(t.name,"!").concat(t.options.appId)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=1024,k2=30*24*60*60*1e3;class P2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=k2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yE(),{heartbeatsToSend:i,unsentEntries:r}=A2(this._heartbeatsCache.heartbeats),s=cf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function yE(){return new Date().toISOString().substring(0,10)}function A2(t,e=C2){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),vE(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),vE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class R2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vN()?_N().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return gE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return gE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vE(t){return cf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){oo(new as("platform-logger",e=>new qN(e),"PRIVATE")),oo(new as("heartbeat",e=>new P2(e),"PRIVATE")),Ci(Vy,pE,t),Ci(Vy,pE,"esm2017"),Ci("fire-js","")}O2("");function Wn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function LC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D2=LC,NC=new bu("auth","Firebase",LC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new N_("@firebase/auth");function M2(t,...e){df.logLevel<=be.WARN&&df.warn("Auth (".concat(xo,"): ").concat(t),...e)}function bd(t,...e){df.logLevel<=be.ERROR&&df.error("Auth (".concat(xo,"): ").concat(t),...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,...e){throw $_(t,...e)}function ki(t,...e){return $_(t,...e)}function VC(t,e,n){const i=Object.assign(Object.assign({},D2()),{[e]:n});return new bu("auth","Firebase",i).create(e,{appName:t.name})}function sr(t){return VC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return NC.create(t,...e)}function le(t,e,...n){if(!t)throw $_(e,...n)}function Xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bd(e),new Error(e)}function dr(t,e){t||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function L2(){return _E()==="http:"||_E()==="https:"}function _E(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||pN()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=dN()||mN()}get(){return N2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new xu(3e4,6e4);function gr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yr(t,e,n,i,r={}){return $C(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Eu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),FC.fetch()(jC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function $C(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},F2),e);try{const r=new U2(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Mh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mh(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw VC(t,u,c);si(t,u)}}catch(r){if(r instanceof Ni)throw r;si(t,"network-request-failed",{message:String(r)})}}async function Tu(t,e,n,i,r={}){const s=await yr(t,e,n,i,r);return"mfaPendingCredential"in s&&si(t,"multi-factor-auth-required",{_serverResponse:s}),s}function jC(t,e,n,i){const r="".concat(e).concat(n,"?").concat(i);return t.config.emulator?j_(t.config,r):"".concat(t.config.apiScheme,"://").concat(r)}function j2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ki(this.auth,"network-request-failed")),$2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ki(t,e,i);return r.customData._tokenResponse=n,r}function wE(t){return t!==void 0&&t.enterprise!==void 0}class B2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function z2(t,e){return yr(t,"GET","/v2/recaptchaConfig",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t,e){return yr(t,"POST","/v1/accounts:delete",e)}async function UC(t,e){return yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function BC(t,e=!1){const n=Ye(t),i=await n.getIdToken(e),r=U_(i);le(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:pc(tg(r.auth_time)),issuedAtTime:pc(tg(r.iat)),expirationTime:pc(tg(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tg(t){return Number(t)*1e3}function U_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const r=TC(n);return r?JSON.parse(r):(bd("Failed to decode base64 JWT payload"),null)}catch(r){return bd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function bE(t){const e=U_(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ni&&H2(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function H2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Kc(t,UC(n,{idToken:i}));le(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zC(s.providerUserInfo):[],a=K2(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Uy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function G2(t){const e=Ye(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K2(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function zC(t){return t.map(e=>{var{providerId:n}=e,i=Wn(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(t,e){const n=await $C(t,{},async()=>{const i=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=jC(t,r,"/v1/token","key=".concat(s)),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",FC.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q2(t,e){return yr(t,"POST","/v2/accounts:revokeToken",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Y2(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new ma;return i&&(le(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(le(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Wn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Uy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kc(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BC(this,e)}reload(){return G2(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await Kc(this,W2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:A,isAnonymous:D,providerData:M,stsTokenManager:E}=n;le(S&&E,e,"internal-error");const w=ma.fromJSON(this.name,E);le(typeof S=="string",e,"internal-error"),Cr(d,e.name),Cr(f,e.name),le(typeof A=="boolean",e,"internal-error"),le(typeof D=="boolean",e,"internal-error"),Cr(p,e.name),Cr(g,e.name),Cr(y,e.name),Cr(x,e.name),Cr(_,e.name),Cr(v,e.name);const T=new Ji({uid:S,auth:e,email:f,emailVerified:A,displayName:d,isAnonymous:D,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:w,createdAt:_,lastLoginAt:v});return M&&Array.isArray(M)&&(T.providerData=M.map(C=>Object.assign({},C))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,n,i=!1){const r=new ma;r.updateFromServerResponse(n);const s=new Ji({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ff(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];le(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?zC(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new ma;a.updateFromIdToken(i);const l=new Ji({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Uy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function Zi(t){dr(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WC.type="NONE";const xE=WC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e,n){return"firebase:".concat(t,":").concat(e,":").concat(n)}class ga{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Ed(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ed("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ga(Zi(xE),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Zi(xE);const o=Ed(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Ji._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ga(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch(u){}})),new ga(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YC(e))return"Blackberry";if(QC(e))return"Webos";if(B_(e))return"Safari";if((e.includes("chrome/")||qC(e))&&!e.includes("edge/"))return"Chrome";if(KC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function HC(t=Lt()){return/firefox\//i.test(t)}function B_(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qC(t=Lt()){return/crios\//i.test(t)}function GC(t=Lt()){return/iemobile/i.test(t)}function KC(t=Lt()){return/android/i.test(t)}function YC(t=Lt()){return/blackberry/i.test(t)}function QC(t=Lt()){return/webos/i.test(t)}function yp(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X2(t=Lt()){var e;return yp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function J2(){return gN()&&document.documentMode===10}function XC(t=Lt()){return yp(t)||KC(t)||QC(t)||YC(t)||/windows phone/i.test(t)||GC(t)}function Z2(){try{return!!(window&&window!==window.top)}catch(t){return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e=[]){let n;switch(t){case"Browser":n=TE(Lt());break;case"Worker":n="".concat(TE(Lt()),"-").concat(t);break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/JsCore/").concat(xo,"/").concat(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch(s){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e={}){return yr(t,"GET","/v2/passwordPolicy",gr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=6;class iV{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new eV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await UC(this,{idToken:e}),i=await Ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(i){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(sr(this));const n=e?Ye(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tV(this),n=new iV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Q2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&M2("Error while retrieving App Check token: ".concat(n.error)),n==null?void 0:n.token}}function ys(t){return Ye(t)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=TN(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sV(t){vp=t}function ZC(t){return vp.loadJS(t)}function oV(){return vp.recaptchaEnterpriseScript}function aV(){return vp.gapiScript}function lV(t){return"__".concat(t).concat(Math.floor(Math.random()*1e6))}const cV="recaptcha-enterprise",uV="NO_RECAPTCHA";class hV{constructor(e){this.type=cV,this.auth=ys(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{z2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new B2(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;wE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(uV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&wE(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=oV();l.length!==0&&(l+=a),ZC(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function IE(t,e,n,i=!1){const r=new hV(t);let s;try{s=await r.verify(n)}catch(a){s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function pf(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await IE(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await IE(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e){const n=gp(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(uf(s,e!=null?e:{}))return r;si(r,"already-initialized")}return n.initialize({options:e})}function fV(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function pV(t,e,n){const i=ys(t);le(i._canInitEmulator,i,"emulator-config-failed"),le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=ek(e),{host:o,port:a}=mV(e),l=a===null?"":":".concat(a);i.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),gV()}function ek(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mV(t){const e=ek(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:CE(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:CE(o)}}}function CE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function yV(t,e){return yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,e){return Tu(t,"POST","/v1/accounts:signInWithPassword",gr(t,e))}async function tk(t,e){return yr(t,"POST","/v1/accounts:sendOobCode",gr(t,e))}async function _V(t,e){return tk(t,e)}async function wV(t,e){return tk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,e))}async function EV(t,e){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends z_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Yc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Yc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pf(e,n,"signInWithPassword",vV);case"emailLink":return bV(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pf(e,i,"signUpPassword",yV);case"emailLink":return EV(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e){return Tu(t,"POST","/v1/accounts:signInWithIdp",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="http://localhost";class ao extends z_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Wn(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new ao(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ya(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ya(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ya(e,n)}buildRequest(){const e={requestUri:xV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SV(t){const e=Gl(Kl(t)).link,n=e?Gl(Kl(e)).deep_link_id:null,i=Gl(Kl(t)).deep_link_id;return(i?Gl(Kl(i)).link:null)||i||n||e||t}class W_{constructor(e){var n,i,r,s,o,a;const l=Gl(Kl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=TV((r=l.mode)!==null&&r!==void 0?r:null);le(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=SV(e);try{return new W_(n)}catch(i){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.providerId=qa.PROVIDER_ID}static credential(e,n){return Yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=W_.parseLink(n);return le(i,"argument-error"),Yc._fromEmailAndCode(e,i.code,i.tenantId)}}qa.PROVIDER_ID="password";qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends nk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Su{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch(n){return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return wi.credential(n,i)}catch(r){return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Su{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch(n){return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Su{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Vr.credential(n,i)}catch(r){return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){return Tu(t,"POST","/v1/accounts:signUp",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Ji._fromIdTokenResponse(e,i,r),o=kE(i);return new lo({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=kE(i);return new lo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function kE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends Ni{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new mf(e,n,i,r)}}function ik(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(t,s,e,i):s})}async function CV(t,e,n=!1){const i=await Kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e,n=!1){const{auth:i}=t;if(xi(i.app))return Promise.reject(sr(i));const r="reauthenticate";try{const s=await Kc(t,ik(i,r,e,t),n);le(s.idToken,i,"internal-error");const o=U_(s.idToken);le(o,i,"internal-error");const{sub:a}=o;return le(t.uid===a,i,"user-mismatch"),lo._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&si(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(t,e,n=!1){if(xi(t.app))return Promise.reject(sr(t));const i="signIn",r=await ik(t,i,e),s=await lo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function By(t,e){return rk(ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t){const e=ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PV(t,e,n){const i=ys(t);await pf(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wV)}async function AV(t,e,n){if(xi(t.app))return Promise.reject(sr(t));const i=ys(t),o=await pf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IV).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sk(t),l}),a=await lo._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function RV(t,e,n){return xi(t.app)?Promise.reject(sr(t)):By(Ye(t),qa.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&sk(t),i})}async function OV(t,e){const n=Ye(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await _V(n.auth,r);s!==t.email&&await t.reload()}function DV(t,e,n,i){return Ye(t).onIdTokenChanged(e,n,i)}function MV(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function LV(t,e,n,i){return Ye(t).onAuthStateChanged(e,n,i)}function Ga(t){return Ye(t).signOut()}const gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(){const t=Lt();return B_(t)||yp(t)}const VV=1e3,FV=10;class ak extends ok{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=NV()&&Z2(),this.fallbackToPolling=XC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);J2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,FV):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},VV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ak.type="LOCAL";const $V=ak;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk extends ok{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lk.type="SESSION";const ck=lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new _p(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await jV(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_p.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=H_("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function BV(t){Pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function zV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function WV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HV(){return uk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firebaseLocalStorageDb",qV=1,yf="firebaseLocalStorage",dk="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wp(t,e){return t.transaction([yf],e?"readwrite":"readonly").objectStore(yf)}function GV(){const t=indexedDB.deleteDatabase(hk);return new Iu(t).toPromise()}function zy(){const t=indexedDB.open(hk,qV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(yf,{keyPath:dk})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(yf)?e(i):(i.close(),await GV(),e(await zy()))})})}async function PE(t,e,n){const i=wp(t,!0).put({[dk]:e,value:n});return new Iu(i).toPromise()}async function KV(t,e){const n=wp(t,!1).get(e),i=await new Iu(n).toPromise();return i===void 0?null:i.value}function AE(t,e){const n=wp(t,!0).delete(e);return new Iu(n).toPromise()}const YV=800,QV=3;class fk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>QV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_p._getInstance(HV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zV(),!this.activeServiceWorker)return;this.sender=new UV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zy();return await PE(e,gf,"1"),await AE(e,gf),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>PE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>KV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=wp(r,!1).getAll();return new Iu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fk.type="LOCAL";const XV=fk;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e){return e?Zi(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends z_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZV(t){return rk(t.auth,new q_(t),t.bypassAuthState)}function eF(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),kV(n,new q_(t),t.bypassAuthState)}async function tF(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),CV(n,new q_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZV;case"linkViaPopup":case"linkViaRedirect":return tF;case"reauthViaPopup":case"reauthViaRedirect":return eF;default:si(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=new xu(2e3,1e4);class la extends pk{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=H_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nF.get())};e()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="pendingRedirect",xd=new Map;class rF extends pk{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const i=await sF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sF(t,e){const n=lF(e),i=aF(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function oF(t,e){xd.set(t._key(),e)}function aF(t){return Zi(t._redirectPersistence)}function lF(t){return Ed(iF,t.config.apiKey,t.name)}async function cF(t,e,n=!1){if(xi(t.app))return Promise.reject(sr(t));const i=ys(t),r=JV(i,e),o=await new rF(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=10*60*1e3;class hF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!mk(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ki(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uF&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(t,e={}){return yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mF=/^https?/;async function gF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fF(t);for(const n of e)try{if(yF(n))return}catch(i){}si(t,"unauthorized-domain")}function yF(t){const e=jy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!mF.test(n))return!1;if(pF.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=new xu(3e4,6e4);function OE(){const t=Pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _F(t){return new Promise((e,n)=>{var i,r,s;function o(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),n(ki(t,"network-request-failed"))},timeout:vF.get()})}if(!((r=(i=Pi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Pi().gapi)===null||s===void 0)&&s.load)o();else{const a=lV("iframefcb");return Pi()[a]=()=>{gapi.load?o():n(ki(t,"network-request-failed"))},ZC("".concat(aV(),"?onload=").concat(a)).catch(l=>n(l))}}).catch(e=>{throw Td=null,e})}let Td=null;function wF(t){return Td=Td||_F(t),Td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new xu(5e3,15e3),EF="__/auth/iframe",xF="emulator/auth/iframe",TF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IF(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j_(e,xF):"https://".concat(t.config.authDomain,"/").concat(EF),i={apiKey:e.apiKey,appName:t.name,v:xo},r=SF.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(Eu(i).slice(1))}async function CF(t){const e=await wF(t),n=Pi().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:IF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TF,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=ki(t,"network-request-failed"),a=Pi().setTimeout(()=>{s(o)},bF.get());function l(){Pi().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PF=500,AF=600,RF="_blank",OF="http://localhost";class DE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function DF(t,e,n,i=PF,r=AF){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},kF),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Lt().toLowerCase();n&&(a=qC(c)?RF:n),HC(c)&&(e=e||OF,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>"".concat(f).concat(p,"=").concat(g,","),"");if(X2(c)&&a!=="_self")return MF(e||"",a),new DE(null);const d=window.open(e||"",a,u);le(d,t,"popup-blocked");try{d.focus()}catch(f){}return new DE(d)}function MF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="__/auth/handler",NF="emulator/auth/handler",VF=encodeURIComponent("fac");async function ME(t,e,n,i,r,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:xo,eventId:r};if(e instanceof nk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Su){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?"#".concat(VF,"=").concat(encodeURIComponent(l)):"";return"".concat(FF(t),"?").concat(Eu(a).slice(1)).concat(c)}function FF({config:t}){return t.emulator?j_(t,NF):"https://".concat(t.authDomain,"/").concat(LF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class $F{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ck,this._completeRedirectFn=cF,this._overrideRedirectResult=oF}async _openPopup(e,n,i,r){var s;dr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ME(e,n,i,jy(),r);return DF(e,o,H_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await ME(e,n,i,jy(),r);return BV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(dr(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await CF(e),i=new hF(e);return n.register("authEvent",r=>(le(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[ng];o!==void 0&&n(!!o),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XC()||B_()||yp()}}const jF=$F;var LE="@firebase/auth",NE="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zF(t){oo(new as("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(t)},c=new rV(i,r,s,l);return fV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),oo(new as("auth-internal",e=>{const n=ys(e.getProvider("auth").getImmediate());return(i=>new UF(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(LE,NE,BF(t)),Ci(LE,NE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=5*60,HF=kC("authIdTokenMaxAge")||WF;let VE=null;const qF=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>HF)return;const r=n==null?void 0:n.token;VE!==r&&(VE=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))};function oi(t=F_()){const e=gp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dV(t,{popupRedirectResolver:jF,persistence:[XV,$V,ck]}),i=kC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=qF(s.toString());MV(n,o,()=>o(n.currentUser)),DV(n,a=>o(a))}}const r=SC("auth");return r&&pV(n,"http://".concat(r)),n}function GF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=ki("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",GF().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zF("Browser");function Wy(t,e){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wy(t,e)}function Mi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wy(t,e)}var gk={exports:{}},KF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YF=KF,QF=YF;function yk(){}function vk(){}vk.resetWarningCache=yk;var XF=function(){function t(i,r,s,o,a,l){if(l!==QF){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vk,resetWarningCache:yk};return n.PropTypes=n,n};gk.exports=XF();var JF=gk.exports;const FE=Uv(JF);function nn(){return nn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nn.apply(null,arguments)}function Lh(t){return t.charAt(0)==="/"}function ig(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function ZF(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],r=t&&Lh(t),s=e&&Lh(e),o=r||s;if(t&&Lh(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?ig(i,u):d===".."?(ig(i,u),c++):c&&(ig(i,u),c--)}if(!o)for(;c--;c)i.unshift("..");o&&i[0]!==""&&(!i[0]||!Lh(i[0]))&&i.unshift("");var f=i.join("/");return a&&f.substr(-1)!=="/"&&(f+="/"),f}var e$="Invariant failed";function To(t,e){throw new Error(e$)}function mc(t){return t.charAt(0)==="/"?t:"/"+t}function $E(t){return t.charAt(0)==="/"?t.substr(1):t}function t$(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function _k(t,e){return t$(t,e)?t.substr(e.length):t}function wk(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function n$(t){var e=t||"/",n="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function ln(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Sn(t,e,n,i){var r;typeof t=="string"?(r=n$(t),r.state=e):(r=nn({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(r.key=n),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=ZF(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function G_(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,l,c){if(t!=null){var u=typeof t=="function"?t(o,a):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function r(o){var a=!0;function l(){a&&o.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function s(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:r,notifyListeners:s}}var bk=!!(typeof window<"u"&&window.document&&window.document.createElement);function Ek(t,e){e(window.confirm(t))}function i$(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function r$(){return window.navigator.userAgent.indexOf("Trident")===-1}function s$(){return window.navigator.userAgent.indexOf("Firefox")===-1}function o$(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var jE="popstate",UE="hashchange";function BE(){try{return window.history.state||{}}catch(t){return{}}}function a$(t){t===void 0&&(t={}),bk||To();var e=window.history,n=i$(),i=!r$(),r=t,s=r.forceRefresh,o=s===void 0?!1:s,a=r.getUserConfirmation,l=a===void 0?Ek:a,c=r.keyLength,u=c===void 0?6:c,d=t.basename?wk(mc(t.basename)):"";function f(B){var $=B||{},X=$.key,q=$.state,re=window.location,oe=re.pathname,ue=re.search,ve=re.hash,Ie=oe+ue+ve;return d&&(Ie=_k(Ie,d)),Sn(Ie,q,X)}function p(){return Math.random().toString(36).substr(2,u)}var g=G_();function y(B){nn(U,B),U.length=e.length,g.notifyListeners(U.location,U.action)}function x(B){o$(B)||S(f(B.state))}function _(){S(f(BE()))}var v=!1;function S(B){if(v)v=!1,y();else{var $="POP";g.confirmTransitionTo(B,$,l,function(X){X?y({action:$,location:B}):A(B)})}}function A(B){var $=U.location,X=M.indexOf($.key);X===-1&&(X=0);var q=M.indexOf(B.key);q===-1&&(q=0);var re=X-q;re&&(v=!0,C(re))}var D=f(BE()),M=[D.key];function E(B){return d+ln(B)}function w(B,$){var X="PUSH",q=Sn(B,$,p(),U.location);g.confirmTransitionTo(q,X,l,function(re){if(re){var oe=E(q),ue=q.key,ve=q.state;if(n)if(e.pushState({key:ue,state:ve},null,oe),o)window.location.href=oe;else{var Ie=M.indexOf(U.location.key),Hn=M.slice(0,Ie+1);Hn.push(q.key),M=Hn,y({action:X,location:q})}else window.location.href=oe}})}function T(B,$){var X="REPLACE",q=Sn(B,$,p(),U.location);g.confirmTransitionTo(q,X,l,function(re){if(re){var oe=E(q),ue=q.key,ve=q.state;if(n)if(e.replaceState({key:ue,state:ve},null,oe),o)window.location.replace(oe);else{var Ie=M.indexOf(U.location.key);Ie!==-1&&(M[Ie]=q.key),y({action:X,location:q})}else window.location.replace(oe)}})}function C(B){e.go(B)}function P(){C(-1)}function O(){C(1)}var R=0;function Y(B){R+=B,R===1&&B===1?(window.addEventListener(jE,x),i&&window.addEventListener(UE,_)):R===0&&(window.removeEventListener(jE,x),i&&window.removeEventListener(UE,_))}var G=!1;function Q(B){B===void 0&&(B=!1);var $=g.setPrompt(B);return G||(Y(1),G=!0),function(){return G&&(G=!1,Y(-1)),$()}}function ie(B){var $=g.appendListener(B);return Y(1),function(){Y(-1),$()}}var U={length:e.length,action:"POP",location:D,createHref:E,push:w,replace:T,go:C,goBack:P,goForward:O,block:Q,listen:ie};return U}var zE="hashchange",l$={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+$E(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:$E,decodePath:mc},slash:{encodePath:mc,decodePath:mc}};function xk(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Dl(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function c$(t){window.location.hash=t}function rg(t){window.location.replace(xk(window.location.href)+"#"+t)}function u$(t){t===void 0&&(t={}),bk||To();var e=window.history;s$();var n=t,i=n.getUserConfirmation,r=i===void 0?Ek:i,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?wk(mc(t.basename)):"",l=l$[o],c=l.encodePath,u=l.decodePath;function d(){var $=u(Dl());return a&&($=_k($,a)),Sn($)}var f=G_();function p($){nn(B,$),B.length=e.length,f.notifyListeners(B.location,B.action)}var g=!1,y=null;function x($,X){return $.pathname===X.pathname&&$.search===X.search&&$.hash===X.hash}function _(){var $=Dl(),X=c($);if($!==X)rg(X);else{var q=d(),re=B.location;if(!g&&x(re,q)||y===ln(q))return;y=null,v(q)}}function v($){if(g)g=!1,p();else{var X="POP";f.confirmTransitionTo($,X,r,function(q){q?p({action:X,location:$}):S($)})}}function S($){var X=B.location,q=E.lastIndexOf(ln(X));q===-1&&(q=0);var re=E.lastIndexOf(ln($));re===-1&&(re=0);var oe=q-re;oe&&(g=!0,P(oe))}var A=Dl(),D=c(A);A!==D&&rg(D);var M=d(),E=[ln(M)];function w($){var X=document.querySelector("base"),q="";return X&&X.getAttribute("href")&&(q=xk(window.location.href)),q+"#"+c(a+ln($))}function T($,X){var q="PUSH",re=Sn($,void 0,void 0,B.location);f.confirmTransitionTo(re,q,r,function(oe){if(oe){var ue=ln(re),ve=c(a+ue),Ie=Dl()!==ve;if(Ie){y=ue,c$(ve);var Hn=E.lastIndexOf(ln(B.location)),Ao=E.slice(0,Hn+1);Ao.push(ue),E=Ao,p({action:q,location:re})}else p()}})}function C($,X){var q="REPLACE",re=Sn($,void 0,void 0,B.location);f.confirmTransitionTo(re,q,r,function(oe){if(oe){var ue=ln(re),ve=c(a+ue),Ie=Dl()!==ve;Ie&&(y=ue,rg(ve));var Hn=E.indexOf(ln(B.location));Hn!==-1&&(E[Hn]=ue),p({action:q,location:re})}})}function P($){e.go($)}function O(){P(-1)}function R(){P(1)}var Y=0;function G($){Y+=$,Y===1&&$===1?window.addEventListener(zE,_):Y===0&&window.removeEventListener(zE,_)}var Q=!1;function ie($){$===void 0&&($=!1);var X=f.setPrompt($);return Q||(G(1),Q=!0),function(){return Q&&(Q=!1,G(-1)),X()}}function U($){var X=f.appendListener($);return G(1),function(){G(-1),X()}}var B={length:e.length,action:"POP",location:M,createHref:w,push:T,replace:C,go:P,goBack:O,goForward:R,block:ie,listen:U};return B}function WE(t,e,n){return Math.min(Math.max(t,e),n)}function h$(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,l=a===void 0?6:a,c=G_();function u(w){nn(E,w),E.length=E.entries.length,c.notifyListeners(E.location,E.action)}function d(){return Math.random().toString(36).substr(2,l)}var f=WE(o,0,r.length-1),p=r.map(function(w){return typeof w=="string"?Sn(w,void 0,d()):Sn(w,void 0,w.key||d())}),g=ln;function y(w,T){var C="PUSH",P=Sn(w,T,d(),E.location);c.confirmTransitionTo(P,C,n,function(O){if(O){var R=E.index,Y=R+1,G=E.entries.slice(0);G.length>Y?G.splice(Y,G.length-Y,P):G.push(P),u({action:C,location:P,index:Y,entries:G})}})}function x(w,T){var C="REPLACE",P=Sn(w,T,d(),E.location);c.confirmTransitionTo(P,C,n,function(O){O&&(E.entries[E.index]=P,u({action:C,location:P}))})}function _(w){var T=WE(E.index+w,0,E.entries.length-1),C="POP",P=E.entries[T];c.confirmTransitionTo(P,C,n,function(O){O?u({action:C,location:P,index:T}):u()})}function v(){_(-1)}function S(){_(1)}function A(w){var T=E.index+w;return T>=0&&T<E.entries.length}function D(w){return w===void 0&&(w=!1),c.setPrompt(w)}function M(w){return c.appendListener(w)}var E={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:g,push:y,replace:x,go:_,goBack:v,goForward:S,canGo:A,block:D,listen:M};return E}var Ka={exports:{}},d$=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},vf=d$;Ka.exports=Ik;Ka.exports.parse=K_;Ka.exports.compile=p$;Ka.exports.tokensToFunction=Tk;Ka.exports.tokensToRegExp=Sk;var f$=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function K_(t,e){for(var n=[],i=0,r=0,s="",o=e&&e.delimiter||"/",a;(a=f$.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(s+=t.slice(r,u),r=u+l.length,c){s+=c[1];continue}var d=t[r],f=a[2],p=a[3],g=a[4],y=a[5],x=a[6],_=a[7];s&&(n.push(s),s="");var v=f!=null&&d!=null&&d!==f,S=x==="+"||x==="*",A=x==="?"||x==="*",D=a[2]||o,M=g||y;n.push({name:p||i++,prefix:f||"",delimiter:D,optional:A,repeat:S,partial:v,asterisk:!!_,pattern:M?y$(M):_?".*":"[^"+Sd(D)+"]+?"})}return r<t.length&&(s+=t.substr(r)),s&&n.push(s),n}function p$(t,e){return Tk(K_(t,e),e)}function m$(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function g$(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Tk(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",Q_(e)));return function(r,s){for(var o="",a=r||{},l=s||{},c=l.pretty?m$:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){o+=d;continue}var f=a[d.name],p;if(f==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(vf(f)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(f.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var g=0;g<f.length;g++){if(p=c(f[g]),!n[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(g===0?d.prefix:d.delimiter)+p}continue}if(p=d.asterisk?g$(f):c(f),!n[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');o+=d.prefix+p}return o}}function Sd(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function y$(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Y_(t,e){return t.keys=e,t}function Q_(t){return t&&t.sensitive?"":"i"}function v$(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Y_(t,e)}function _$(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(Ik(t[r],e,n).source);var s=new RegExp("(?:"+i.join("|")+")",Q_(n));return Y_(s,e)}function w$(t,e,n){return Sk(K_(t,n),e,n)}function Sk(t,e,n){vf(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,r=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=Sd(a);else{var l=Sd(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",s+=c}}var u=Sd(n.delimiter||"/"),d=s.slice(-u.length)===u;return i||(s=(d?s.slice(0,-u.length):s)+"(?:"+u+"(?=$))?"),r?s+="$":s+=i&&d?"":"(?="+u+"|$)",Y_(new RegExp("^"+s,Q_(n)),e)}function Ik(t,e,n){return vf(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?v$(t,e):vf(t)?_$(t,e,n):w$(t,e,n)}var b$=Ka.exports;const E$=Uv(b$);var Ck={exports:{}},Ae={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=typeof Symbol=="function"&&Symbol.for,X_=It?Symbol.for("react.element"):60103,J_=It?Symbol.for("react.portal"):60106,bp=It?Symbol.for("react.fragment"):60107,Ep=It?Symbol.for("react.strict_mode"):60108,xp=It?Symbol.for("react.profiler"):60114,Tp=It?Symbol.for("react.provider"):60109,Sp=It?Symbol.for("react.context"):60110,Z_=It?Symbol.for("react.async_mode"):60111,Ip=It?Symbol.for("react.concurrent_mode"):60111,Cp=It?Symbol.for("react.forward_ref"):60112,kp=It?Symbol.for("react.suspense"):60113,x$=It?Symbol.for("react.suspense_list"):60120,Pp=It?Symbol.for("react.memo"):60115,Ap=It?Symbol.for("react.lazy"):60116,T$=It?Symbol.for("react.block"):60121,S$=It?Symbol.for("react.fundamental"):60117,I$=It?Symbol.for("react.responder"):60118,C$=It?Symbol.for("react.scope"):60119;function Dn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case X_:switch(t=t.type,t){case Z_:case Ip:case bp:case xp:case Ep:case kp:return t;default:switch(t=t&&t.$$typeof,t){case Sp:case Cp:case Ap:case Pp:case Tp:return t;default:return e}}case J_:return e}}}function kk(t){return Dn(t)===Ip}Ae.AsyncMode=Z_;Ae.ConcurrentMode=Ip;Ae.ContextConsumer=Sp;Ae.ContextProvider=Tp;Ae.Element=X_;Ae.ForwardRef=Cp;Ae.Fragment=bp;Ae.Lazy=Ap;Ae.Memo=Pp;Ae.Portal=J_;Ae.Profiler=xp;Ae.StrictMode=Ep;Ae.Suspense=kp;Ae.isAsyncMode=function(t){return kk(t)||Dn(t)===Z_};Ae.isConcurrentMode=kk;Ae.isContextConsumer=function(t){return Dn(t)===Sp};Ae.isContextProvider=function(t){return Dn(t)===Tp};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===X_};Ae.isForwardRef=function(t){return Dn(t)===Cp};Ae.isFragment=function(t){return Dn(t)===bp};Ae.isLazy=function(t){return Dn(t)===Ap};Ae.isMemo=function(t){return Dn(t)===Pp};Ae.isPortal=function(t){return Dn(t)===J_};Ae.isProfiler=function(t){return Dn(t)===xp};Ae.isStrictMode=function(t){return Dn(t)===Ep};Ae.isSuspense=function(t){return Dn(t)===kp};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bp||t===Ip||t===xp||t===Ep||t===kp||t===x$||typeof t=="object"&&t!==null&&(t.$$typeof===Ap||t.$$typeof===Pp||t.$$typeof===Tp||t.$$typeof===Sp||t.$$typeof===Cp||t.$$typeof===S$||t.$$typeof===I$||t.$$typeof===C$||t.$$typeof===T$)};Ae.typeOf=Dn;Ck.exports=Ae;var k$=Ck.exports;function Rp(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}var Pk=k$,P$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},A$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ak={};Ak[Pk.ForwardRef]=P$;Ak[Pk.Memo]=A$;var sg=1073741823,HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function R$(){var t="__global_unique_id__";return HE[t]=(HE[t]||0)+1}function O$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function D$(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return t},set:function(i,r){t=i,e.forEach(function(s){return s(t,r)})}}}function M$(t){return Array.isArray(t)?t[0]:t}function L$(t,e){var n,i,r="__create-react-context-"+R$()+"__",s=function(a){Mi(l,a);function l(){for(var u,d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];return u=a.call.apply(a,[this].concat(f))||this,u.emitter=D$(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[r]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var f=this.props.value,p=d.value,g;O$(f,p)?g=0:(g=typeof e=="function"?e(f,p):sg,g|=0,g!==0&&this.emitter.set(d.value,g))}},c.render=function(){return this.props.children},l}(W.Component);s.childContextTypes=(n={},n[r]=FE.object.isRequired,n);var o=function(a){Mi(l,a);function l(){for(var u,d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];return u=a.call.apply(a,[this].concat(f))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(g,y){var x=u.observedBits|0;x&y&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var f=d.observedBits;this.observedBits=f==null?sg:f},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?sg:d},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():t},c.render=function(){return M$(this.props.children)(this.state.value)},l}(W.Component);return o.contextTypes=(i={},i[r]=FE.object,i),{Provider:s,Consumer:o}}var N$=W.createContext||L$,Rk=function(e){var n=N$();return n.displayName=e,n},Ok=Rk("Router-History"),co=Rk("Router"),Op=function(t){Mi(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=t.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(s){r._pendingLocation=s})),r}var n=e.prototype;return n.componentDidMount=function(){var r=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){r._isMounted&&r.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return W.createElement(co.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},W.createElement(Ok.Provider,{children:this.props.children||null,value:this.props.history}))},e}(W.Component);W.Component;W.Component;var qE={},V$=1e4,GE=0;function F$(t,e){var n=""+e.end+e.strict+e.sensitive,i=qE[n]||(qE[n]={});if(i[t])return i[t];var r=[],s=E$(t,r,e),o={regexp:s,keys:r};return GE<V$&&(i[t]=o,GE++),o}function e0(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,r=n.exact,s=r===void 0?!1:r,o=n.strict,a=o===void 0?!1:o,l=n.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,f){if(!f&&f!=="")return null;if(d)return d;var p=F$(f,{end:s,strict:a,sensitive:c}),g=p.regexp,y=p.keys,x=g.exec(t);if(!x)return null;var _=x[0],v=x.slice(1),S=t===_;return s&&!S?null:{path:f,url:f==="/"&&_===""?"/":_,isExact:S,params:y.reduce(function(A,D,M){return A[D.name]=v[M],A},{})}},null)}function $$(t){return W.Children.count(t)===0}var pi=function(t){Mi(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return W.createElement(co.Consumer,null,function(s){s||To();var o=r.props.location||s.location,a=r.props.computedMatch?r.props.computedMatch:r.props.path?e0(o.pathname,r.props):s.match,l=nn({},s,{location:o,match:a}),c=r.props,u=c.children,d=c.component,f=c.render;return Array.isArray(u)&&$$(u)&&(u=null),W.createElement(co.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?W.createElement(d,l):f?f(l):null:typeof u=="function"?u(l):null)})},e}(W.Component);function t0(t){return t.charAt(0)==="/"?t:"/"+t}function j$(t,e){return t?nn({},e,{pathname:t0(t)+e.pathname}):e}function U$(t,e){if(!t)return e;var n=t0(t);return e.pathname.indexOf(n)!==0?e:nn({},e,{pathname:e.pathname.substr(n.length)})}function KE(t){return typeof t=="string"?t:ln(t)}function og(t){return function(){To()}}function YE(){}W.Component;var B$=function(t){Mi(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return W.createElement(co.Consumer,null,function(s){s||To();var o=r.props.location||s.location,a,l;return W.Children.forEach(r.props.children,function(c){if(l==null&&W.isValidElement(c)){a=c;var u=c.props.path||c.props.from;l=u?e0(o.pathname,nn({},c.props,{path:u})):s.match}}),l?W.cloneElement(a,{location:o,computedMatch:l}):null})},e}(W.Component),Dk=W.useContext;function Ya(){return Dk(Ok)}function z$(){return Dk(co).location}var W$=function(t){Mi(e,t);function e(){for(var i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,i.history=a$(i.props),i}var n=e.prototype;return n.render=function(){return W.createElement(Op,{history:this.history,children:this.props.children})},e}(W.Component);W.Component;var Hy=function(e,n){return typeof e=="function"?e(n):e},qy=function(e,n){return typeof e=="string"?Sn(e,null,null,n):e},n0=function(e){return e},Pa=W.forwardRef;typeof Pa>"u"&&(Pa=n0);function H$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var q$=Pa(function(t,e){var n=t.innerRef,i=t.navigate,r=t.onClick,s=Rp(t,["innerRef","navigate","onClick"]),o=s.target,a=nn({},s,{onClick:function(c){try{r&&r(c)}catch(u){throw c.preventDefault(),u}!c.defaultPrevented&&c.button===0&&(!o||o==="_self")&&!H$(c)&&(c.preventDefault(),i())}});return n0!==Pa?a.ref=e||n:a.ref=n,W.createElement("a",a)}),G$=Pa(function(t,e){var n=t.component,i=n===void 0?q$:n,r=t.replace,s=t.to,o=t.innerRef,a=Rp(t,["component","replace","to","innerRef"]);return W.createElement(co.Consumer,null,function(l){l||To();var c=l.history,u=qy(Hy(s,l.location),l.location),d=u?c.createHref(u):"",f=nn({},a,{href:d,navigate:function(){var g=Hy(s,l.location),y=ln(l.location)===ln(qy(g)),x=r||y?c.replace:c.push;x(g)}});return n0!==Pa?f.ref=e||o:f.innerRef=o,W.createElement(i,f)})}),Mk=function(e){return e},_f=W.forwardRef;typeof _f>"u"&&(_f=Mk);function K$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(i){return i}).join(" ")}_f(function(t,e){var n=t["aria-current"],i=n===void 0?"page":n,r=t.activeClassName,s=r===void 0?"active":r,o=t.activeStyle,a=t.className,l=t.exact,c=t.isActive,u=t.location,d=t.sensitive,f=t.strict,p=t.style,g=t.to,y=t.innerRef,x=Rp(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return W.createElement(co.Consumer,null,function(_){_||To();var v=u||_.location,S=qy(Hy(g,v),v),A=S.pathname,D=A&&A.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),M=D?e0(v.pathname,{path:D,exact:l,sensitive:d,strict:f}):null,E=!!(c?c(M,v):M),w=typeof a=="function"?a(E):a,T=typeof p=="function"?p(E):p;E&&(w=K$(w,s),T=nn({},T,o));var C=nn({"aria-current":E&&i||null,className:w,style:T,to:S},x);return Mk!==_f?C.ref=e||y:C.innerRef=y,W.createElement(G$,C)})});var Y$="firebase",Q$="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(Y$,Q$,"app");var QE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,Lk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,w){function T(){}T.prototype=w.prototype,E.D=w.prototype,E.prototype=new T,E.prototype.constructor=E,E.C=function(C,P,O){for(var R=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)R[Y-2]=arguments[Y];return w.prototype[P].apply(C,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,w,T){T||(T=0);var C=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)C[P]=w.charCodeAt(T++)|w.charCodeAt(T++)<<8|w.charCodeAt(T++)<<16|w.charCodeAt(T++)<<24;else for(P=0;16>P;++P)C[P]=w[T++]|w[T++]<<8|w[T++]<<16|w[T++]<<24;w=E.g[0],T=E.g[1],P=E.g[2];var O=E.g[3],R=w+(O^T&(P^O))+C[0]+3614090360&4294967295;w=T+(R<<7&4294967295|R>>>25),R=O+(P^w&(T^P))+C[1]+3905402710&4294967295,O=w+(R<<12&4294967295|R>>>20),R=P+(T^O&(w^T))+C[2]+606105819&4294967295,P=O+(R<<17&4294967295|R>>>15),R=T+(w^P&(O^w))+C[3]+3250441966&4294967295,T=P+(R<<22&4294967295|R>>>10),R=w+(O^T&(P^O))+C[4]+4118548399&4294967295,w=T+(R<<7&4294967295|R>>>25),R=O+(P^w&(T^P))+C[5]+1200080426&4294967295,O=w+(R<<12&4294967295|R>>>20),R=P+(T^O&(w^T))+C[6]+2821735955&4294967295,P=O+(R<<17&4294967295|R>>>15),R=T+(w^P&(O^w))+C[7]+4249261313&4294967295,T=P+(R<<22&4294967295|R>>>10),R=w+(O^T&(P^O))+C[8]+1770035416&4294967295,w=T+(R<<7&4294967295|R>>>25),R=O+(P^w&(T^P))+C[9]+2336552879&4294967295,O=w+(R<<12&4294967295|R>>>20),R=P+(T^O&(w^T))+C[10]+4294925233&4294967295,P=O+(R<<17&4294967295|R>>>15),R=T+(w^P&(O^w))+C[11]+2304563134&4294967295,T=P+(R<<22&4294967295|R>>>10),R=w+(O^T&(P^O))+C[12]+1804603682&4294967295,w=T+(R<<7&4294967295|R>>>25),R=O+(P^w&(T^P))+C[13]+4254626195&4294967295,O=w+(R<<12&4294967295|R>>>20),R=P+(T^O&(w^T))+C[14]+2792965006&4294967295,P=O+(R<<17&4294967295|R>>>15),R=T+(w^P&(O^w))+C[15]+1236535329&4294967295,T=P+(R<<22&4294967295|R>>>10),R=w+(P^O&(T^P))+C[1]+4129170786&4294967295,w=T+(R<<5&4294967295|R>>>27),R=O+(T^P&(w^T))+C[6]+3225465664&4294967295,O=w+(R<<9&4294967295|R>>>23),R=P+(w^T&(O^w))+C[11]+643717713&4294967295,P=O+(R<<14&4294967295|R>>>18),R=T+(O^w&(P^O))+C[0]+3921069994&4294967295,T=P+(R<<20&4294967295|R>>>12),R=w+(P^O&(T^P))+C[5]+3593408605&4294967295,w=T+(R<<5&4294967295|R>>>27),R=O+(T^P&(w^T))+C[10]+38016083&4294967295,O=w+(R<<9&4294967295|R>>>23),R=P+(w^T&(O^w))+C[15]+3634488961&4294967295,P=O+(R<<14&4294967295|R>>>18),R=T+(O^w&(P^O))+C[4]+3889429448&4294967295,T=P+(R<<20&4294967295|R>>>12),R=w+(P^O&(T^P))+C[9]+568446438&4294967295,w=T+(R<<5&4294967295|R>>>27),R=O+(T^P&(w^T))+C[14]+3275163606&4294967295,O=w+(R<<9&4294967295|R>>>23),R=P+(w^T&(O^w))+C[3]+4107603335&4294967295,P=O+(R<<14&4294967295|R>>>18),R=T+(O^w&(P^O))+C[8]+1163531501&4294967295,T=P+(R<<20&4294967295|R>>>12),R=w+(P^O&(T^P))+C[13]+2850285829&4294967295,w=T+(R<<5&4294967295|R>>>27),R=O+(T^P&(w^T))+C[2]+4243563512&4294967295,O=w+(R<<9&4294967295|R>>>23),R=P+(w^T&(O^w))+C[7]+1735328473&4294967295,P=O+(R<<14&4294967295|R>>>18),R=T+(O^w&(P^O))+C[12]+2368359562&4294967295,T=P+(R<<20&4294967295|R>>>12),R=w+(T^P^O)+C[5]+4294588738&4294967295,w=T+(R<<4&4294967295|R>>>28),R=O+(w^T^P)+C[8]+2272392833&4294967295,O=w+(R<<11&4294967295|R>>>21),R=P+(O^w^T)+C[11]+1839030562&4294967295,P=O+(R<<16&4294967295|R>>>16),R=T+(P^O^w)+C[14]+4259657740&4294967295,T=P+(R<<23&4294967295|R>>>9),R=w+(T^P^O)+C[1]+2763975236&4294967295,w=T+(R<<4&4294967295|R>>>28),R=O+(w^T^P)+C[4]+1272893353&4294967295,O=w+(R<<11&4294967295|R>>>21),R=P+(O^w^T)+C[7]+4139469664&4294967295,P=O+(R<<16&4294967295|R>>>16),R=T+(P^O^w)+C[10]+3200236656&4294967295,T=P+(R<<23&4294967295|R>>>9),R=w+(T^P^O)+C[13]+681279174&4294967295,w=T+(R<<4&4294967295|R>>>28),R=O+(w^T^P)+C[0]+3936430074&4294967295,O=w+(R<<11&4294967295|R>>>21),R=P+(O^w^T)+C[3]+3572445317&4294967295,P=O+(R<<16&4294967295|R>>>16),R=T+(P^O^w)+C[6]+76029189&4294967295,T=P+(R<<23&4294967295|R>>>9),R=w+(T^P^O)+C[9]+3654602809&4294967295,w=T+(R<<4&4294967295|R>>>28),R=O+(w^T^P)+C[12]+3873151461&4294967295,O=w+(R<<11&4294967295|R>>>21),R=P+(O^w^T)+C[15]+530742520&4294967295,P=O+(R<<16&4294967295|R>>>16),R=T+(P^O^w)+C[2]+3299628645&4294967295,T=P+(R<<23&4294967295|R>>>9),R=w+(P^(T|~O))+C[0]+4096336452&4294967295,w=T+(R<<6&4294967295|R>>>26),R=O+(T^(w|~P))+C[7]+1126891415&4294967295,O=w+(R<<10&4294967295|R>>>22),R=P+(w^(O|~T))+C[14]+2878612391&4294967295,P=O+(R<<15&4294967295|R>>>17),R=T+(O^(P|~w))+C[5]+4237533241&4294967295,T=P+(R<<21&4294967295|R>>>11),R=w+(P^(T|~O))+C[12]+1700485571&4294967295,w=T+(R<<6&4294967295|R>>>26),R=O+(T^(w|~P))+C[3]+2399980690&4294967295,O=w+(R<<10&4294967295|R>>>22),R=P+(w^(O|~T))+C[10]+4293915773&4294967295,P=O+(R<<15&4294967295|R>>>17),R=T+(O^(P|~w))+C[1]+2240044497&4294967295,T=P+(R<<21&4294967295|R>>>11),R=w+(P^(T|~O))+C[8]+1873313359&4294967295,w=T+(R<<6&4294967295|R>>>26),R=O+(T^(w|~P))+C[15]+4264355552&4294967295,O=w+(R<<10&4294967295|R>>>22),R=P+(w^(O|~T))+C[6]+2734768916&4294967295,P=O+(R<<15&4294967295|R>>>17),R=T+(O^(P|~w))+C[13]+1309151649&4294967295,T=P+(R<<21&4294967295|R>>>11),R=w+(P^(T|~O))+C[4]+4149444226&4294967295,w=T+(R<<6&4294967295|R>>>26),R=O+(T^(w|~P))+C[11]+3174756917&4294967295,O=w+(R<<10&4294967295|R>>>22),R=P+(w^(O|~T))+C[2]+718787259&4294967295,P=O+(R<<15&4294967295|R>>>17),R=T+(O^(P|~w))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+w&4294967295,E.g[1]=E.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+O&4294967295}i.prototype.u=function(E,w){w===void 0&&(w=E.length);for(var T=w-this.blockSize,C=this.B,P=this.h,O=0;O<w;){if(P==0)for(;O<=T;)r(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<w;)if(C[P++]=E.charCodeAt(O++),P==this.blockSize){r(this,C),P=0;break}}else for(;O<w;)if(C[P++]=E[O++],P==this.blockSize){r(this,C),P=0;break}}this.h=P,this.o+=w},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var w=1;w<E.length-8;++w)E[w]=0;var T=8*this.o;for(w=E.length-8;w<E.length;++w)E[w]=T&255,T/=256;for(this.u(E),E=Array(16),w=T=0;4>w;++w)for(var C=0;32>C;C+=8)E[T++]=this.g[w]>>>C&255;return E};function s(E,w){var T=a;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=w(E)}function o(E,w){this.h=w;for(var T=[],C=!0,P=E.length-1;0<=P;P--){var O=E[P]|0;C&&O==w||(T[P]=O,C=!1)}this.g=T}var a={};function l(E){return-128<=E&&128>E?s(E,function(w){return new o([w|0],0>w?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return x(c(-E));for(var w=[],T=1,C=0;E>=T;C++)w[C]=E/T|0,T*=4294967296;return new o(w,0)}function u(E,w){if(E.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(E.charAt(0)=="-")return x(u(E.substring(1),w));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(w,8)),C=d,P=0;P<E.length;P+=8){var O=Math.min(8,E.length-P),R=parseInt(E.substring(P,P+O),w);8>O?(O=c(Math.pow(w,O)),C=C.j(O).add(c(R))):(C=C.j(T),C=C.add(c(R)))}return C}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-x(this).m();for(var E=0,w=1,T=0;T<this.g.length;T++){var C=this.i(T);E+=(0<=C?C:4294967296+C)*w,w*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(y(this))return"-"+x(this).toString(E);for(var w=c(Math.pow(E,6)),T=this,C="";;){var P=A(T,w).g;T=_(T,P.j(w));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(E);if(T=P,g(T))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var w=0;w<E.g.length;w++)if(E.g[w]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=_(this,E),y(E)?-1:g(E)?0:1};function x(E){for(var w=E.g.length,T=[],C=0;C<w;C++)T[C]=~E.g[C];return new o(T,~E.h).add(f)}t.abs=function(){return y(this)?x(this):this},t.add=function(E){for(var w=Math.max(this.g.length,E.g.length),T=[],C=0,P=0;P<=w;P++){var O=C+(this.i(P)&65535)+(E.i(P)&65535),R=(O>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);C=R>>>16,O&=65535,R&=65535,T[P]=R<<16|O}return new o(T,T[T.length-1]&-2147483648?-1:0)};function _(E,w){return E.add(x(w))}t.j=function(E){if(g(this)||g(E))return d;if(y(this))return y(E)?x(this).j(x(E)):x(x(this).j(E));if(y(E))return x(this.j(x(E)));if(0>this.l(p)&&0>E.l(p))return c(this.m()*E.m());for(var w=this.g.length+E.g.length,T=[],C=0;C<2*w;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<E.g.length;P++){var O=this.i(C)>>>16,R=this.i(C)&65535,Y=E.i(P)>>>16,G=E.i(P)&65535;T[2*C+2*P]+=R*G,v(T,2*C+2*P),T[2*C+2*P+1]+=O*G,v(T,2*C+2*P+1),T[2*C+2*P+1]+=R*Y,v(T,2*C+2*P+1),T[2*C+2*P+2]+=O*Y,v(T,2*C+2*P+2)}for(C=0;C<w;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=w;C<2*w;C++)T[C]=0;return new o(T,0)};function v(E,w){for(;(E[w]&65535)!=E[w];)E[w+1]+=E[w]>>>16,E[w]&=65535,w++}function S(E,w){this.g=E,this.h=w}function A(E,w){if(g(w))throw Error("division by zero");if(g(E))return new S(d,d);if(y(E))return w=A(x(E),w),new S(x(w.g),x(w.h));if(y(w))return w=A(E,x(w)),new S(x(w.g),w.h);if(30<E.g.length){if(y(E)||y(w))throw Error("slowDivide_ only works with positive integers.");for(var T=f,C=w;0>=C.l(E);)T=D(T),C=D(C);var P=M(T,1),O=M(C,1);for(C=M(C,2),T=M(T,2);!g(C);){var R=O.add(C);0>=R.l(E)&&(P=P.add(T),O=R),C=M(C,1),T=M(T,1)}return w=_(E,P.j(w)),new S(P,w)}for(P=d;0<=E.l(w);){for(T=Math.max(1,Math.floor(E.m()/w.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=c(T),R=O.j(w);y(R)||0<R.l(E);)T-=C,O=c(T),R=O.j(w);g(O)&&(O=f),P=P.add(O),E=_(E,R)}return new S(P,E)}t.A=function(E){return A(this,E).h},t.and=function(E){for(var w=Math.max(this.g.length,E.g.length),T=[],C=0;C<w;C++)T[C]=this.i(C)&E.i(C);return new o(T,this.h&E.h)},t.or=function(E){for(var w=Math.max(this.g.length,E.g.length),T=[],C=0;C<w;C++)T[C]=this.i(C)|E.i(C);return new o(T,this.h|E.h)},t.xor=function(E){for(var w=Math.max(this.g.length,E.g.length),T=[],C=0;C<w;C++)T[C]=this.i(C)^E.i(C);return new o(T,this.h^E.h)};function D(E){for(var w=E.g.length+1,T=[],C=0;C<w;C++)T[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(T,E.h)}function M(E,w){var T=w>>5;w%=32;for(var C=E.g.length-T,P=[],O=0;O<C;O++)P[O]=0<w?E.i(O+T)>>>w|E.i(O+T+1)<<32-w:E.i(O+T);return new o(P,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Lk=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ks=o}).apply(typeof QE<"u"?QE:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nk,Vk,Yl,Fk,Id,Gy,$k,jk,Uk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,m,b){return h==Array.prototype||h==Object.prototype||(h[m]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var m=0;m<h.length;++m){var b=h[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function r(h,m){if(m)e:{var b=i;h=h.split(".");for(var k=0;k<h.length-1;k++){var L=h[k];if(!(L in b))break e;b=b[L]}h=h[h.length-1],k=b[h],m=m(k),m!=k&&m!=null&&e(b,h,{configurable:!0,writable:!0,value:m})}}function s(h,m){h instanceof String&&(h+="");var b=0,k=!1,L={next:function(){if(!k&&b<h.length){var N=b++;return{value:m(N,h[N]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}r("Array.prototype.values",function(h){return h||function(){return s(this,function(m,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var m=typeof h;return m=m!="object"?m:h?Array.isArray(h)?"array":m:"null",m=="array"||m=="object"&&typeof h.length=="number"}function c(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function u(h,m,b){return h.call.apply(h.bind,arguments)}function d(h,m,b){if(!h)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),h.apply(m,L)}}return function(){return h.apply(m,arguments)}}function f(h,m,b){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function p(h,m){var b=Array.prototype.slice.call(arguments,1);return function(){var k=b.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function g(h,m){function b(){}b.prototype=m.prototype,h.aa=m.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(k,L,N){for(var J=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)J[Re-2]=arguments[Re];return m.prototype[L].apply(k,J)}}function y(h){const m=h.length;if(0<m){const b=Array(m);for(let k=0;k<m;k++)b[k]=h[k];return b}return[]}function x(h,m){for(let b=1;b<arguments.length;b++){const k=arguments[b];if(l(k)){const L=h.length||0,N=k.length||0;h.length=L+N;for(let J=0;J<N;J++)h[L+J]=k[J]}else h.push(k)}}class _{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(h){return/^[\s\xa0]*$/.test(h)}function S(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(h,m,b){for(const k in h)m.call(b,h[k],k,h)}function E(h,m){for(const b in h)m.call(void 0,h[b],b,h)}function w(h){const m={};for(const b in h)m[b]=h[b];return m}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,m){let b,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(b in k)h[b]=k[b];for(let N=0;N<T.length;N++)b=T[N],Object.prototype.hasOwnProperty.call(k,b)&&(h[b]=k[b])}}function P(h){var m=1;h=h.split(":");const b=[];for(;0<m&&h.length;)b.push(h.shift()),m--;return h.length&&b.push(h.join(":")),b}function O(h){a.setTimeout(()=>{throw h},0)}function R(){var h=B;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class Y{constructor(){this.h=this.g=null}add(m,b){const k=G.get();k.set(m,b),this.h?this.h.next=k:this.g=k,this.h=k}}var G=new _(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,U=!1,B=new Y,$=()=>{const h=a.Promise.resolve(void 0);ie=()=>{h.then(X)}};var X=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(b){O(b)}var m=G;m.j(h),100>m.h&&(m.h++,h.next=m.g,m.g=h)}U=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};a.addEventListener("test",b,m),a.removeEventListener("test",b,m)}catch(b){}return h}();function ue(h,m){if(re.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget){if(D){e:{try{A(m.nodeName);var L=!0;break e}catch(N){}L=!1}L||(m=null)}}else b=="mouseover"?m=h.fromElement:b=="mouseout"&&(m=h.toElement);this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ve[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ue.aa.h.call(this)}}g(ue,re);var ve={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Hn=0;function Ao(h,m,b,k,L){this.listener=h,this.proxy=null,this.src=m,this.type=b,this.capture=!!k,this.ha=L,this.key=++Hn,this.da=this.fa=!1}function bs(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ro(h){this.src=h,this.g={},this.h=0}Ro.prototype.add=function(h,m,b,k,L){var N=h.toString();h=this.g[N],h||(h=this.g[N]=[],this.h++);var J=sl(h,m,k,L);return-1<J?(m=h[J],b||(m.fa=!1)):(m=new Ao(m,this.src,N,!!k,L),m.fa=b,h.push(m)),m};function Es(h,m){var b=m.type;if(b in h.g){var k=h.g[b],L=Array.prototype.indexOf.call(k,m,void 0),N;(N=0<=L)&&Array.prototype.splice.call(k,L,1),N&&(bs(m),h.g[b].length==0&&(delete h.g[b],h.h--))}}function sl(h,m,b,k){for(var L=0;L<h.length;++L){var N=h[L];if(!N.da&&N.listener==m&&N.capture==!!b&&N.ha==k)return L}return-1}var Oo="closure_lm_"+(1e6*Math.random()|0),ol={};function Ku(h,m,b,k,L){if(Array.isArray(m)){for(var N=0;N<m.length;N++)Ku(h,m[N],b,k,L);return null}return b=Xu(b),h&&h[Ie]?h.K(m,b,c(k)?!!k.capture:!!k,L):am(h,m,b,!1,k,L)}function am(h,m,b,k,L,N){if(!m)throw Error("Invalid event type");var J=c(L)?!!L.capture:!!L,Re=ll(h);if(Re||(h[Oo]=Re=new Ro(h)),b=Re.add(m,b,k,J,N),b.proxy)return b;if(k=lm(),b.proxy=k,k.src=h,k.listener=b,h.addEventListener)oe||(L=J),L===void 0&&(L=!1),h.addEventListener(m.toString(),k,L);else if(h.attachEvent)h.attachEvent(Qu(m.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return b}function lm(){function h(b){return m.call(h.src,h.listener,b)}const m=cm;return h}function Yu(h,m,b,k,L){if(Array.isArray(m))for(var N=0;N<m.length;N++)Yu(h,m[N],b,k,L);else k=c(k)?!!k.capture:!!k,b=Xu(b),h&&h[Ie]?(h=h.i,m=String(m).toString(),m in h.g&&(N=h.g[m],b=sl(N,b,k,L),-1<b&&(bs(N[b]),Array.prototype.splice.call(N,b,1),N.length==0&&(delete h.g[m],h.h--)))):h&&(h=ll(h))&&(m=h.g[m.toString()],h=-1,m&&(h=sl(m,b,k,L)),(b=-1<h?m[h]:null)&&al(b))}function al(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[Ie])Es(m.i,h);else{var b=h.type,k=h.proxy;m.removeEventListener?m.removeEventListener(b,k,h.capture):m.detachEvent?m.detachEvent(Qu(b),k):m.addListener&&m.removeListener&&m.removeListener(k),(b=ll(m))?(Es(b,h),b.h==0&&(b.src=null,m[Oo]=null)):bs(h)}}}function Qu(h){return h in ol?ol[h]:ol[h]="on"+h}function cm(h,m){if(h.da)h=!0;else{m=new ue(m,this);var b=h.listener,k=h.ha||h.src;h.fa&&al(h),h=b.call(k,m)}return h}function ll(h){return h=h[Oo],h instanceof Ro?h:null}var cl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xu(h){return typeof h=="function"?h:(h[cl]||(h[cl]=function(m){return h.handleEvent(m)}),h[cl])}function vt(){q.call(this),this.i=new Ro(this),this.M=this,this.F=null}g(vt,q),vt.prototype[Ie]=!0,vt.prototype.removeEventListener=function(h,m,b,k){Yu(this,h,m,b,k)};function Ct(h,m){var b,k=h.F;if(k)for(b=[];k;k=k.F)b.push(k);if(h=h.M,k=m.type||m,typeof m=="string")m=new re(m,h);else if(m instanceof re)m.target=m.target||h;else{var L=m;m=new re(k,h),C(m,L)}if(L=!0,b)for(var N=b.length-1;0<=N;N--){var J=m.g=b[N];L=_r(J,k,!0,m)&&L}if(J=m.g=h,L=_r(J,k,!0,m)&&L,L=_r(J,k,!1,m)&&L,b)for(N=0;N<b.length;N++)J=m.g=b[N],L=_r(J,k,!1,m)&&L}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var h=this.i,m;for(m in h.g){for(var b=h.g[m],k=0;k<b.length;k++)bs(b[k]);delete h.g[m],h.h--}}this.F=null},vt.prototype.K=function(h,m,b,k){return this.i.add(String(h),m,!1,b,k)},vt.prototype.L=function(h,m,b,k){return this.i.add(String(h),m,!0,b,k)};function _r(h,m,b,k){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,N=0;N<m.length;++N){var J=m[N];if(J&&!J.da&&J.capture==b){var Re=J.listener,kt=J.ha||J.src;J.fa&&Es(h.i,J),L=Re.call(kt,k)!==!1&&L}}return L&&!k.defaultPrevented}function xs(h,m,b){if(typeof h=="function")b&&(h=f(h,b));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(h,m||0)}function Do(h){h.g=xs(()=>{h.g=null,h.i&&(h.i=!1,Do(h))},h.l);const m=h.h;h.h=null,h.m.apply(null,m)}class wr extends q{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(h){q.call(this),this.h=h,this.g={}}g(Vi,q);var Mo=[];function Ju(h){M(h.g,function(m,b){this.g.hasOwnProperty(b)&&al(m)},h),h.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),Ju(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ul=a.JSON.stringify,um=a.JSON.parse,hm=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function hl(){}hl.prototype.h=null;function Zu(h){return h.h||(h.h=h.i())}function eh(){}var Ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dl(){re.call(this,"d")}g(dl,re);function fl(){re.call(this,"c")}g(fl,re);var Fi={},th=null;function Lo(){return th=th||new vt}Fi.La="serverreachability";function nh(h){re.call(this,Fi.La,h)}g(nh,re);function hi(h){const m=Lo();Ct(m,new nh(m))}Fi.STAT_EVENT="statevent";function ih(h,m){re.call(this,Fi.STAT_EVENT,h),this.stat=m}g(ih,re);function _t(h){const m=Lo();Ct(m,new ih(m,h))}Fi.Ma="timingevent";function br(h,m){re.call(this,Fi.Ma,h),this.size=m}g(br,re);function Er(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},m)}function wt(){this.g=!0}wt.prototype.xa=function(){this.g=!1};function dm(h,m,b,k,L,N){h.info(function(){if(h.g)if(N)for(var J="",Re=N.split("&"),kt=0;kt<Re.length;kt++){var Te=Re[kt].split("=");if(1<Te.length){var Ft=Te[0];Te=Te[1];var $t=Ft.split("_");J=2<=$t.length&&$t[1]=="type"?J+(Ft+"="+Te+"&"):J+(Ft+"=redacted&")}}else J=null;else J=N;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+m+"\n"+b+"\n"+J})}function fm(h,m,b,k,L,N,J){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+m+"\n"+b+"\n"+N+" "+J})}function xr(h,m,b,k){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+pm(h,b)+(k?" "+k:"")})}function rh(h,m){h.info(function(){return"TIMEOUT: "+m})}wt.prototype.info=function(){};function pm(h,m){if(!h.g)return m;if(!m)return null;try{var b=JSON.parse(m);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var k=b[h];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var N=L[0];if(N!="noop"&&N!="stop"&&N!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return ul(b)}catch(Re){return m}}var No={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pl;function Ss(){}g(Ss,hl),Ss.prototype.g=function(){return new XMLHttpRequest},Ss.prototype.i=function(){return{}},pl=new Ss;function di(h,m,b,k){this.j=h,this.i=m,this.l=b,this.R=k||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ml}function ml(){this.i=null,this.g="",this.h=!1}var mm={},oh={};function V(h,m,b){h.L=1,h.v=ch($i(m)),h.m=b,h.P=!0,ee(h,null)}function ee(h,m){h.F=Date.now(),ot(h),h.A=$i(h.v);var b=h.A,k=h.R;Array.isArray(k)||(k=[String(k)]),Ow(b.i,"t",k),h.C=0,b=h.j.J,h.h=new ml,h.g=Qw(h.j,b?m:null,!h.m),0<h.O&&(h.M=new wr(f(h.Y,h,h.g),h.O)),m=h.U,b=h.g,k=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(Mo[0]=L.toString()),L=Mo);for(var N=0;N<L.length;N++){var J=Ku(b,L[N],k||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,m)):(h.u="GET",h.g.ea(h.A,h.u,null,m)),hi(),dm(h.i,h.u,h.A,h.l,h.R,h.m)}di.prototype.ca=function(h){h=h.target;const m=this.M;m&&ji(h)==3?m.j():this.Y(h)},di.prototype.Y=function(h){try{if(h==this.g)e:{const $t=ji(this.g);var m=this.g.Ba();const $o=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||$w(this.g)))){this.J||$t!=4||m==7||(m==8||0>=$o?hi(3):hi(2)),qn(this);var b=this.g.Z();this.X=b;t:if(me(this)){var k=$w(this.g);h="";var L=k.length,N=ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),gl(this);var J="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,h+=this.h.i.decode(k[m],{stream:!(N&&m==L-1)});k.length=0,this.h.g+=h,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=b==200,fm(this.i,this.u,this.A,this.l,this.R,$t,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,kt=this.g;if((Re=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Re)){var Te=Re;break t}}Te=null}if(b=Te)xr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gm(this,b);else{this.o=!1,this.s=3,_t(12),Is(this),gl(this);break e}}if(this.P){b=!0;let Gn;for(;!this.J&&this.C<J.length;)if(Gn=He(this,J),Gn==oh){$t==4&&(this.s=4,_t(14),b=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==mm){this.s=4,_t(15),xr(this.i,this.l,J,"[Invalid Chunk]"),b=!1;break}else xr(this.i,this.l,Gn,null),gm(this,Gn);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||J.length!=0||this.h.h||(this.s=1,_t(16),b=!1),this.o=this.o&&b,!b)xr(this.i,this.l,J,"[Invalid Chunked Response]"),Is(this),gl(this);else if(0<J.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Em(Ft),Ft.M=!0,_t(11))}}else xr(this.i,this.l,J,null),gm(this,J);$t==4&&Is(this),this.o&&!this.J&&($t==4?qw(this.j,this):(this.o=!1,ot(this)))}else PD(this.g),b==400&&0<J.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Is(this),gl(this)}}}catch($t){}finally{}};function me(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function He(h,m){var b=h.C,k=m.indexOf("\n",b);return k==-1?oh:(b=Number(m.substring(b,k)),isNaN(b)?mm:(k+=1,k+b>m.length?oh:(m=m.slice(k,k+b),h.C=k+b,m)))}di.prototype.cancel=function(){this.J=!0,Is(this)};function ot(h){h.S=Date.now()+h.I,vn(h,h.I)}function vn(h,m){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Er(f(h.ba,h),m)}function qn(h){h.B&&(a.clearTimeout(h.B),h.B=null)}di.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(rh(this.i,this.A),this.L!=2&&(hi(),_t(17)),Is(this),this.s=2,gl(this)):vn(this,this.S-h)};function gl(h){h.j.G==0||h.J||qw(h.j,h)}function Is(h){qn(h);var m=h.M;m&&typeof m.ma=="function"&&m.ma(),h.M=null,Ju(h.U),h.g&&(m=h.g,h.g=null,m.abort(),m.ma())}function gm(h,m){try{var b=h.j;if(b.G!=0&&(b.g==h||ym(b.h,h))){if(!h.K&&ym(b.h,h)&&b.G==3){try{var k=b.Da.g.parse(m)}catch(Te){k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)ph(b),dh(b);else break e;bm(b),_t(18)}}else b.za=L[1],0<b.za-b.T&&37500>L[2]&&b.F&&b.v==0&&!b.C&&(b.C=Er(f(b.Za,b),6e3));if(1>=xw(b.h)&&b.ca){try{b.ca()}catch(Te){}b.ca=void 0}}else ks(b,11)}else if((h.K||b.g==h)&&ph(b),!v(m))for(L=b.Da.g.parse(m),m=0;m<L.length;m++){let Te=L[m];if(b.T=Te[0],Te=Te[1],b.G==2)if(Te[0]=="c"){b.K=Te[1],b.ia=Te[2];const Ft=Te[3];Ft!=null&&(b.la=Ft,b.j.info("VER="+b.la));const $t=Te[4];$t!=null&&(b.Aa=$t,b.j.info("SVER="+b.Aa));const $o=Te[5];$o!=null&&typeof $o=="number"&&0<$o&&(k=1.5*$o,b.L=k,b.j.info("backChannelRequestTimeoutMs_="+k)),k=b;const Gn=h.g;if(Gn){const gh=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gh){var N=k.h;N.g||gh.indexOf("spdy")==-1&&gh.indexOf("quic")==-1&&gh.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(vm(N,N.h),N.h=null))}if(k.D){const xm=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;xm&&(k.ya=xm,Ne(k.I,k.D,xm))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),k=b;var J=h;if(k.qa=Yw(k,k.J?k.ia:null,k.W),J.K){Tw(k.h,J);var Re=J,kt=k.L;kt&&(Re.I=kt),Re.B&&(qn(Re),ot(Re)),k.g=J}else Ww(k);0<b.i.length&&fh(b)}else Te[0]!="stop"&&Te[0]!="close"||ks(b,7);else b.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?ks(b,7):wm(b):Te[0]!="noop"&&b.l&&b.l.ta(Te),b.v=0)}}hi(4)}catch(Te){}}var fD=class{constructor(h,m){this.g=h,this.map=m}};function bw(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ew(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xw(h){return h.h?1:h.g?h.g.size:0}function ym(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function vm(h,m){h.g?h.g.add(m):h.h=m}function Tw(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}bw.prototype.cancel=function(){if(this.i=Sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sw(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let m=h.i;for(const b of h.g.values())m=m.concat(b.D);return m}return y(h.i)}function pD(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var m=[],b=h.length,k=0;k<b;k++)m.push(h[k]);return m}m=[],b=0;for(k in h)m[b++]=h[k];return m}function mD(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var m=[];h=h.length;for(var b=0;b<h;b++)m.push(b);return m}m=[],b=0;for(const k in h)m[b++]=k;return m}}}function Iw(h,m){if(h.forEach&&typeof h.forEach=="function")h.forEach(m,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,m,void 0);else for(var b=mD(h),k=pD(h),L=k.length,N=0;N<L;N++)m.call(void 0,k[N],b&&b[N],h)}var Cw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gD(h,m){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var k=h[b].indexOf("="),L=null;if(0<=k){var N=h[b].substring(0,k);L=h[b].substring(k+1)}else N=h[b];m(N,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Cs(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Cs){this.h=h.h,ah(this,h.j),this.o=h.o,this.g=h.g,lh(this,h.s),this.l=h.l;var m=h.i,b=new _l;b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),kw(this,b),this.m=h.m}else h&&(m=String(h).match(Cw))?(this.h=!1,ah(this,m[1]||"",!0),this.o=yl(m[2]||""),this.g=yl(m[3]||"",!0),lh(this,m[4]),this.l=yl(m[5]||"",!0),kw(this,m[6]||"",!0),this.m=yl(m[7]||"")):(this.h=!1,this.i=new _l(null,this.h))}Cs.prototype.toString=function(){var h=[],m=this.j;m&&h.push(vl(m,Pw,!0),":");var b=this.g;return(b||m=="file")&&(h.push("//"),(m=this.o)&&h.push(vl(m,Pw,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(vl(b,b.charAt(0)=="/"?_D:vD,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",vl(b,bD)),h.join("")};function $i(h){return new Cs(h)}function ah(h,m,b){h.j=b?yl(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function lh(h,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);h.s=m}else h.s=null}function kw(h,m,b){m instanceof _l?(h.i=m,ED(h.i,h.h)):(b||(m=vl(m,wD)),h.i=new _l(m,h.h))}function Ne(h,m,b){h.i.set(m,b)}function ch(h){return Ne(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function yl(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function vl(h,m,b){return typeof h=="string"?(h=encodeURI(h).replace(m,yD),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yD(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Pw=/[#\/\?@]/g,vD=/[#\?:]/g,_D=/[#\?]/g,wD=/[#\?@]/g,bD=/#/g;function _l(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function Tr(h){h.g||(h.g=new Map,h.h=0,h.i&&gD(h.i,function(m,b){h.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}t=_l.prototype,t.add=function(h,m){Tr(this),this.i=null,h=Vo(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(m),this.h+=1,this};function Aw(h,m){Tr(h),m=Vo(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function Rw(h,m){return Tr(h),m=Vo(h,m),h.g.has(m)}t.forEach=function(h,m){Tr(this),this.g.forEach(function(b,k){b.forEach(function(L){h.call(m,L,k,this)},this)},this)},t.na=function(){Tr(this);const h=Array.from(this.g.values()),m=Array.from(this.g.keys()),b=[];for(let k=0;k<m.length;k++){const L=h[k];for(let N=0;N<L.length;N++)b.push(m[k])}return b},t.V=function(h){Tr(this);let m=[];if(typeof h=="string")Rw(this,h)&&(m=m.concat(this.g.get(Vo(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)m=m.concat(h[b])}return m},t.set=function(h,m){return Tr(this),this.i=null,h=Vo(this,h),Rw(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},t.get=function(h,m){return h?(h=this.V(h),0<h.length?String(h[0]):m):m};function Ow(h,m,b){Aw(h,m),0<b.length&&(h.i=null,h.g.set(Vo(h,m),y(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],m=Array.from(this.g.keys());for(var b=0;b<m.length;b++){var k=m[b];const N=encodeURIComponent(String(k)),J=this.V(k);for(k=0;k<J.length;k++){var L=N;J[k]!==""&&(L+="="+encodeURIComponent(String(J[k]))),h.push(L)}}return this.i=h.join("&")};function Vo(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function ED(h,m){m&&!h.j&&(Tr(h),h.i=null,h.g.forEach(function(b,k){var L=k.toLowerCase();k!=L&&(Aw(this,k),Ow(this,L,b))},h)),h.j=m}function xD(h,m){const b=new wt;if(a.Image){const k=new Image;k.onload=p(Sr,b,"TestLoadImage: loaded",!0,m,k),k.onerror=p(Sr,b,"TestLoadImage: error",!1,m,k),k.onabort=p(Sr,b,"TestLoadImage: abort",!1,m,k),k.ontimeout=p(Sr,b,"TestLoadImage: timeout",!1,m,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else m(!1)}function TD(h,m){const b=new wt,k=new AbortController,L=setTimeout(()=>{k.abort(),Sr(b,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:k.signal}).then(N=>{clearTimeout(L),N.ok?Sr(b,"TestPingServer: ok",!0,m):Sr(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sr(b,"TestPingServer: error",!1,m)})}function Sr(h,m,b,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(b)}catch(N){}}function SD(){this.g=new hm}function ID(h,m,b){const k=b||"";try{Iw(h,function(L,N){let J=L;c(L)&&(J=ul(L)),m.push(k+N+"="+encodeURIComponent(J))})}catch(L){throw m.push(k+"type="+encodeURIComponent("_badmap")),L}}function wl(h){this.l=h.Ub||null,this.j=h.eb||!1}g(wl,hl),wl.prototype.g=function(){return new uh(this.l,this.j)},wl.prototype.i=function(h){return function(){return h}}({});function uh(h,m){vt.call(this),this.D=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(uh,vt),t=uh.prototype,t.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=m,this.readyState=1,El(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(m.body=h),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bl(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dw(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dw(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?bl(this):El(this),this.readyState==3&&Dw(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,bl(this))},t.Qa=function(h){this.g&&(this.response=h,bl(this))},t.ga=function(){this.g&&bl(this)};function bl(h){h.readyState=4,h.l=null,h.j=null,h.v=null,El(h)}t.setRequestHeader=function(h,m){this.u.append(h,m)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=m.next();return h.join("\r\n")};function El(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Mw(h){let m="";return M(h,function(b,k){m+=k,m+=":",m+=b,m+="\r\n"}),m}function _m(h,m,b){e:{for(k in b){var k=!1;break e}k=!0}k||(b=Mw(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):Ne(h,m,b))}function Xe(h){vt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Xe,vt);var CD=/^https?$/i,kD=["POST","PUT"];t=Xe.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,m,b,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pl.g(),this.v=this.o?Zu(this.o):Zu(pl),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(N){Lw(this,N);return}if(h=b||"",b=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)b.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const N of k.keys())b.set(N,k.get(N));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(b.keys()).find(N=>N.toLowerCase()=="content-type"),L=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kD,m,void 0))||k||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,J]of b)this.g.setRequestHeader(N,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fw(this),this.u=!0,this.g.send(h),this.u=!1}catch(N){Lw(this,N)}};function Lw(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.m=5,Nw(h),hh(h)}function Nw(h){h.A||(h.A=!0,Ct(h,"complete"),Ct(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ct(this,"complete"),Ct(this,"abort"),hh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hh(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vw(this):this.bb())},t.bb=function(){Vw(this)};function Vw(h){if(h.h&&typeof o<"u"&&(!h.v[1]||ji(h)!=4||h.Z()!=2)){if(h.u&&ji(h)==4)xs(h.Ea,0,h);else if(Ct(h,"readystatechange"),ji(h)==4){h.h=!1;try{const J=h.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var k;if(k=J===0){var L=String(h.D).match(Cw)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),k=!CD.test(L?L.toLowerCase():"")}b=k}if(b)Ct(h,"complete"),Ct(h,"success");else{h.m=6;try{var N=2<ji(h)?h.g.statusText:""}catch(Re){N=""}h.l=N+" ["+h.Z()+"]",Nw(h)}}finally{hh(h)}}}}function hh(h,m){if(h.g){Fw(h);const b=h.g,k=h.v[0]?()=>{}:null;h.g=null,h.v=null,m||Ct(h,"ready");try{b.onreadystatechange=k}catch(L){}}}function Fw(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ji(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ji(this)?this.g.status:-1}catch(h){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(h){return""}},t.Oa=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),um(m)}};function $w(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch(m){return null}}function PD(h){const m={};h=(h.g&&2<=ji(h)&&h.g.getAllResponseHeaders()||"").split("\r\n");for(let k=0;k<h.length;k++){if(v(h[k]))continue;var b=P(h[k]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const N=m[L]||[];m[L]=N,N.push(b)}E(m,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xl(h,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||m}function jw(h){this.Aa=0,this.i=[],this.j=new wt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xl("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xl("baseRetryDelayMs",5e3,h),this.cb=xl("retryDelaySeedMs",1e4,h),this.Wa=xl("forwardChannelMaxRetries",2,h),this.wa=xl("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new bw(h&&h.concurrentRequestLimit),this.Da=new SD,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jw.prototype,t.la=8,t.G=1,t.connect=function(h,m,b,k){_t(0),this.W=h,this.H=m||{},b&&k!==void 0&&(this.H.OSID=b,this.H.OAID=k),this.F=this.X,this.I=Yw(this,null,this.W),fh(this)};function wm(h){if(Uw(h),h.G==3){var m=h.U++,b=$i(h.I);if(Ne(b,"SID",h.K),Ne(b,"RID",m),Ne(b,"TYPE","terminate"),Tl(h,b),m=new di(h,h.j,m),m.L=2,m.v=ch($i(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(m.v.toString(),"")}catch(k){}!b&&a.Image&&(new Image().src=m.v,b=!0),b||(m.g=Qw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}Kw(h)}function dh(h){h.g&&(Em(h),h.g.cancel(),h.g=null)}function Uw(h){dh(h),h.u&&(a.clearTimeout(h.u),h.u=null),ph(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function fh(h){if(!Ew(h.h)&&!h.s){h.s=!0;var m=h.Ga;ie||$(),U||(ie(),U=!0),B.add(m,h),h.B=0}}function AD(h,m){return xw(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=m.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Er(f(h.Ga,h,m),Gw(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new di(this,this.j,h);let N=this.o;if(this.S&&(N?(N=w(N),C(N,this.S)):N=this.S),this.m!==null||this.O||(L.H=N,N=null),this.P)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var k=this.i[b];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,4096<m){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=zw(this,L,m),b=$i(this.I),Ne(b,"RID",h),Ne(b,"CVER",22),this.D&&Ne(b,"X-HTTP-Session-Id",this.D),Tl(this,b),N&&(this.O?m="headers="+encodeURIComponent(String(Mw(N)))+"&"+m:this.m&&_m(b,this.m,N)),vm(this.h,L),this.Ua&&Ne(b,"TYPE","init"),this.P?(Ne(b,"$req",m),Ne(b,"SID","null"),L.T=!0,V(L,b,null)):V(L,b,m),this.G=2}}else this.G==3&&(h?Bw(this,h):this.i.length==0||Ew(this.h)||Bw(this))};function Bw(h,m){var b;m?b=m.l:b=h.U++;const k=$i(h.I);Ne(k,"SID",h.K),Ne(k,"RID",b),Ne(k,"AID",h.T),Tl(h,k),h.m&&h.o&&_m(k,h.m,h.o),b=new di(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),m&&(h.i=m.D.concat(h.i)),m=zw(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),vm(h.h,b),V(b,k,m)}function Tl(h,m){h.H&&M(h.H,function(b,k){Ne(m,k,b)}),h.l&&Iw({},function(b,k){Ne(m,k,b)})}function zw(h,m,b){b=Math.min(h.i.length,b);var k=h.l?f(h.l.Na,h.l,h):null;e:{var L=h.i;let N=-1;for(;;){const J=["count="+b];N==-1?0<b?(N=L[0].g,J.push("ofs="+N)):N=0:J.push("ofs="+N);let Re=!0;for(let kt=0;kt<b;kt++){let Te=L[kt].g;const Ft=L[kt].map;if(Te-=N,0>Te)N=Math.max(0,L[kt].g-100),Re=!1;else try{ID(Ft,J,"req"+Te+"_")}catch($t){k&&k(Ft)}}if(Re){k=J.join("&");break e}}}return h=h.i.splice(0,b),m.D=h,k}function Ww(h){if(!h.g&&!h.u){h.Y=1;var m=h.Fa;ie||$(),U||(ie(),U=!0),B.add(m,h),h.v=0}}function bm(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Er(f(h.Fa,h),Gw(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Hw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Er(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),dh(this),Hw(this))};function Em(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Hw(h){h.g=new di(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var m=$i(h.qa);Ne(m,"RID","rpc"),Ne(m,"SID",h.K),Ne(m,"AID",h.T),Ne(m,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ne(m,"TO",h.ja),Ne(m,"TYPE","xmlhttp"),Tl(h,m),h.m&&h.o&&_m(m,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=ch($i(m)),b.m=null,b.P=!0,ee(b,h)}t.Za=function(){this.C!=null&&(this.C=null,dh(this),bm(this),_t(19))};function ph(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function qw(h,m){var b=null;if(h.g==m){ph(h),Em(h),h.g=null;var k=2}else if(ym(h.h,m))b=m.D,Tw(h.h,m),k=1;else return;if(h.G!=0){if(m.o)if(k==1){b=m.m?m.m.length:0,m=Date.now()-m.F;var L=h.B;k=Lo(),Ct(k,new br(k,b)),fh(h)}else Ww(h);else if(L=m.s,L==3||L==0&&0<m.X||!(k==1&&AD(h,m)||k==2&&bm(h)))switch(b&&0<b.length&&(m=h.h,m.i=m.i.concat(b)),L){case 1:ks(h,5);break;case 4:ks(h,10);break;case 3:ks(h,6);break;default:ks(h,2)}}}function Gw(h,m){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*m}function ks(h,m){if(h.j.info("Error code "+m),m==2){var b=f(h.fb,h),k=h.Xa;const L=!k;k=new Cs(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ah(k,"https"),ch(k),L?xD(k.toString(),b):TD(k.toString(),b)}else _t(2);h.G=0,h.l&&h.l.sa(m),Kw(h),Uw(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Kw(h){if(h.G=0,h.ka=[],h.l){const m=Sw(h.h);(m.length!=0||h.i.length!=0)&&(x(h.ka,m),x(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function Yw(h,m,b){var k=b instanceof Cs?$i(b):new Cs(b);if(k.g!="")m&&(k.g=m+"."+k.g),lh(k,k.s);else{var L=a.location;k=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var N=new Cs(null);k&&ah(N,k),m&&(N.g=m),L&&lh(N,L),b&&(N.l=b),k=N}return b=h.D,m=h.ya,b&&m&&Ne(k,b,m),Ne(k,"VER",h.la),Tl(h,k),k}function Qw(h,m,b){if(m&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Ca&&!h.pa?new Xe(new wl({eb:b})):new Xe(h.pa),m.Ha(h.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xw(){}t=Xw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mh(){}mh.prototype.g=function(h,m){return new _n(h,m)};function _n(h,m){vt.call(this),this.g=new jw(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(h?h["X-WebChannel-Client-Profile"]=m.va:h={"X-WebChannel-Client-Profile":m.va}),this.g.S=h,(h=m&&m.Sb)&&!v(h)&&(this.g.m=h),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new Fo(this)}g(_n,vt),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){wm(this.g)},_n.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=ul(h),h=b);m.i.push(new fD(m.Ya++,h)),m.G==3&&fh(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,wm(this.g),delete this.g,_n.aa.N.call(this)};function Jw(h){dl.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){e:{for(const b in m){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}g(Jw,dl);function Zw(){fl.call(this),this.status=1}g(Zw,fl);function Fo(h){this.g=h}g(Fo,Xw),Fo.prototype.ua=function(){Ct(this.g,"a")},Fo.prototype.ta=function(h){Ct(this.g,new Jw(h))},Fo.prototype.sa=function(h){Ct(this.g,new Zw)},Fo.prototype.ra=function(){Ct(this.g,"b")},mh.prototype.createWebChannel=mh.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,Uk=function(){return new mh},jk=function(){return Lo()},$k=Fi,Gy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},No.NO_ERROR=0,No.TIMEOUT=8,No.HTTP_ERROR=6,Id=No,sh.COMPLETE="complete",Fk=sh,eh.EventType=Ts,Ts.OPEN="a",Ts.CLOSE="b",Ts.ERROR="c",Ts.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Yl=eh,Vk=wl,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Nk=Xe}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new N_("@firebase/firestore");function Ml(){return uo.logLevel}function se(t,...e){if(uo.logLevel<=be.DEBUG){const n=e.map(i0);uo.debug("Firestore (".concat(Qa,"): ").concat(t),...n)}}function fr(t,...e){if(uo.logLevel<=be.ERROR){const n=e.map(i0);uo.error("Firestore (".concat(Qa,"): ").concat(t),...n)}}function Aa(t,...e){if(uo.logLevel<=be.WARN){const n=e.map(i0);uo.warn("Firestore (".concat(Qa,"): ").concat(t),...n)}}function i0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e="FIRESTORE (".concat(Qa,") INTERNAL ASSERTION FAILED: ")+t;throw fr(e),new Error(e)}function De(t,e){t||ce()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class X${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class J${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z${constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(De(typeof i.accessToken=="string"),new Bk(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Ht(e)}}class ej{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tj{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new ej(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ij{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(s.error.message));const o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider","Received ".concat(o?"new":"existing"," token.")),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new nj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=rj(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function Se(t,e){return t<e?-1:t>e?1:0}function Ra(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new gt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new gt(0,0))}static max(){return new he(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,i){n===void 0?n=0:n>e.length&&ce(),i===void 0?i=e.length-n:i>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Qc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends Qc{construct(e,n,i){return new Fe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ne(z.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));n.push(...i.split("/").filter(r=>r.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const sj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Qc{construct(e,n,i){return new Rt(e,n,i)}static isValidIdentifier(e){return sj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ne(z.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ne(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ne(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Fe.fromString(e))}static fromName(e){return new ae(Fe.fromString(e).popFirst(5))}static empty(){return new ae(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Fe(e.slice()))}}function oj(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=he.fromTimestamp(i===1e9?new gt(n+1,0):new gt(n,i));return new ls(r,ae.empty(),e)}function aj(t){return new ls(t.readTime,t.key,-1)}class ls{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ls(he.min(),ae.empty(),-1)}static max(){return new ls(he.max(),ae.empty(),-1)}}function lj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==cj)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,i)=>{n(e)})}static reject(e){return new H((n,i)=>{i(e)})}static waitFor(e){return new H((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=H.resolve(!1);for(const i of e)n=n.next(r=>r?H.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new H((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new H((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function hj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ku(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}r0.oe=-1;function Dp(t){return t==null}function wf(t){return t===0&&1/t==-1/0}function dj(t){return typeof t=="number"&&Number.isInteger(t)&&!wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push("".concat(n,":").concat(i)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i!=null?i:At.RED,this.left=r!=null?r:At.EMPTY,this.right=s!=null?s:At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new At(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return At.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,i,r,s){return this}insert(e,n,i){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Dt(Rt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Hk("Invalid base64 string: "+s):s}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const fj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(t){if(De(!!t),typeof t=="string"){let e=0;const n=fj.exec(t);if(De(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ho(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function o0(t){const e=t.mapValue.fields.__previous_value__;return s0(e)?o0(e):e}function Xc(t){const e=cs(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Jc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s0(t)?4:mj(t)?9007199254740991:10:ce()}function Li(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=cs(r.timestampValue),a=cs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ho(r.bytesValue).isEqual(ho(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ct(r.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(r.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ct(r.integerValue)===ct(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=ct(r.doubleValue),a=ct(s.doubleValue);return o===a?wf(o)===wf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ra(t.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(JE(o)!==JE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Li(o[l],a[l])))return!1;return!0}(t,e);default:return ce()}}function Zc(t,e){return(t.values||[]).find(n=>Li(n,e))!==void 0}function Oa(t,e){if(t===e)return 0;const n=fo(t),i=fo(e);if(n!==i)return Se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ct(s.integerValue||s.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ex(t.timestampValue,e.timestampValue);case 4:return ex(Xc(t),Xc(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ho(s),l=ho(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Se(a[c],l[c]);if(u!==0)return u}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Se(ct(s.latitude),ct(o.latitude));return a!==0?a:Se(ct(s.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Oa(a[c],l[c]);if(u)return u}return Se(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Fh.mapValue&&o===Fh.mapValue)return 0;if(s===Fh.mapValue)return 1;if(o===Fh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=Se(l[d],u[d]);if(f!==0)return f;const p=Oa(a[l[d]],c[u[d]]);if(p!==0)return p}return Se(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ce()}}function ex(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=cs(t),i=cs(e),r=Se(n.seconds,i.seconds);return r!==0?r:Se(n.nanos,i.nanos)}function Da(t){return Ky(t)}function Ky(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=cs(n);return"time(".concat(i.seconds,",").concat(i.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return"geo(".concat(n.latitude,",").concat(n.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Ky(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+="".concat(o,":").concat(Ky(n.fields[o]));return r+"}"}(t.mapValue):ce()}function tx(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function Yy(t){return!!t&&"integerValue"in t}function a0(t){return!!t&&"arrayValue"in t}function nx(t){return!!t&&"nullValue"in t}function ix(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cd(t){return!!t&&"mapValue"in t}function gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=gc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(n)}setAll(e){let n=Rt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=gc(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Cd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){So(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new hn(gc(this.value))}}function qk(t){const e=[];return So(t.fields,(n,i)=>{const r=new Rt([n]);if(Cd(i)){const s=qk(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,he.min(),he.min(),he.min(),hn.empty(),0)}static newFoundDocument(e,n,i,r){return new Gt(e,1,n,he.min(),i,r,0)}static newNoDocument(e,n){return new Gt(e,2,n,he.min(),he.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,he.min(),he.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.position=e,this.inclusive=n}}function rx(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ae.comparator(ae.fromName(o.referenceValue),n.key):i=Oa(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function sx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function gj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{}class ht extends Gk{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new vj(e,n,i):n==="array-contains"?new bj(e,i):n==="in"?new Ej(e,i):n==="not-in"?new xj(e,i):n==="array-contains-any"?new Tj(e,i):new ht(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new _j(e,i):new wj(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oa(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Gk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ai(e,n)}matches(e){return Kk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kk(t){return t.op==="and"}function Yk(t){return yj(t)&&Kk(t)}function yj(t){for(const e of t.filters)if(e instanceof ai)return!1;return!0}function Qy(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Da(t.value);if(Yk(t))return t.filters.map(e=>Qy(e)).join(",");{const e=t.filters.map(n=>Qy(n)).join(",");return"".concat(t.op,"(").concat(e,")")}}function Qk(t,e){return t instanceof ht?function(i,r){return r instanceof ht&&i.op===r.op&&i.field.isEqual(r.field)&&Li(i.value,r.value)}(t,e):t instanceof ai?function(i,r){return r instanceof ai&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&Qk(o,r.filters[a]),!0):!1}(t,e):void ce()}function Xk(t){return t instanceof ht?function(n){return"".concat(n.field.canonicalString()," ").concat(n.op," ").concat(Da(n.value))}(t):t instanceof ai?function(n){return n.op.toString()+" {"+n.getFilters().map(Xk).join(" ,")+"}"}(t):"Filter"}class vj extends ht{constructor(e,n,i){super(e,n,i),this.key=ae.fromName(i.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class _j extends ht{constructor(e,n){super(e,"in",n),this.keys=Jk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wj extends ht{constructor(e,n){super(e,"not-in",n),this.keys=Jk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Jk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ae.fromName(i.referenceValue))}class bj extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a0(n)&&Zc(n.arrayValue,this.value)}}class Ej extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zc(this.value.arrayValue,n)}}class xj extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zc(this.value.arrayValue,n)}}class Tj extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Zc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function ox(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Sj(t,e,n,i,r,s,o)}function l0(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Qy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Dp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Da(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Da(i)).join(",")),e.ue=n}return e.ue}function c0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Qk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sx(t.startAt,e.startAt)&&sx(t.endAt,e.endAt)}function Xy(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ij(t,e,n,i,r,s,o,a){return new Pu(t,e,n,i,r,s,o,a)}function u0(t){return new Pu(t)}function ax(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zk(t){return t.collectionGroup!==null}function yc(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ef(s,i))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new Ef(Rt.keyField(),i))}return e.ce}function Ai(t){const e=de(t);return e.le||(e.le=Cj(e,yc(t))),e.le}function Cj(t,e){if(t.limitType==="F")return ox(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Ef(r.field,s)});const n=t.endAt?new bf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new bf(t.startAt.position,t.startAt.inclusive):null;return ox(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Jy(t,e){const n=t.filters.concat([e]);return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zy(t,e,n){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mp(t,e){return c0(Ai(t),Ai(e))&&t.limitType===e.limitType}function eP(t){return"".concat(l0(Ai(t)),"|lt:").concat(t.limitType)}function Ho(t){return"Query(target=".concat(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=", filters: [".concat(n.filters.map(r=>Xk(r)).join(", "),"]")),Dp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=", orderBy: [".concat(n.orderBy.map(r=>function(o){return"".concat(o.field.canonicalString()," (").concat(o.dir,")")}(r)).join(", "),"]")),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Da(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Da(r)).join(",")),"Target(".concat(i,")")}(Ai(t)),"; limitType=").concat(t.limitType,")")}function Lp(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ae.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of yc(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=rx(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,yc(i),r)||i.endAt&&!function(o,a,l){const c=rx(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,yc(i),r))}(t,e)}function kj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tP(t){return(e,n)=>{let i=!1;for(const r of yc(t)){const s=Pj(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Pj(t,e,n){const i=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Oa(l,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Wk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new Qe(ae.comparator);function pr(){return Aj}const nP=new Qe(ae.comparator);function Ql(...t){let e=nP;for(const n of t)e=e.insert(n.key,n);return e}function iP(t){let e=nP;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Bs(){return vc()}function rP(){return vc()}function vc(){return new Xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Rj=new Qe(ae.comparator),Oj=new Dt(ae.comparator);function _e(...t){let e=Oj;for(const n of t)e=e.add(n);return e}const Dj=new Dt(Se);function Mj(){return Dj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(e)?"-0":e}}function oP(t){return{integerValue:""+t}}function Lj(t,e){return dj(e)?oP(e):sP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this._=void 0}}function Nj(t,e,n){return t instanceof xf?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&s0(s)&&(s=o0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof eu?lP(t,e):t instanceof tu?cP(t,e):function(r,s){const o=aP(r,s),a=lx(o)+lx(r.Pe);return Yy(o)&&Yy(r.Pe)?oP(a):sP(r.serializer,a)}(t,e)}function Vj(t,e,n){return t instanceof eu?lP(t,e):t instanceof tu?cP(t,e):n}function aP(t,e){return t instanceof Tf?function(i){return Yy(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class xf extends Np{}class eu extends Np{constructor(e){super(),this.elements=e}}function lP(t,e){const n=uP(e);for(const i of t.elements)n.some(r=>Li(r,i))||n.push(i);return{arrayValue:{values:n}}}class tu extends Np{constructor(e){super(),this.elements=e}}function cP(t,e){let n=uP(e);for(const i of t.elements)n=n.filter(r=>!Li(r,i));return{arrayValue:{values:n}}}class Tf extends Np{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function lx(t){return ct(t.integerValue||t.doubleValue)}function uP(t){return a0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Fj(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof eu&&r instanceof eu||i instanceof tu&&r instanceof tu?Ra(i.elements,r.elements,Li):i instanceof Tf&&r instanceof Tf?Li(i.Pe,r.Pe):i instanceof xf&&r instanceof xf}(t.transform,e.transform)}class $j{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vp{}function hP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h0(t.key,jn.none()):new Au(t.key,t.data,jn.none());{const n=t.data,i=hn.empty();let r=new Dt(Rt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new vs(t.key,i,new In(r.toArray()),jn.none())}}function jj(t,e,n){t instanceof Au?function(r,s,o){const a=r.value.clone(),l=ux(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vs?function(r,s,o){if(!kd(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ux(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(dP(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _c(t,e,n,i){return t instanceof Au?function(s,o,a,l){if(!kd(s.precondition,o))return a;const c=s.value.clone(),u=hx(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof vs?function(s,o,a,l){if(!kd(s.precondition,o))return a;const c=hx(s.fieldTransforms,l,o),u=o.data;return u.setAll(dP(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return kd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Uj(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=aP(i.transform,r||null);s!=null&&(n===null&&(n=hn.empty()),n.set(i.field,s))}return n||null}function cx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ra(i,r,(s,o)=>Fj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Au extends Vp{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vs extends Vp{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ux(t,e,n){const i=new Map;De(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Vj(o,a,n[r]))}return i}function hx(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,Nj(s,o,e))}return i}class h0 extends Vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bj extends Vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&jj(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=_c(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=_c(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=rP();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=hP(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(n,i)=>cx(n,i))&&Ra(this.baseMutations,e.baseMutations,(n,i)=>cx(n,i))}}class d0{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){De(e.mutations.length===i.length);let r=function(){return Rj}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new d0(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ee;function qj(t){switch(t){default:return ce();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function fP(t){if(t===void 0)return fr("GRPC error has no .code"),z.UNKNOWN;switch(t){case at.OK:return z.OK;case at.CANCELLED:return z.CANCELLED;case at.UNKNOWN:return z.UNKNOWN;case at.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case at.INTERNAL:return z.INTERNAL;case at.UNAVAILABLE:return z.UNAVAILABLE;case at.UNAUTHENTICATED:return z.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case at.NOT_FOUND:return z.NOT_FOUND;case at.ALREADY_EXISTS:return z.ALREADY_EXISTS;case at.PERMISSION_DENIED:return z.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case at.ABORTED:return z.ABORTED;case at.OUT_OF_RANGE:return z.OUT_OF_RANGE;case at.UNIMPLEMENTED:return z.UNIMPLEMENTED;case at.DATA_LOSS:return z.DATA_LOSS;default:return ce()}}(Ee=at||(at={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new Ks([4294967295,4294967295],0);function dx(t){const e=Gj().encode(t),n=new Lk;return n.update(e),new Uint8Array(n.digest())}function fx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ks([n,i],0),new Ks([r,s],0)]}class f0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xl("Invalid padding: ".concat(n));if(i<0)throw new Xl("Invalid hash count: ".concat(i));if(e.length>0&&this.hashCount===0)throw new Xl("Invalid hash count: ".concat(i));if(e.length===0&&n!==0)throw new Xl("Invalid padding when bitmap length is 0: ".concat(n));this.Ie=8*e.length-n,this.Te=Ks.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Ks.fromNumber(i)));return r.compare(Kj)===1&&(r=new Ks([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=dx(e),[i,r]=fx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new f0(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=dx(e),[i,r]=fx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Fp(he.min(),r,new Qe(Se),pr(),_e())}}class Ru{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ru(i,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class pP{constructor(e,n){this.targetId=e,this.me=n}}class mP{constructor(e,n,i=Nt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class px{constructor(){this.fe=0,this.ge=gx(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),i=_e();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ce()}}),new Ru(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=gx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Yj{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=mx(),this.Qe=new Qe(Se)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(Xy(s))if(i===0){const o=new ae(s.path);this.Ue(n,o,Gt.newNoDocument(o,he.min()))}else De(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=ho(i).toUint8Array()}catch(l){if(l instanceof Hk)return Aa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new f0(o,r,s)}catch(l){return Aa(l instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(s.path.canonicalString());e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Xy(a.target)){const l=new ae(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Gt.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new Fp(e,n,this.Qe,this.ke,i);return this.ke=pr(),this.qe=mx(),this.Qe=new Qe(Se),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new px,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Dt(Se),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new px),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function mx(){return new Qe(ae.comparator)}function gx(){return new Qe(ae.comparator)}const Qj={asc:"ASCENDING",desc:"DESCENDING"},Xj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jj={and:"AND",or:"OR"};class Zj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ev(t,e){return t.useProto3Json||Dp(e)?e:{value:e}}function Sf(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function gP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eU(t,e){return Sf(t,e.toTimestamp())}function Ri(t){return De(!!t),he.fromTimestamp(function(n){const i=cs(n);return new gt(i.seconds,i.nanos)}(t))}function p0(t,e){return tv(t,e).canonicalString()}function tv(t,e){const n=function(r){return new Fe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yP(t){const e=Fe.fromString(t);return De(EP(e)),e}function nv(t,e){return p0(t.databaseId,e.path)}function ag(t,e){const n=yP(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(_P(n))}function vP(t,e){return p0(t.databaseId,e)}function tU(t){const e=yP(t);return e.length===4?Fe.emptyPath():_P(e)}function iv(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _P(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yx(t,e,n){return{name:nv(t,e),fields:n.value.mapValue.fields}}function nU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(De(u===void 0||typeof u=="string"),Nt.fromBase64String(u||"")):(De(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Nt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?z.UNKNOWN:fP(c.code);return new ne(u,c.message||"")}(o);n=new mP(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=ag(t,i.document.name),s=Ri(i.document.updateTime),o=i.document.createTime?Ri(i.document.createTime):he.min(),a=new hn({mapValue:{fields:i.document.fields}}),l=Gt.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Pd(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=ag(t,i.document),s=i.readTime?Ri(i.readTime):he.min(),o=Gt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Pd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=ag(t,i.document),s=i.removedTargetIds||[];n=new Pd([],s,r,null)}else{if(!("filter"in e))return ce();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new Hj(r,s),a=i.targetId;n=new pP(a,o)}}return n}function iU(t,e){let n;if(e instanceof Au)n={update:yx(t,e.key,e.value)};else if(e instanceof h0)n={delete:nv(t,e.key)};else if(e instanceof vs)n={update:yx(t,e.key,e.data),updateMask:dU(e.fieldMask)};else{if(!(e instanceof Bj))return ce();n={verify:nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof xf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof eu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:eU(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function rU(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Ri(r.updateTime):Ri(s);return o.isEqual(he.min())&&(o=Ri(s)),new $j(o,r.transformResults||[])}(n,e))):[]}function sU(t,e){return{documents:[vP(t,e.path)]}}function oU(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=vP(t,r);const s=function(c){if(c.length!==0)return bP(ai.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:qo(f.field),direction:cU(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ev(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:r}}function aU(t){let e=tU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){De(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=wP(d);return f instanceof ai&&Yk(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new Ef(Go(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Dp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new bf(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new bf(p,f)}(n.endAt)),Ij(e,r,o,s,a,"F",l,c)}function lU(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Go(n.unaryFilter.field);return ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Go(n.unaryFilter.field);return ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Go(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Go(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Go(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ai.create(n.compositeFilter.filters.map(i=>wP(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function cU(t){return Qj[t]}function uU(t){return Xj[t]}function hU(t){return Jj[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Go(t){return Rt.fromServerFormat(t.fieldPath)}function bP(t){return t instanceof ht?function(n){if(n.op==="=="){if(ix(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(nx(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ix(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(nx(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:uU(n.op),value:n.value}}}(t):t instanceof ai?function(n){const i=n.getFilters().map(r=>bP(r));return i.length===1?i[0]:{compositeFilter:{op:hU(n.op),filters:i}}}(t):ce()}function dU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,i,r,s=he.min(),o=he.min(),a=Nt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.ct=e}}function pU(t){const e=aU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.an=new gU}addToCollectionParentIndex(e,n){return this.an.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ls.min())}updateCollectionGroup(e,n,i){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class gU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Dt(Fe.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Dt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new Ma(0)}static Bn(){return new Ma(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?H.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&_c(i.mutation,r,In.empty(),gt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,_e()).next(()=>i))}getLocalViewOfDocuments(e,n,i=_e()){const r=Bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Ql();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,_e()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=pr();const o=vc(),a=function(){return vc()}();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof vs)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),_c(u.mutation,c,u.mutation.getFieldMask(),gt.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new vU(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=vc();let r=new Qe((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||In.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||_e()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=rP();u.forEach(f=>{if(!s.has(f)){const p=hP(n.get(f),i.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return H.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):H.resolve(Bs());let a=-1,l=s;return o.next(c=>H.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,_e())).next(u=>({batchId:a,changes:iP(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(i=>{let r=Ql();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Ql();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const c=function(d,f){return new Pu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Gt.newInvalidDocument(u)))});let a=Ql();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&_c(u.mutation,c,In.empty(),gt.now()),Lp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return H.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ri(r.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(r){return{name:r.name,query:pU(r.bundledQuery),readTime:Ri(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.overlays=new Qe(ae.comparator),this.Pr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Bs();return H.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Pr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(i)),H.resolve()}getOverlaysForCollection(e,n,i){const r=Bs(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return H.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Qe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=Bs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Bs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return H.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Wj(n,i));let s=this.Pr.get(n);s===void 0&&(s=_e(),this.Pr.set(n,s)),this.Pr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.Ir=new Dt(bt.Tr),this.Er=new Dt(bt.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const i=new bt(e,n);this.Ir=this.Ir.add(i),this.Er=this.Er.add(i)}Ar(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Rr(new bt(e,n))}Vr(e,n){e.forEach(i=>this.removeReference(i,n))}mr(e){const n=new ae(new Fe([])),i=new bt(n,e),r=new bt(n,e+1),s=[];return this.Er.forEachInRange([i,r],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new ae(new Fe([])),i=new bt(n,e),r=new bt(n,e+1);let s=_e();return this.Er.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),i=this.Ir.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return ae.comparator(e.key,n.key)||Se(e.yr,n.yr)}static dr(e,n){return Se(e.yr,n.yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Dt(bt.Tr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zj(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Sr=this.Sr.add(new bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Dr(i),s=r<0?0:r;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new bt(n,0),r=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([i,r],o=>{const a=this.br(o.yr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Dt(Se);return n.forEach(r=>{const s=new bt(r,0),o=new bt(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{i=i.add(a.yr)})}),H.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ae.isDocumentKey(s)||(s=s.child(""));const o=new bt(new ae(s),0);let a=new Dt(Se);return this.Sr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.yr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(i=>{const r=this.br(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){De(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Sr;return H.forEach(n.mutations,r=>{const s=new bt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Sr=i})}xn(e){}containsKey(e,n){const i=new bt(n,0),r=this.Sr.firstAfterOrEqual(i);return H.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.Fr=e,this.docs=function(){return new Qe(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Fr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return H.resolve(i?i.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let i=pr();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Gt.newInvalidDocument(r))}),H.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=pr();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lj(aj(u),i)<=0||(r.has(u.key)||Lp(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ce()}Mr(e,n){return H.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new SU(this)}getSize(e){return H.resolve(this.size)}}class SU extends yU{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ur.addEntry(e,r)):this.ur.removeEntry(i)}),H.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.persistence=e,this.Or=new Xa(n=>l0(n),c0),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new m0,this.targetCount=0,this.Br=Ma.Ln()}forEachTarget(e,n){return this.Or.forEach((i,r)=>n(r)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Nr&&(this.Nr=n),H.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Ma(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Qn(n),H.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),H.waitFor(s).next(()=>r)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const i=this.Or.get(n)||null;return H.resolve(i)}addMatchingKeys(e,n,i){return this.Lr.Ar(n,i),H.resolve()}removeMatchingKeys(e,n,i){this.Lr.Vr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Lr.pr(n);return H.resolve(i)}containsKey(e,n){return H.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n){this.kr={},this.overlays={},this.qr=new r0(0),this.Qr=!1,this.Qr=!0,this.Kr=new EU,this.referenceDelegate=e(this),this.$r=new IU(this),this.indexManager=new mU,this.remoteDocumentCache=function(r){return new TU(r)}(i=>this.referenceDelegate.Ur(i)),this.serializer=new fU(n),this.Wr=new wU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.kr[e.toKey()];return i||(i=new xU(n,this.referenceDelegate),this.kr[e.toKey()]=i),i}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,i){se("MemoryPersistence","Starting transaction:",e);const r=new kU(this.qr.next());return this.referenceDelegate.Gr(),i(r).next(s=>this.referenceDelegate.zr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}jr(e,n){return H.or(Object.values(this.kr).map(i=>()=>i.containsKey(e,n)))}}class kU extends uj{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.Hr=new m0,this.Jr=null}static Yr(e){return new g0(e)}get Zr(){if(this.Jr)return this.Jr;throw ce()}addReference(e,n,i){return this.Hr.addReference(i,n),this.Zr.delete(i.toString()),H.resolve()}removeReference(e,n,i){return this.Hr.removeReference(i,n),this.Zr.add(i.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(r=>this.Zr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Zr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Zr,i=>{const r=ae.fromPath(i);return this.Xr(e,r).next(s=>{s||n.removeEntry(r,he.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(i=>{i?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return H.or([()=>H.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Ki=i,this.$i=r}static Ui(e,n){let i=_e(),r=_e();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new y0(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return yN()?8:hj(Lt())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new PU;return this.Zi(e,n,o).next(a=>{if(s.result=a,this.Gi)return this.Xi(e,n,o,a.size)})}).next(()=>s.result)}Xi(e,n,i,r){return i.documentReadCount<this.zi?(Ml()<=be.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),H.resolve()):(Ml()<=be.DEBUG&&se("QueryEngine","Query:",Ho(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ji*r?(Ml()<=be.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(n))):H.resolve())}Ji(e,n){if(ax(n))return H.resolve(null);let i=Ai(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Zy(n,null,"F"),i=Ai(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=_e(...s);return this.Hi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.es(n,a);return this.ts(n,c,o,l.readTime)?this.Ji(e,Zy(n,null,"F")):this.ns(e,c,n,l)}))})))}Yi(e,n,i,r){return ax(n)||r.isEqual(he.min())?H.resolve(null):this.Hi.getDocuments(e,i).next(s=>{const o=this.es(n,s);return this.ts(n,o,i,r)?H.resolve(null):(Ml()<=be.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ho(n)),this.ns(e,o,n,oj(r,-1)).next(a=>a))})}es(e,n){let i=new Dt(tP(e));return n.forEach((r,s)=>{Lp(e,s)&&(i=i.add(s))}),i}ts(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Zi(e,n,i){return Ml()<=be.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.Hi.getDocumentsMatchingQuery(e,n,ls.min(),i)}ns(e,n,i,r){return this.Hi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n,i,r){this.persistence=e,this.rs=n,this.serializer=r,this.ss=new Qe(Se),this.os=new Xa(s=>l0(s),c0),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(i)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _U(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function OU(t,e,n,i){return new RU(t,e,n,i)}async function xP(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.cs(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=_e();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function DU(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=H.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const x=c.docVersions.get(g);De(x!==null),y.version.compareTo(x)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function TP(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function MU(t,e){const n=de(t),i=e.snapshotVersion;let r=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.us.newChangeBuffer({trackRemovals:!0});r=n.ss;const a=[];e.targetChanges.forEach((u,d)=>{const f=r.get(d);if(!f)return;a.push(n.$r.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.$r.addMatchingKeys(s,u.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Nt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(d,p),function(y,x,_){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,u)&&a.push(n.$r.updateTargetData(s,p))});let l=pr(),c=_e();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(LU(s,o,e.documentUpdates).next(u=>{l=u.hs,c=u.Ps})),!i.isEqual(he.min())){const u=n.$r.getLastRemoteSnapshotVersion(s).next(d=>n.$r.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ss=r,s))}function LU(t,e,n){let i=_e(),r=_e();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=pr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{hs:o,Ps:r}})}function NU(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function VU(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.$r.getTargetData(i,e).next(s=>s?(r=s,H.resolve(r)):n.$r.allocateTargetId(i).next(o=>(r=new Ur(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.$r.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ss=n.ss.insert(i.targetId,i),n.os.set(e,i.targetId)),i})}async function rv(t,e,n){const i=de(t),r=i.ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ku(o))throw o;se("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(o))}i.ss=i.ss.remove(e),i.os.delete(r.target)}function vx(t,e,n){const i=de(t);let r=he.min(),s=_e();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=de(l),f=d.os.get(u);return f!==void 0?H.resolve(d.ss.get(f)):d.$r.getTargetData(c,u)}(i,o,Ai(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.$r.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.rs.getDocumentsMatchingQuery(o,e,n?r:he.min(),n?s:_e())).next(a=>(FU(i,kj(e),a),{documents:a,Is:s})))}function FU(t,e,n){let i=t._s.get(e)||he.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t._s.set(e,i)}class _x{constructor(){this.activeTargetIds=Mj()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $U{constructor(){this.io=new _x,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,i){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new _x,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h=null;function lg(){return $h===null?$h=function(){return 268435456+Math.round(2147483648*Math.random())}():$h++,"0x"+$h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class zU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=i+"://"+n.host,this.Do="projects/".concat(r,"/databases/").concat(s),this.Co=this.databaseId.database==="(default)"?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(s)}get vo(){return!1}Fo(n,i,r,s,o){const a=lg(),l=this.Mo(n,i.toUriEncodedString());se("RestConnection","Sending RPC '".concat(n,"' ").concat(a,":"),l,r);const c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(n,l,c,r).then(u=>(se("RestConnection","Received RPC '".concat(n,"' ").concat(a,": "),u),u),u=>{throw Aa("RestConnection","RPC '".concat(n,"' ").concat(a," failed with error: "),u,"url: ",l,"request:",r),u})}No(n,i,r,s,o,a){return this.Fo(n,i,r,s,o)}xo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}Mo(n,i){const r=UU[n];return"".concat(this.bo,"/v1/").concat(i,":").concat(r)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,i,r){const s=lg();return new Promise((o,a)=>{const l=new Nk;l.setWithCredentials(!0),l.listenOnce(Fk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Id.NO_ERROR:const u=l.getResponseJson();se(Bt,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(u)),o(u);break;case Id.TIMEOUT:se(Bt,"RPC '".concat(e,"' ").concat(s," timed out")),a(new ne(z.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:const d=l.getStatus();if(se(Bt,"RPC '".concat(e,"' ").concat(s," failed with status:"),d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(p.status);a(new ne(g,p.message))}else a(new ne(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ne(z.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{se(Bt,"RPC '".concat(e,"' ").concat(s," completed."))}});const c=JSON.stringify(r);se(Bt,"RPC '".concat(e,"' ").concat(s," sending request:"),r),l.send(n,"POST",c,i,15)})}Lo(e,n,i){const r=lg(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uk(),a=jk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Vk({})),this.xo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=s.join("");se(Bt,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),l);const d=o.createWebChannel(u,l);let f=!1,p=!1;const g=new BU({Po:x=>{p?se(Bt,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),x):(f||(se(Bt,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),d.open(),f=!0),se(Bt,"RPC '".concat(e,"' stream ").concat(r," sending:"),x),d.send(x))},Io:()=>d.close()}),y=(x,_,v)=>{x.listen(_,S=>{try{v(S)}catch(A){setTimeout(()=>{throw A},0)}})};return y(d,Yl.EventType.OPEN,()=>{p||(se(Bt,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),g.po())}),y(d,Yl.EventType.CLOSE,()=>{p||(p=!0,se(Bt,"RPC '".concat(e,"' stream ").concat(r," transport closed")),g.wo())}),y(d,Yl.EventType.ERROR,x=>{p||(p=!0,Aa(Bt,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),x),g.wo(new ne(z.UNAVAILABLE,"The operation could not be completed")))}),y(d,Yl.EventType.MESSAGE,x=>{var _;if(!p){const v=x.data[0];De(!!v);const S=v,A=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(A){se(Bt,"RPC '".concat(e,"' stream ").concat(r," received error:"),A);const D=A.status;let M=function(T){const C=at[T];if(C!==void 0)return fP(C)}(D),E=A.message;M===void 0&&(M=z.INTERNAL,E="Unknown error status: "+D+" with message "+A.message),p=!0,g.wo(new ne(M,E)),d.close()}else se(Bt,"RPC '".concat(e,"' stream ").concat(r," received:"),v),g.So(v)}}),y(a,$k.STAT_EVENT,x=>{x.stat===Gy.PROXY?se(Bt,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):x.stat===Gy.NOPROXY&&se(Bt,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{g.yo()},0),g}}function cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){return new Zj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=i,this.ko=r,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),i=Math.max(0,Date.now()-this.$o),r=Math.max(0,n-i);r>0&&se("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Qo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(i," ms ago)")),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,i,r,s,o,a,l){this.ai=e,this.jo=i,this.Ho=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new SP(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Jo===n&&this.h_(i,r)},i=>{e(()=>{const r=new ne(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.P_(r)})})}h_(e,n){const i=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{i(()=>this.listener.To())}),this.stream.Ao(()=>{i(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(r=>{i(()=>this.P_(r))}),this.stream.onMessage(r=>{i(()=>++this.Xo==1?this.T_(r):this.onNext(r))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return se("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WU extends IP{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=nU(this.serializer,e),i=function(s){if(!("targetChange"in s))return he.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Ri(o.readTime):he.min()}(e);return this.listener.E_(n,i)}d_(e){const n={};n.database=iv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Xy(l)?{documents:sU(s,l)}:{query:oU(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=gP(s,o.resumeToken);const c=ev(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Sf(s,o.snapshotVersion.toTimestamp());const c=ev(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=lU(this.serializer,e);i&&(n.labels=i),this.__(n)}A_(e){const n={};n.database=iv(this.serializer),n.removeTarget=e,this.__(n)}}class HU extends IP{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=rU(e.writeResults,e.commitTime),i=Ri(e.commitTime);return this.listener.f_(i,n)}g_(){const e={};e.database=iv(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>iU(this.serializer,i))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,i,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,tv(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(z.UNKNOWN,s.toString())})}No(e,n,i,r,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.No(e,tv(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(z.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class GU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.b_?(fr(n),this.b_=!1):se("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{i.enqueueAndForget(async()=>{Io(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=de(l);c.N_.add(4),await Ou(c),c.k_.set("Unknown"),c.N_.delete(4),await jp(c)}(this))})}),this.k_=new GU(i,r)}}async function jp(t){if(Io(t))for(const e of t.L_)await e(!0)}async function Ou(t){for(const e of t.L_)await e(!1)}function CP(t,e){const n=de(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),b0(n)?w0(n):Ja(n).n_()&&_0(n,e))}function v0(t,e){const n=de(t),i=Ja(n);n.O_.delete(e),i.n_()&&kP(n,e),n.O_.size===0&&(i.n_()?i.s_():Io(n)&&n.k_.set("Unknown"))}function _0(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ja(t).d_(e)}function kP(t,e){t.q_.xe(e),Ja(t).A_(e)}function w0(t){t.q_=new Yj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ja(t).start(),t.k_.D_()}function b0(t){return Io(t)&&!Ja(t).t_()&&t.O_.size>0}function Io(t){return de(t).N_.size===0}function PP(t){t.q_=void 0}async function YU(t){t.k_.set("Online")}async function QU(t){t.O_.forEach((e,n)=>{_0(t,e)})}async function XU(t,e){PP(t),b0(t)?(t.k_.F_(e),w0(t)):t.k_.set("Unknown")}async function JU(t,e,n){if(t.k_.set("Online"),e instanceof mP&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.O_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.O_.delete(a),r.q_.removeTarget(a))}(t,e)}catch(i){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await If(t,i)}else if(e instanceof Pd?t.q_.Ke(e):e instanceof pP?t.q_.He(e):t.q_.We(e),!n.isEqual(he.min()))try{const i=await TP(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.O_.get(c);u&&s.O_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.O_.get(l);if(!u)return;s.O_.set(l,u.withResumeToken(Nt.EMPTY_BYTE_STRING,u.snapshotVersion)),kP(s,l);const d=new Ur(u.target,l,c,u.sequenceNumber);_0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){se("RemoteStore","Failed to raise snapshot:",i),await If(t,i)}}async function If(t,e,n){if(!ku(e))throw e;t.N_.add(1),await Ou(t),t.k_.set("Offline"),n||(n=()=>TP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await jp(t)})}function AP(t,e){return e().catch(n=>If(t,n,e))}async function Up(t){const e=de(t),n=us(e);let i=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;ZU(e);)try{const r=await NU(e.localStore,i);if(r===null){e.x_.length===0&&n.s_();break}i=r.batchId,e4(e,r)}catch(r){await If(e,r)}RP(e)&&OP(e)}function ZU(t){return Io(t)&&t.x_.length<10}function e4(t,e){t.x_.push(e);const n=us(t);n.n_()&&n.R_&&n.V_(e.mutations)}function RP(t){return Io(t)&&!us(t).t_()&&t.x_.length>0}function OP(t){us(t).start()}async function t4(t){us(t).g_()}async function n4(t){const e=us(t);for(const n of t.x_)e.V_(n.mutations)}async function i4(t,e,n){const i=t.x_.shift(),r=d0.from(i,e,n);await AP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Up(t)}async function r4(t,e){e&&us(t).R_&&await async function(i,r){if(function(o){return qj(o)&&o!==z.ABORTED}(r.code)){const s=i.x_.shift();us(i).i_(),await AP(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Up(i)}}(t,e),RP(t)&&OP(t)}async function bx(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=Io(n);n.N_.add(3),await Ou(n),i&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await jp(n)}async function s4(t,e){const n=de(t);e?(n.N_.delete(2),await jp(n)):e||(n.N_.add(2),await Ou(n),n.k_.set("Unknown"))}function Ja(t){return t.Q_||(t.Q_=function(n,i,r){const s=de(n);return s.y_(),new WU(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{To:YU.bind(null,t),Ao:QU.bind(null,t),Vo:XU.bind(null,t),E_:JU.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),b0(t)?w0(t):t.k_.set("Unknown")):(await t.Q_.stop(),PP(t))})),t.Q_}function us(t){return t.K_||(t.K_=function(n,i,r){const s=de(n);return s.y_(),new HU(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:t4.bind(null,t),Vo:r4.bind(null,t),m_:n4.bind(null,t),f_:i4.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await Up(t)):(await t.K_.stop(),t.x_.length>0&&(se("RemoteStore","Stopping write stream with ".concat(t.x_.length," pending writes")),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new E0(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x0(t,e){if(fr("AsyncQueue","".concat(e,": ").concat(t)),ku(t))return new ne(z.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ae.comparator(n.key,i.key):(n,i)=>ae.comparator(n.key,i.key),this.keyedMap=Ql(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new va(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new va;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.U_=new Qe(ae.comparator)}track(e){const n=e.doc.key,i=this.U_.get(n);i?e.type!==0&&i.type===3?this.U_=this.U_.insert(n,e):e.type===3&&i.type!==1?this.U_=this.U_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.U_=this.U_.remove(n):e.type===1&&i.type===2?this.U_=this.U_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):ce():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,i)=>{e.push(i)}),e}}class La{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new La(e,n,va.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class a4{constructor(){this.queries=xx(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,i){const r=de(n),s=r.queries;r.queries=xx(),s.forEach((o,a)=>{for(const l of a.z_)l.onError(i)})})(this,new ne(z.ABORTED,"Firestore shutting down"))}}function xx(){return new Xa(t=>eP(t),Mp)}async function DP(t,e){const n=de(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.j_()&&e.H_()&&(i=2):(s=new o4,i=e.H_()?0:1);try{switch(i){case 0:s.G_=await n.onListen(r,!0);break;case 1:s.G_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=x0(o,"Initialization of query '".concat(Ho(e.query),"' failed"));return void e.onError(a)}n.queries.set(r,s),s.z_.push(e),e.Y_(n.onlineState),s.G_&&e.Z_(s.G_)&&T0(n)}async function MP(t,e){const n=de(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?r=e.H_()?0:1:!s.j_()&&e.H_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function l4(t,e){const n=de(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.z_)a.Z_(r)&&(i=!0);o.G_=r}}i&&T0(n)}function c4(t,e,n){const i=de(t),r=i.queries.get(e);if(r)for(const s of r.z_)s.onError(n);i.queries.delete(e)}function T0(t){t.J_.forEach(e=>{e.next()})}var sv,Tx;(Tx=sv||(sv={})).X_="default",Tx.Cache="cache";class LP{constructor(e,n,i){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=i||{}}Z_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new La(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const i=n!=="Offline";return(!this.options.oa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.key=e}}class VP{constructor(e){this.key=e}}class u4{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=_e(),this.mutatedKeys=_e(),this.da=tP(e),this.Aa=new va(this.da)}get Ra(){return this.Ia}Va(e,n){const i=n?n.ma:new Ex,r=n?n.Aa:this.Aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const f=r.get(u),p=Lp(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(i.track({type:3,doc:p}),x=!0):this.fa(f,p)||(i.track({type:2,doc:p}),x=!0,(l&&this.da(p,l)>0||c&&this.da(p,c)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),x=!0):f&&!p&&(i.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Aa:o,ma:i,ts:a,mutatedKeys:s}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort((u,d)=>function(p,g){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return y(p)-y(g)}(u.type,d.type)||this.da(u.doc,d.doc)),this.ga(i),r=r!=null&&r;const a=n&&!r?this.pa():[],l=this.Ea.size===0&&this.current&&!r?1:0,c=l!==this.Ta;return this.Ta=l,o.length!==0||c?{snapshot:new La(this.query,e.Aa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new Ex,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=_e(),this.Aa.forEach(i=>{this.wa(i.key)&&(this.Ea=this.Ea.add(i.key))});const n=[];return e.forEach(i=>{this.Ea.has(i)||n.push(new VP(i))}),this.Ea.forEach(i=>{e.has(i)||n.push(new NP(i))}),n}Sa(e){this.Ia=e.Is,this.Ea=_e();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return La.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class h4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class d4{constructor(e){this.key=e,this.Da=!1}}class f4{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new Xa(a=>eP(a),Mp),this.Fa=new Map,this.Ma=new Set,this.xa=new Qe(ae.comparator),this.Oa=new Map,this.Na=new m0,this.La={},this.Ba=new Map,this.ka=Ma.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function p4(t,e,n=!0){const i=zP(t);let r;const s=i.va.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ba()):r=await FP(i,e,n,!0),r}async function m4(t,e){const n=zP(t);await FP(n,e,!0,!1)}async function FP(t,e,n,i){const r=await VU(t.localStore,Ai(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return i&&(a=await g4(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&CP(t.remoteStore,r),a}async function g4(t,e,n,i,r){t.Qa=(d,f,p)=>async function(y,x,_,v){let S=x.view.Va(_);S.ts&&(S=await vx(y.localStore,x.query,!1).then(({documents:E})=>x.view.Va(E,S)));const A=v&&v.targetChanges.get(x.targetId),D=v&&v.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(S,y.isPrimaryClient,A,D);return Ix(y,x.targetId,M.ya),M.snapshot}(t,d,f,p);const s=await vx(t.localStore,e,!0),o=new u4(e,s.Is),a=o.Va(s.documents),l=Ru.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);Ix(t,n,c.ya);const u=new h4(e,n,o);return t.va.set(e,u),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),c.snapshot}async function y4(t,e,n){const i=de(t),r=i.va.get(e),s=i.Fa.get(r.targetId);if(s.length>1)return i.Fa.set(r.targetId,s.filter(o=>!Mp(o,e))),void i.va.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await rv(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&v0(i.remoteStore,r.targetId),ov(i,r.targetId)}).catch(Cu)):(ov(i,r.targetId),await rv(i.localStore,r.targetId,!0))}async function v4(t,e){const n=de(t),i=n.va.get(e),r=n.Fa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),v0(n.remoteStore,i.targetId))}async function _4(t,e,n){const i=I4(t);try{const r=await function(o,a){const l=de(o),c=gt.now(),u=a.reduce((p,g)=>p.add(g.key),_e());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=pr(),y=_e();return l.us.getEntries(p,u).next(x=>{g=x,g.forEach((_,v)=>{v.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(x=>{d=x;const _=[];for(const v of a){const S=Uj(v,d.get(v.key).overlayedDocument);S!=null&&_.push(new vs(v.key,S,qk(S.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(x=>{f=x;const _=x.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,x.batchId,_)})}).then(()=>({batchId:f.batchId,changes:iP(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.La[o.currentUser.toKey()];c||(c=new Qe(Se)),c=c.insert(a,l),o.La[o.currentUser.toKey()]=c}(i,r.batchId,n),await Du(i,r.changes),await Up(i.remoteStore)}catch(r){const s=x0(r,"Failed to persist write");n.reject(s)}}async function $P(t,e){const n=de(t);try{const i=await MU(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Oa.get(s);o&&(De(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Da=!0:r.modifiedDocuments.size>0?De(o.Da):r.removedDocuments.size>0&&(De(o.Da),o.Da=!1))}),await Du(n,i,e)}catch(i){await Cu(i)}}function Sx(t,e,n){const i=de(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.va.forEach((s,o)=>{const a=o.view.Y_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.z_)f.Y_(a)&&(c=!0)}),c&&T0(l)}(i.eventManager,e),r.length&&i.Ca.E_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function w4(t,e,n){const i=de(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Oa.get(e),s=r&&r.key;if(s){let o=new Qe(ae.comparator);o=o.insert(s,Gt.newNoDocument(s,he.min()));const a=_e().add(s),l=new Fp(he.min(),new Map,new Qe(Se),o,a);await $P(i,l),i.xa=i.xa.remove(s),i.Oa.delete(e),S0(i)}else await rv(i.localStore,e,!1).then(()=>ov(i,e,n)).catch(Cu)}async function b4(t,e){const n=de(t),i=e.batch.batchId;try{const r=await DU(n.localStore,e);UP(n,i,null),jP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Du(n,r)}catch(r){await Cu(r)}}async function E4(t,e,n){const i=de(t);try{const r=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(De(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);UP(i,e,n),jP(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Du(i,r)}catch(r){await Cu(r)}}function jP(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function UP(t,e,n){const i=de(t);let r=i.La[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.La[i.currentUser.toKey()]=r}}function ov(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Fa.get(e))t.va.delete(i),n&&t.Ca.Ka(i,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(i=>{t.Na.containsKey(i)||BP(t,i)})}function BP(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(v0(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),S0(t))}function Ix(t,e,n){for(const i of n)i instanceof NP?(t.Na.addReference(i.key,e),x4(t,i)):i instanceof VP?(se("SyncEngine","Document no longer in limbo: "+i.key),t.Na.removeReference(i.key,e),t.Na.containsKey(i.key)||BP(t,i.key)):ce()}function x4(t,e){const n=e.key,i=n.path.canonicalString();t.xa.get(n)||t.Ma.has(i)||(se("SyncEngine","New document in limbo: "+n),t.Ma.add(i),S0(t))}function S0(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new ae(Fe.fromString(e)),i=t.ka.next();t.Oa.set(i,new d4(n)),t.xa=t.xa.insert(n,i),CP(t.remoteStore,new Ur(Ai(u0(n.path)),i,"TargetPurposeLimboResolution",r0.oe))}}async function Du(t,e,n){const i=de(t),r=[],s=[],o=[];i.va.isEmpty()||(i.va.forEach((a,l)=>{o.push(i.Qa(l,e,n).then(c=>{var u;if((c||n)&&i.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);const d=y0.Ui(l.targetId,c);s.push(d)}}))}),await Promise.all(o),i.Ca.E_(r),await async function(l,c){const u=de(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>H.forEach(c,f=>H.forEach(f.Ki,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>H.forEach(f.$i,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!ku(d))throw d;se("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.ss.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.ss=u.ss.insert(f,y)}}}(i.localStore,s))}async function T4(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=await xP(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(a=>{a.forEach(l=>{l.reject(new ne(z.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Du(n,i.ls)}}function S4(t,e){const n=de(t),i=n.Oa.get(e);if(i&&i.Da)return _e().add(i.key);{let r=_e();const s=n.Fa.get(e);if(!s)return r;for(const o of s){const a=n.va.get(o);r=r.unionWith(a.view.Ra)}return r}}function zP(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$P.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w4.bind(null,e),e.Ca.E_=l4.bind(null,e.eventManager),e.Ca.Ka=c4.bind(null,e.eventManager),e}function I4(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E4.bind(null,e),e}class Cx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$p(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return OU(this.persistence,new AU,e.initialUser,this.serializer)}createPersistence(e){return new CU(g0.Yr,this.serializer)}createSharedClientState(e){return new $U}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class C4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Sx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await s4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a4}()}createDatastore(e){const n=$p(e.databaseInfo.databaseId),i=function(s){return new zU(s)}(e.databaseInfo);return function(s,o,a,l){return new qU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new KU(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Sx(this.syncEngine,n,0),function(){return wx.D()?new wx:new jU}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,u){const d=new f4(r,s,o,a,l,c);return u&&(d.qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=de(r);se("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await Ou(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ht.UNAUTHENTICATED,this.clientId=zk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{se("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=x0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ug(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await xP(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A4(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>bx(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>bx(e.remoteStore,r)),t._onlineComponents=e}function P4(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function A4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!P4(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),await ug(t,new Cx)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await ug(t,new Cx);return t._offlineComponents}async function HP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await kx(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await kx(t,new C4))),t._onlineComponents}function R4(t){return HP(t).then(e=>e.syncEngine)}async function qP(t){const e=await HP(t),n=e.eventManager;return n.onListen=p4.bind(null,e.syncEngine),n.onUnlisten=y4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v4.bind(null,e.syncEngine),n}function O4(t,e,n={}){const i=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new WP({next:f=>{o.enqueueAndForget(()=>MP(s,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new ne(z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new ne(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new LP(u0(a.path),u,{includeMetadataChanges:!0,oa:!0});return DP(s,d)}(await qP(t),t.asyncQueue,e,n,i)),i.promise}function D4(t,e,n={}){const i=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new WP({next:f=>{o.enqueueAndForget(()=>MP(s,d)),f.fromCache&&l.source==="server"?c.reject(new ne(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new LP(a,u,{includeMetadataChanges:!0,oa:!0});return DP(s,d)}(await qP(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t,e,n){if(!n)throw new ne(z.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function M4(t,e,n,i){if(e===!0&&i===!0)throw new ne(z.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))}function Ax(t){if(!ae.isDocumentKey(t))throw new ne(z.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function Rx(t){if(ae.isDocumentKey(t))throw new ne(z.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Bp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return typeof t=="function"?"a function":ce()}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bp(t);throw new ne(z.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne(z.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(s.timeoutSeconds," (must not be NaN)"));if(s.timeoutSeconds<5)throw new ne(z.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(s.timeoutSeconds," (minimum allowed value is 5)"));if(s.timeoutSeconds>30)throw new ne(z.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(s.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zp{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ox({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ox(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new X$;switch(i.type){case"firstParty":return new tj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ne(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Px.get(n);i&&(se("ComponentProvider","Removing Datastore"),Px.delete(n),i.terminate())}(this),Promise.resolve()}}function L4(t,e,n,i={}){var r;const s=(t=li(t,zp))._getSettings(),o="".concat(e,":").concat(n);if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ht.MOCK_USER;else{a=PC(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ne(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(c)}t._authCredentials=new J$(new Bk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class tn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class ts extends Za{constructor(e,n,i){super(e,n,u0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ae(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function yt(t,e,...n){if(t=Ye(t),KP("collection","path",e),t instanceof zp){const i=Fe.fromString(e,...n);return Rx(i),new ts(t,null,i)}{if(!(t instanceof tn||t instanceof ts))throw new ne(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Fe.fromString(e,...n));return Rx(i),new ts(t.firestore,null,i)}}function hs(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=zk.newId()),KP("doc","path",e),t instanceof zp){const i=Fe.fromString(e,...n);return Ax(i),new tn(t,null,new ae(i))}{if(!(t instanceof tn||t instanceof ts))throw new ne(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Fe.fromString(e,...n));return Ax(i),new tn(t.firestore,t instanceof ts?t.converter:null,new ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new SP(this,"async_queue_retry"),this.Tu=()=>{const n=cg();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=cg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new or;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!ku(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(i=>{this.lu=i,this.hu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i);throw fr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.hu=!1,i))));return this._u=n,n}enqueueAfterDelay(e,n,i){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const r=E0.createAndSchedule(this,e,n,i,s=>this.Ru(s));return this.cu.push(r),r}Eu(){this.lu&&ce()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}class Co extends zp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new N4}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||QP(this),this._firestoreClient.terminate()}}function YP(t,e){const n=typeof t=="object"?t:F_(),i=typeof t=="string"?t:"(default)",r=gp(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=IC("firestore");s&&L4(r,...s)}return r}function I0(t){return t._firestoreClient||QP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function QP(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,u){return new pj(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GP(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new k4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(Nt.fromBase64String(e))}catch(n){throw new ne(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Na(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=/^__.*__$/;class F4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class XP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class P0{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new P0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.wu({path:i,bu:!1});return r.Du(e),r}Cu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.wu({path:i,bu:!1});return r.pu(),r}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return Cf(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(JP(this.yu)&&V4.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class $4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||$p(e)}Ou(e,n,i,r=!1){return new P0({yu:e,methodName:n,xu:i,path:Rt.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hp(t){const e=t._freezeSettings(),n=$p(t._databaseId);return new $4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZP(t,e,n,i,r,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,r);A0("Data must be an object, but it was:",o,i);const a=eA(i,o);let l,c;if(s.merge)l=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=av(e,d,n);if(!o.contains(f))throw new ne(z.INVALID_ARGUMENT,"Field '".concat(f,"' is specified in your field mask but missing from your input data."));nA(u,f)||u.push(f)}l=new In(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new F4(new hn(a),l,c)}class qp extends C0{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Fu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qp}}function j4(t,e,n,i){const r=t.Ou(1,e,n);A0("Data must be an object, but it was:",r,i);const s=[],o=hn.empty();So(i,(l,c)=>{const u=R0(e,l,n);c=Ye(c);const d=r.Cu(u);if(c instanceof qp)s.push(u);else{const f=Mu(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new In(s);return new XP(o,a,r.fieldTransforms)}function U4(t,e,n,i,r,s){const o=t.Ou(1,e,n),a=[av(e,i,n)],l=[r];if(s.length%2!=0)throw new ne(z.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let f=0;f<s.length;f+=2)a.push(av(e,s[f])),l.push(s[f+1]);const c=[],u=hn.empty();for(let f=a.length-1;f>=0;--f)if(!nA(c,a[f])){const p=a[f];let g=l[f];g=Ye(g);const y=o.Cu(p);if(g instanceof qp)c.push(p);else{const x=Mu(g,y);x!=null&&(c.push(p),u.set(p,x))}}const d=new In(c);return new XP(u,d,o.fieldTransforms)}function B4(t,e,n,i=!1){return Mu(n,t.Ou(i?4:3,e))}function Mu(t,e){if(tA(t=Ye(t)))return A0("Unsupported field value:",e,t),eA(t,e);if(t instanceof C0)return function(i,r){if(!JP(r.yu))throw r.Fu("".concat(i._methodName,"() can only be used with update() and set()"));if(!r.path)throw r.Fu("".concat(i._methodName,"() is not currently supported inside arrays"));const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Mu(a,r.vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Ye(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Lj(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=gt.fromDate(i);return{timestampValue:Sf(r.serializer,s)}}if(i instanceof gt){const s=new gt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sf(r.serializer,s)}}if(i instanceof k0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Na)return{bytesValue:gP(r.serializer,i._byteString)};if(i instanceof tn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Fu("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(s.projectId,"/").concat(s.database));return{referenceValue:p0(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Fu("Unsupported field value: ".concat(Bp(i)))}(t,e)}function eA(t,e){const n={};return Wk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(i,r)=>{const s=Mu(r,e.Su(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function tA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof k0||t instanceof Na||t instanceof tn||t instanceof C0)}function A0(t,e,n){if(!tA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Bp(n);throw i==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+i)}}function av(t,e,n){if((e=Ye(e))instanceof Wp)return e._internalPath;if(typeof e=="string")return R0(t,e);throw Cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const z4=new RegExp("[~\\*/\\[\\]]");function R0(t,e,n){if(e.search(z4)>=0)throw Cf("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new Wp(...e.split("."))._internalPath}catch(i){throw Cf("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function Cf(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new ne(z.INVALID_ARGUMENT,a+t+l)}function nA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(O0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W4 extends iA{data(){return super.data()}}function O0(t,e){return typeof e=="string"?R0(t,e):e instanceof Wp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D0{}class q4 extends D0{}function An(t,e,...n){let i=[];e instanceof D0&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof M0).length,a=s.filter(l=>l instanceof Gp).length;if(o>1||o>0&&a>0)throw new ne(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Gp extends q4{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Gp(e,n,i)}_apply(e){const n=this._parse(e);return rA(e._query,n),new Za(e.firestore,e.converter,Jy(e._query,n))}_parse(e){const n=Hp(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ne(z.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(u,"' queries on documentId()."));if(u==="in"||u==="not-in"){Mx(d,u);const p=[];for(const g of d)p.push(Dx(l,s,g));f={arrayValue:{values:p}}}else f=Dx(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Mx(d,u),f=B4(a,o,d,u==="in"||u==="not-in");return ht.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function st(t,e,n){const i=e,r=O0("where",t);return Gp._create(r,i,n)}class M0 extends D0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new M0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)rA(o,l),o=Jy(o,l)}(e._query,n),new Za(e.firestore,e.converter,Jy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Dx(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new ne(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zk(e)&&n.indexOf("/")!==-1)throw new ne(z.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(Fe.fromString(n));if(!ae.isDocumentKey(i))throw new ne(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return tx(t,new ae(i))}if(n instanceof tn)return tx(t,n._key);throw new ne(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Bp(n),"."))}function Mx(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(z.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function rA(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(z.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new ne(z.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class G4{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return So(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new k0(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=o0(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=cs(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Fe.fromString(e);De(EP(i));const r=new Jc(i.get(1),i.get(3)),s=new ae(i.popFirst(5));return r.isEqual(n)||fr("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(n.projectId,"/").concat(n.database,") instead.")),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oA extends iA{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(O0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ad extends oA{data(e={}){return super.data(e)}}class K4{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Jl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ad(this._firestore,this._userDataWriter,i.key,i,new Jl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Ad(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Jl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ad(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Jl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Y4(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Y4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){t=li(t,tn);const e=li(t.firestore,Co);return O4(I0(e),t._key).then(n=>X4(e,t,n))}class aA extends G4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function St(t){t=li(t,Za);const e=li(t.firestore,Co),n=I0(e),i=new aA(e);return H4(t._query),D4(n,t._query).then(r=>new K4(e,i,t,r))}function kf(t,e,n){t=li(t,tn);const i=li(t.firestore,Co),r=sA(t.converter,e);return Kp(i,[ZP(Hp(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,jn.none())])}function lA(t,e,n,...i){t=li(t,tn);const r=li(t.firestore,Co),s=Hp(r);let o;return o=typeof(e=Ye(e))=="string"||e instanceof Wp?U4(s,"updateDoc",t._key,e,n,i):j4(s,"updateDoc",t._key,e),Kp(r,[o.toMutation(t._key,jn.exists(!0))])}function cA(t){return Kp(li(t.firestore,Co),[new h0(t._key,jn.none())])}function Q4(t,e){const n=li(t.firestore,Co),i=hs(t),r=sA(t.converter,e);return Kp(n,[ZP(Hp(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,jn.exists(!1))]).then(()=>i)}function Kp(t,e){return function(i,r){const s=new or;return i.asyncQueue.enqueueAndForget(async()=>_4(await R4(i),r,s)),s.promise}(I0(t),e)}function X4(t,e,n){const i=n.docs.get(e._key),r=new aA(t);return new oA(t,r,e._key,i,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Qa=r})(xo),oo(new as("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Co(new Z$(i.getProvider("auth-internal")),new ij(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ci(XE,"4.6.5",e),Ci(XE,"4.6.5","esm2017")})();const J4={apiKey:"AIzaSyDnx8jSDG2Es-t1O5meVfOR8ZW1A_1_9OM",authDomain:"estacionamientou-e505d.firebaseapp.com",projectId:"estacionamientou-e505d",storageBucket:"estacionamientou-e505d.appspot.com",messagingSenderId:"805548540766",appId:"1:805548540766:web:afd033bbd70ebc8619c5cf",measurementId:"G-3W2LVPMYD0"},el=OC(J4),et=YP(el);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebasestorage.googleapis.com",hA="storageBucket",Z4=2*60*1e3,eB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends Ni{constructor(e,n,i=0){super(hg(e),"Firebase Storage: ".concat(n," (").concat(hg(e),")")),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var tt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tt||(tt={}));function hg(t){return"storage/"+t}function N0(){const t="An unknown error occurred, please check the error payload for server response.";return new nt(tt.UNKNOWN,t)}function tB(t){return new nt(tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function nB(t){return new nt(tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt(tt.UNAUTHENTICATED,t)}function rB(){return new nt(tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sB(t){return new nt(tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function oB(){return new nt(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aB(){return new nt(tt.CANCELED,"User canceled the upload/download.")}function lB(t){return new nt(tt.INVALID_URL,"Invalid URL '"+t+"'.")}function cB(t){return new nt(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uB(){return new nt(tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hA+"' property when initializing the app?")}function hB(){return new nt(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dB(){return new nt(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fB(t){return new nt(tt.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."))}function lv(t){return new nt(tt.INVALID_ARGUMENT,t)}function dA(){return new nt(tt.APP_DELETED,"The Firebase app was deleted.")}function pB(t){return new nt(tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wc(t,e){return new nt(tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ll(t){throw new nt(tt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Cn.makeFromUrl(e,n)}catch(r){return new Cn(e,"")}if(i.path==="")return i;throw cB(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp("^https?://".concat(d,"/").concat(u,"/b/").concat(r,"/o").concat(f),"i"),g={bucket:1,path:3},y=n===uA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp("^https?://".concat(y,"/").concat(r,"/").concat(x),"i"),S=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<S.length;A++){const D=S[A],M=D.regex.exec(e);if(M){const E=M[D.indices.bucket];let w=M[D.indices.path];w||(w=""),i=new Cn(E,w),D.postModify(i);break}}if(i==null)throw lB(e);return i}}class mB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function d(x){r=setTimeout(()=>{r=null,t(p,l())},x)}function f(){s&&clearTimeout(s)}function p(x,..._){if(c){f();return}if(x){f(),u.call(null,x,..._);return}if(l()||o){f(),u.call(null,x,..._);return}i<64&&(i*=2);let S;a===1?(a=2,S=0):S=(i+Math.random())*1e3,d(S)}let g=!1;function y(x){g||(g=!0,f(),!c&&(r!==null?(x||(a=2),clearTimeout(r),d(0)):x||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function yB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t){return t!==void 0}function _B(t){return typeof t=="object"&&!Array.isArray(t)}function V0(t){return typeof t=="string"||t instanceof String}function Lx(t){return F0()&&t instanceof Blob}function F0(){return typeof Blob<"u"}function Nx(t,e,n,i){if(i<e)throw lv("Invalid value for '".concat(t,"'. Expected ").concat(e," or greater."));if(i>n)throw lv("Invalid value for '".concat(t,"'. Expected ").concat(n," or less."))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e,n){let i=e;return n==null&&(i="https://".concat(e)),"".concat(n,"://").concat(i,"/v0").concat(t)}function fA(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ys||(Ys={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n,i,r,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new jh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ys.NO_ERROR,l=s.getStatus();if(!a||wB(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Ys.ABORT;i(!1,new jh(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new jh(c,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());vB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=N0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?dA():aB();o(l)}else{const l=oB();o(l)}};this.canceled_?n(!1,new jh(!1,null,!0)):this.backoffId_=gB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function EB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function TB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function SB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IB(t,e,n,i,r,s,o=!0){const a=fA(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return TB(c,e),EB(c,n),xB(c,s),SB(c,i),new bB(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kB(...t){const e=CB();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(F0())return new Blob(t);throw new nt(tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t){if(typeof atob>"u")throw fB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dg{constructor(e,n){this.data=e,this.contentType=n||null}}function RB(t,e){switch(t){case Ti.RAW:return new dg(pA(e));case Ti.BASE64:case Ti.BASE64URL:return new dg(mA(t,e));case Ti.DATA_URL:return new dg(DB(e),MB(e))}throw N0()}function pA(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function OB(t){let e;try{e=decodeURIComponent(t)}catch(n){throw wc(Ti.DATA_URL,"Malformed data URL.")}return pA(e)}function mA(t,e){switch(t){case Ti.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw wc(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ti.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw wc(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AB(e)}catch(r){throw r.message.includes("polyfill")?r:wc(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class gA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wc(Ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=LB(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function DB(t){const e=new gA(t);return e.base64?mA(Ti.BASE64,e.rest):OB(e.rest)}function MB(t){return new gA(t).contentType}function LB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n){let i=0,r="";Lx(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(Lx(this.data_)){const i=this.data_,r=PB(i,e,n);return r===null?null:new Fr(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Fr(i,!0)}}static getBlob(...e){if(F0()){const n=e.map(i=>i instanceof Fr?i.data_:i);return new Fr(kB.apply(null,n))}else{const n=e.map(o=>V0(o)?RB(Ti.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Fr(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){let e;try{e=JSON.parse(t)}catch(n){return null}return _B(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VB(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function vA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t,e){return e}class Xt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||FB}}let Uh=null;function $B(t){return!V0(t)||t.length<2?t:vA(t)}function _A(){if(Uh)return Uh;const t=[];t.push(new Xt("bucket")),t.push(new Xt("generation")),t.push(new Xt("metageneration")),t.push(new Xt("name","fullPath",!0));function e(s,o){return $B(o)}const n=new Xt("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new Xt("size");return r.xform=i,t.push(r),t.push(new Xt("timeCreated")),t.push(new Xt("updated")),t.push(new Xt("md5Hash",null,!0)),t.push(new Xt("cacheControl",null,!0)),t.push(new Xt("contentDisposition",null,!0)),t.push(new Xt("contentEncoding",null,!0)),t.push(new Xt("contentLanguage",null,!0)),t.push(new Xt("contentType",null,!0)),t.push(new Xt("metadata","customMetadata",!0)),Uh=t,Uh}function jB(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new Cn(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function UB(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return jB(i,t),i}function wA(t,e,n){const i=yA(e);return i===null?null:UB(t,i,n)}function BB(t,e,n,i){const r=yA(e);if(r===null||!V0(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=$0(f,n,i),g=fA({alt:"media",token:c});return p+g})[0]}function zB(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class bA{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){if(!t)throw N0()}function WB(t,e){function n(i,r){const s=wA(t,r,e);return EA(s!==null),s}return n}function HB(t,e){function n(i,r){const s=wA(t,r,e);return EA(s!==null),BB(s,r,t.host,t._protocol)}return n}function xA(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=rB():r=iB():n.getStatus()===402?r=nB(t.bucket):n.getStatus()===403?r=sB(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function qB(t){const e=xA(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=tB(t.path)),s.serverResponse=r.serverResponse,s}return n}function GB(t,e,n){const i=e.fullServerUrl(),r=$0(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new bA(r,s,HB(t,n),o);return a.errorHandler=qB(e),a}function KB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YB(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=KB(null,e)),i}function QB(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let A=0;A<2;A++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=YB(e,i,r),u=zB(c,n),d="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",f="\r\n--"+l+"--",p=Fr.getBlob(d,i,f);if(p===null)throw hB();const g={name:c.fullPath},y=$0(s,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,v=new bA(y,x,WB(t,n),_);return v.urlParams=g,v.headers=o,v.body=p.uploadData(),v.errorHandler=xA(e),v}class XB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Ll("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ll("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ll("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Ll("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ll("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JB extends XB{initXhr(){this.xhr_.responseType="text"}}function TA(){return new JB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new po(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vA(this._location.path)}get storage(){return this._service}get parent(){const e=NB(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new po(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pB(e)}}function ZB(t,e,n){t._throwIfRoot("uploadBytes");const i=QB(t.storage,t._location,_A(),new Fr(e,!0),n);return t.storage.makeRequestWithTokens(i,TA).then(r=>({metadata:r,ref:t}))}function ez(t){t._throwIfRoot("getDownloadURL");const e=GB(t.storage,t._location,_A());return t.storage.makeRequestWithTokens(e,TA).then(n=>{if(n===null)throw dB();return n})}function tz(t,e){const n=VB(t._location.path,e),i=new Cn(t._location.bucket,n);return new po(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(t){return/^[A-Za-z]+:\/\//.test(t)}function iz(t,e){return new po(t,e)}function SA(t,e){if(t instanceof j0){const n=t;if(n._bucket==null)throw uB();const i=new po(n,n._bucket);return e!=null?SA(i,e):i}else return e!==void 0?tz(t,e):t}function rz(t,e){if(e&&nz(e)){if(t instanceof j0)return iz(t,e);throw lv("To use ref(service, url), the first argument must be a Storage instance.")}else return SA(t,e)}function Vx(t,e){const n=e==null?void 0:e[hA];return n==null?null:Cn.makeFromBucketSpec(n,t)}function sz(t,e,n,i={}){t.host="".concat(e,":").concat(n),t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:PC(r,t.app.options.projectId))}class j0{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=uA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z4,this._maxUploadRetryTime=eB,this._requests=new Set,r!=null?this._bucket=Cn.makeFromBucketSpec(r,this._host):this._bucket=Vx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=Vx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new po(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new mB(dA());{const o=IB(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const Fx="@firebase/storage",$x="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="storage";function CA(t,e,n){return t=Ye(t),ZB(t,e,n)}function kA(t){return t=Ye(t),ez(t)}function PA(t,e){return t=Ye(t),rz(t,e)}function AA(t=F_(),e){t=Ye(t);const i=gp(t,IA).getImmediate({identifier:e}),r=IC("storage");return r&&oz(i,...r),i}function oz(t,e,n,i={}){sz(t,e,n,i)}function az(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new j0(n,i,r,e,xo)}function lz(){oo(new as(IA,az,"PUBLIC").setMultipleInstances(!0)),Ci(Fx,$x,""),Ci(Fx,$x,"esm2017")}lz();function ci(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function mo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const RA=6048e5,cz=864e5;let uz={};function Yp(){return uz}function nu(t,e){var a,l,c,u,d,f,p,g;const n=Yp(),i=(g=(p=(u=(c=e==null?void 0:e.weekStartsOn)!=null?c:(l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)!=null?u:n.weekStartsOn)!=null?p:(f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)!=null?g:0,r=ci(t),s=r.getDay(),o=(s<i?7:0)+s-i;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Pf(t){return nu(t,{weekStartsOn:1})}function OA(t){const e=ci(t),n=e.getFullYear(),i=mo(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const r=Pf(i),s=mo(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Pf(s);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function jx(t){const e=ci(t);return e.setHours(0,0,0,0),e}function Ux(t){const e=ci(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function hz(t,e){const n=jx(t),i=jx(e),r=+n-Ux(n),s=+i-Ux(i);return Math.round((r-s)/cz)}function dz(t){const e=OA(t),n=mo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Pf(n)}function fz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function pz(t){if(!fz(t)&&typeof t!="number")return!1;const e=ci(t);return!isNaN(Number(e))}function mz(t){const e=ci(t),n=mo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const gz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yz=(t,e,n)=>{let i;const r=gz[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function _a(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const vz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_z={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bz={date:_a({formats:vz,defaultWidth:"full"}),time:_a({formats:_z,defaultWidth:"full"}),dateTime:_a({formats:wz,defaultWidth:"full"})},Ez={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xz=(t,e,n,i)=>Ez[t];function bi(t){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const Tz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Iz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Pz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Az=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rz={ordinalNumber:Az,era:bi({values:Tz,defaultWidth:"wide"}),quarter:bi({values:Sz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bi({values:Iz,defaultWidth:"wide"}),day:bi({values:Cz,defaultWidth:"wide"}),dayPeriod:bi({values:kz,defaultWidth:"wide",formattingValues:Pz,defaultFormattingWidth:"wide"})};function Ei(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Dz(a,d=>d.test(o)):Oz(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function Oz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Dz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function DA(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(r.length);return{value:o,rest:a}}}const Mz=/^(\d+)(th|st|nd|rd)?/i,Lz=/\d+/i,Nz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vz={any:[/^b/i,/^(a|c)/i]},Fz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$z={any:[/1/i,/2/i,/3/i,/4/i]},jz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qz={ordinalNumber:DA({matchPattern:Mz,parsePattern:Lz,valueCallback:t=>parseInt(t,10)}),era:Ei({matchPatterns:Nz,defaultMatchWidth:"wide",parsePatterns:Vz,defaultParseWidth:"any"}),quarter:Ei({matchPatterns:Fz,defaultMatchWidth:"wide",parsePatterns:$z,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ei({matchPatterns:jz,defaultMatchWidth:"wide",parsePatterns:Uz,defaultParseWidth:"any"}),day:Ei({matchPatterns:Bz,defaultMatchWidth:"wide",parsePatterns:zz,defaultParseWidth:"any"}),dayPeriod:Ei({matchPatterns:Wz,defaultMatchWidth:"any",parsePatterns:Hz,defaultParseWidth:"any"})},Gz={code:"en-US",formatDistance:yz,formatLong:bz,formatRelative:xz,localize:Rz,match:qz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kz(t){const e=ci(t);return hz(e,mz(e))+1}function Yz(t){const e=ci(t),n=+Pf(e)-+dz(e);return Math.round(n/RA)+1}function MA(t,e){var u,d,f,p,g,y,x,_;const n=ci(t),i=n.getFullYear(),r=Yp(),s=(_=(x=(p=(f=e==null?void 0:e.firstWeekContainsDate)!=null?f:(d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)!=null?p:r.firstWeekContainsDate)!=null?x:(y=(g=r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)!=null?_:1,o=mo(t,0);o.setFullYear(i+1,0,s),o.setHours(0,0,0,0);const a=nu(o,e),l=mo(t,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);const c=nu(l,e);return n.getTime()>=a.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function Qz(t,e){var a,l,c,u,d,f,p,g;const n=Yp(),i=(g=(p=(u=(c=e==null?void 0:e.firstWeekContainsDate)!=null?c:(l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)!=null?u:n.firstWeekContainsDate)!=null?p:(f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)!=null?g:1,r=MA(t,e),s=mo(t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),nu(s,e)}function Xz(t,e){const n=ci(t),i=+nu(n,e)-+Qz(n,e);return Math.round(i/RA)+1}function Ce(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const kr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Ce(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ce(n+1,2)},d(t,e){return Ce(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ce(t.getHours()%12||12,e.length)},H(t,e){return Ce(t.getHours(),e.length)},m(t,e){return Ce(t.getMinutes(),e.length)},s(t,e){return Ce(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return Ce(r,e.length)}},Uo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bx={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return kr.y(t,e)},Y:function(t,e,n,i){const r=MA(t,i),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return Ce(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ce(s,e.length)},R:function(t,e){const n=OA(t);return Ce(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ce(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ce(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ce(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return kr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ce(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=Xz(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Ce(r,e.length)},I:function(t,e,n){const i=Yz(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Ce(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):kr.d(t,e)},D:function(t,e,n){const i=Kz(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ce(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ce(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ce(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Ce(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=Uo.noon:i===0?r=Uo.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=Uo.evening:i>=12?r=Uo.afternoon:i>=4?r=Uo.morning:r=Uo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return kr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):kr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ce(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ce(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):kr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):kr.s(t,e)},S:function(t,e){return kr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Wx(i);case"XXXX":case"XX":return Ns(i);case"XXXXX":case"XXX":default:return Ns(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return Wx(i);case"xxxx":case"xx":return Ns(i);case"xxxxx":case"xxx":default:return Ns(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+zx(i,":");case"OOOO":default:return"GMT"+Ns(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+zx(i,":");case"zzzz":default:return"GMT"+Ns(i,":")}},t:function(t,e,n){const i=Math.trunc(t.getTime()/1e3);return Ce(i,e.length)},T:function(t,e,n){const i=t.getTime();return Ce(i,e.length)}};function zx(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+Ce(s,2)}function Wx(t,e){return t%60===0?(t>0?"-":"+")+Ce(Math.abs(t)/60,2):Ns(t,e)}function Ns(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Ce(Math.trunc(i/60),2),s=Ce(i%60,2);return n+r+e+s}const Hx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Jz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return Hx(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Hx(i,e)).replace("{{time}}",LA(r,e))},Zz={p:LA,P:Jz},e5=/^D+$/,t5=/^Y+$/,n5=["D","DD","YY","YYYY"];function i5(t){return e5.test(t)}function r5(t){return t5.test(t)}function s5(t,e,n){const i=o5(t,e,n);if(console.warn(i),n5.includes(t))throw new RangeError(i)}function o5(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return"Use `".concat(t.toLowerCase(),"` instead of `").concat(t,"` (in `").concat(e,"`) for formatting ").concat(i," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}const a5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c5=/^'([^]*?)'?$/,u5=/''/g,h5=/[a-zA-Z]/;function U0(t,e,n){var u,d,f,p,g,y,x,_,v,S,A,D,M,E,w,T,C,P;const i=Yp(),r=(d=(u=n==null?void 0:n.locale)!=null?u:i.locale)!=null?d:Gz,s=(S=(v=(y=(g=n==null?void 0:n.firstWeekContainsDate)!=null?g:(p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)!=null?y:i.firstWeekContainsDate)!=null?v:(_=(x=i.locale)==null?void 0:x.options)==null?void 0:_.firstWeekContainsDate)!=null?S:1,o=(P=(C=(E=(M=n==null?void 0:n.weekStartsOn)!=null?M:(D=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:D.weekStartsOn)!=null?E:i.weekStartsOn)!=null?C:(T=(w=i.locale)==null?void 0:w.options)==null?void 0:T.weekStartsOn)!=null?P:0,a=ci(t);if(!pz(a))throw new RangeError("Invalid time value");let l=e.match(l5).map(O=>{const R=O[0];if(R==="p"||R==="P"){const Y=Zz[R];return Y(O,r.formatLong)}return O}).join("").match(a5).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const R=O[0];if(R==="'")return{isToken:!1,value:d5(O)};if(Bx[R])return{isToken:!0,value:O};if(R.match(h5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:O}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return l.map(O=>{if(!O.isToken)return O.value;const R=O.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&r5(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&i5(R))&&s5(R,e,String(t));const Y=Bx[R[0]];return Y(a,R,r.localize,c)}).join("")}function d5(t){const e=t.match(c5);return e?e[1].replace(u5,"'"):t}const f5={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},p5=(t,e,n)=>{let i;const r=f5[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+i:"hace "+i:i},m5={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},g5={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},y5={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v5={date:_a({formats:m5,defaultWidth:"full"}),time:_a({formats:g5,defaultWidth:"full"}),dateTime:_a({formats:y5,defaultWidth:"full"})},_5={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},w5={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},b5=(t,e,n,i)=>e.getHours()!==1?w5[t]:_5[t],E5={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},x5={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},T5={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},S5={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},I5={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},C5={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},k5=(t,e)=>Number(t)+"º",P5={ordinalNumber:k5,era:bi({values:E5,defaultWidth:"wide"}),quarter:bi({values:x5,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:bi({values:T5,defaultWidth:"wide"}),day:bi({values:S5,defaultWidth:"wide"}),dayPeriod:bi({values:I5,defaultWidth:"wide",formattingValues:C5,defaultFormattingWidth:"wide"})},A5=/^(\d+)(º)?/i,R5=/\d+/i,O5={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},D5={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},M5={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},L5={any:[/1/i,/2/i,/3/i,/4/i]},N5={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},V5={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},F5={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},$5={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},j5={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},U5={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},B5={ordinalNumber:DA({matchPattern:A5,parsePattern:R5,valueCallback:function(t){return parseInt(t,10)}}),era:Ei({matchPatterns:O5,defaultMatchWidth:"wide",parsePatterns:D5,defaultParseWidth:"any"}),quarter:Ei({matchPatterns:M5,defaultMatchWidth:"wide",parsePatterns:L5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ei({matchPatterns:N5,defaultMatchWidth:"wide",parsePatterns:V5,defaultParseWidth:"any"}),day:Ei({matchPatterns:F5,defaultMatchWidth:"wide",parsePatterns:$5,defaultParseWidth:"any"}),dayPeriod:Ei({matchPatterns:j5,defaultMatchWidth:"any",parsePatterns:U5,defaultParseWidth:"any"})},B0={code:"es",formatDistance:p5,formatLong:v5,formatRelative:b5,localize:P5,match:B5,options:{weekStartsOn:1,firstWeekContainsDate:1}};var NA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qx=W.createContext&&W.createContext(NA),z5=["attr","size","title"];function W5(t,e){if(t==null)return{};var n=H5(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function H5(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Af.apply(this,arguments)}function Gx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gx(Object(n),!0).forEach(function(i){q5(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function q5(t,e,n){return e=G5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G5(t){var e=K5(t,"string");return typeof e=="symbol"?e:e+""}function K5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VA(t){return t&&t.map((e,n)=>W.createElement(e.tag,Rf({key:n},e.attr),VA(e.child)))}function FA(t){return e=>W.createElement(Y5,Af({attr:Rf({},t.attr)},e),VA(t.child))}function Y5(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=W5(t,z5),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),W.createElement("svg",Af({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:l,style:Rf(Rf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&W.createElement("title",null,s),t.children)};return qx!==void 0?W.createElement(qx.Consumer,null,n=>e(n)):e(NA)}function $A(t){return FA({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function jA(t){return FA({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}const Q5="modulepreload",X5=function(t){return"/"+t},Kx={},Lu=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(n.map(a=>{if(a=X5(a),a in Kx)return;Kx[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(c)))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":Q5,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error("Unable to preload CSS for ".concat(a))))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Vn={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},J5=Object.defineProperty,Z5=(t,e)=>{for(var n in e)J5(t,n,{get:e[n],enumerable:!0})},e3={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},UA=new WeakMap,ko=t=>UA.get(t),t3=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return UA.set(t,n)},Yx=(t,e)=>e in t,Nu=(t,e)=>(0,console.error)(t,e),Of=new Map,n3=[],i3="slot-fb{display:contents}slot-fb[hidden]{display:none}",Qx="http://www.w3.org/1999/xlink",Vu=typeof window<"u"?window:{},ti=Vu.document||{head:{}},tl=Vu.HTMLElement||class{},Vt={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},r3=(()=>{let t=!1;try{ti.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),s3=t=>Promise.resolve(t),o3=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),cv=!1,uv=[],BA=[],zA=(t,e)=>n=>{t.push(n),cv||(cv=!0,e&&Vt.$flags$&4?a3(hv):Vt.raf(hv))},Xx=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Nu(n)}t.length=0},hv=()=>{Xx(uv),Xx(BA),(cv=uv.length>0)&&Vt.raf(hv)},a3=t=>s3().then(t),l3=zA(uv,!1),z0=zA(BA,!0),c3=t=>{const e=new URL(t,Vt.$resourcesUrl$);return e.origin!==Vu.location.origin?e.href:e.pathname},Jx={},u3="http://www.w3.org/2000/svg",h3="http://www.w3.org/1999/xhtml",d3=t=>t!=null,W0=t=>(t=typeof t,t==="object"||t==="function");function f3(t){var e,n,i;return(i=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?i:void 0}var p3={};Z5(p3,{err:()=>WA,map:()=>m3,ok:()=>dv,unwrap:()=>g3,unwrapErr:()=>y3});var dv=t=>({isOk:!0,isErr:!1,value:t}),WA=t=>({isOk:!1,isErr:!0,value:t});function m3(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(i=>dv(i)):dv(n)}if(t.isErr){const n=t.value;return WA(n)}throw"should never get here"}var g3=t=>{if(t.isOk)return t.value;throw t.value},y3=t=>{if(t.isErr)return t.value;throw t.value},go=(t,e="")=>()=>{},Zt=(t,e,...n)=>{let i=null,r=null,s=null,o=!1,a=!1;const l=[],c=d=>{for(let f=0;f<d.length;f++)i=d[f],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((o=typeof t!="function"&&!W0(i))&&(i=String(i)),o&&a?l[l.length-1].$text$+=i:l.push(o?Df(null,i):i),a=o)};if(c(n),e){e.key&&(r=e.key),e.name&&(s=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(f=>d[f]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,_3);const u=Df(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=s,u},Df=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},Fu={},v3=t=>t&&t.$tag$===Fu,_3={forEach:(t,e)=>t.map(Zx).forEach(e),map:(t,e)=>t.map(Zx).map(e).map(w3)},Zx=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),w3=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),Zt(t.vtag,n,...t.vchildren||[])}const e=Df(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},b3=t=>n3.map(e=>e(t)).find(e=>!!e),E3=t=>ko(t).$modeName$,x3=(t,e)=>t!=null&&!W0(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,T3=t=>t,ar=(t,e,n)=>{const i=T3(t);return{emit:r=>S3(i,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:r})}},S3=(t,e,n)=>{const i=Vt.ce(e,n);return t.dispatchEvent(i),i},eT=new WeakMap,I3=(t,e,n)=>{let i=Of.get(t);o3&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,Of.set(t,i)},C3=(t,e,n)=>{var i;const r=HA(e,n),s=Of.get(r);if(t=t.nodeType===11?t:ti,s)if(typeof s=="string"){t=t.head||t;let o=eT.get(t),a;if(o||eT.set(t,o=new Set),!o.has(r)){{a=ti.createElement("style"),a.innerHTML=s;const l=(i=Vt.$nonce$)!=null?i:f3(ti);l!=null&&a.setAttribute("nonce",l),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=i3),o&&o.add(r)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return r},k3=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,r=go("attachStyles",e.$tagName$),s=C3(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&i&2&&(n["s-sc"]=s,n.classList.add(s+"-h"),i&2&&n.classList.add(s+"-s")),r()},HA=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),tT=(t,e,n,i,r,s)=>{if(n!==i){let o=Yx(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=nT(n),u=nT(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):Yx(Vu,a)?e=a.slice(2):e=a[2]+e.slice(3),n||i){const l=e.endsWith(qA);e=e.replace(A3,""),n&&Vt.rel(t,e,n,l),i&&Vt.ael(t,e,i,l)}}else{const l=W0(i);if((o||l&&i!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?o=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(Qx,e):t.removeAttribute(e)):(!o||s&4||r)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(Qx,e,i):t.setAttribute(e,i))}}},P3=/\s/,nT=t=>t?t.split(P3):[],qA="Capture",A3=new RegExp(qA+"$"),GA=(t,e,n)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,r=t&&t.$attrs$||Jx,s=e.$attrs$||Jx;for(const o of iT(Object.keys(r)))o in s||tT(i,o,r[o],void 0,n,e.$flags$);for(const o of iT(Object.keys(s)))tT(i,o,r[o],s[o],n,e.$flags$)};function iT(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Ko,fv,Va,Mf=!1,Lf=!1,H0=!1,En=!1,Nf=(t,e,n,i)=>{var r;const s=e.$children$[n];let o=0,a,l,c;if(Mf||(H0=!0,s.$tag$==="slot"&&(Ko&&i.classList.add(Ko+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)a=s.$elm$=ti.createTextNode(s.$text$);else if(s.$flags$&1)a=s.$elm$=ti.createTextNode("");else{if(En||(En=s.$tag$==="svg"),a=s.$elm$=ti.createElementNS(En?u3:h3,!Mf&&Vn.slotRelocation&&s.$flags$&2?"slot-fb":s.$tag$),En&&s.$tag$==="foreignObject"&&(En=!1),GA(null,s,En),!!a.getRootNode().querySelector("body")&&Vn.scoped&&d3(Ko)&&a["s-si"]!==Ko&&a.classList.add(a["s-si"]=Ko),G0(a,i),s.$children$)for(o=0;o<s.$children$.length;++o)l=Nf(t,s,o,a),l&&a.appendChild(l);s.$tag$==="svg"?En=!1:a.tagName==="foreignObject"&&(En=!0)}return a["s-hn"]=Va,s.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=fv,a["s-sn"]=s.$name$||"",a["s-rf"]=(r=s.$attrs$)==null?void 0:r.ref,c=t&&t.$children$&&t.$children$[n],c&&c.$tag$===s.$tag$&&t.$elm$&&iu(t.$elm$,!1)),a},iu=(t,e)=>{Vt.$flags$|=1;const n=Array.from(t.childNodes);if(t["s-sr"]&&Vn.experimentalSlotFixes){let i=t;for(;i=i.nextSibling;)i&&i["s-sn"]===t["s-sn"]&&i["s-sh"]===Va&&n.push(i)}for(let i=n.length-1;i>=0;i--){const r=n[i];r["s-hn"]!==Va&&r["s-ol"]&&(ns(QA(r),r,q0(r)),r["s-ol"].remove(),r["s-ol"]=void 0,r["s-sh"]=void 0,H0=!0),e&&iu(r,e)}Vt.$flags$&=-2},KA=(t,e,n,i,r,s)=>{let o=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(o.shadowRoot&&o.tagName===Va&&(o=o.shadowRoot);r<=s;++r)i[r]&&(a=Nf(null,n,r,t),a&&(i[r].$elm$=a,ns(o,a,q0(e))))},YA=(t,e,n)=>{for(let i=e;i<=n;++i){const r=t[i];if(r){const s=r.$elm$;ZA(r),s&&(Lf=!0,s["s-ol"]?s["s-ol"].remove():iu(s,!0),s.remove())}}},R3=(t,e,n,i,r=!1)=>{let s=0,o=0,a=0,l=0,c=e.length-1,u=e[0],d=e[c],f=i.length-1,p=i[0],g=i[f],y,x;for(;s<=c&&o<=f;)if(u==null)u=e[++s];else if(d==null)d=e[--c];else if(p==null)p=i[++o];else if(g==null)g=i[--f];else if(Bh(u,p,r))Yo(u,p,r),u=e[++s],p=i[++o];else if(Bh(d,g,r))Yo(d,g,r),d=e[--c],g=i[--f];else if(Bh(u,g,r))(u.$tag$==="slot"||g.$tag$==="slot")&&iu(u.$elm$.parentNode,!1),Yo(u,g,r),ns(t,u.$elm$,d.$elm$.nextSibling),u=e[++s],g=i[--f];else if(Bh(d,p,r))(u.$tag$==="slot"||g.$tag$==="slot")&&iu(d.$elm$.parentNode,!1),Yo(d,p,r),ns(t,d.$elm$,u.$elm$),d=e[--c],p=i[++o];else{for(a=-1,l=s;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===p.$key$){a=l;break}a>=0?(x=e[a],x.$tag$!==p.$tag$?y=Nf(e&&e[o],n,a,t):(Yo(x,p,r),e[a]=void 0,y=x.$elm$),p=i[++o]):(y=Nf(e&&e[o],n,o,t),p=i[++o]),y&&ns(QA(u.$elm$),y,q0(u.$elm$))}s>c?KA(t,i[f+1]==null?null:i[f+1].$elm$,n,i,o,f):o>f&&YA(e,s,c)},Bh=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&n&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,q0=t=>t&&t["s-ol"]||t,QA=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Yo=(t,e,n=!1)=>{const i=e.$elm$=t.$elm$,r=t.$children$,s=e.$children$,o=e.$tag$,a=e.$text$;let l;a===null?(En=o==="svg"?!0:o==="foreignObject"?!1:En,o==="slot"&&!Mf||GA(t,e,En),r!==null&&s!==null?R3(i,r,e,s,n):s!==null?(t.$text$!==null&&(i.textContent=""),KA(i,null,e,s,0,s.length-1)):!n&&Vn.updatable&&r!==null&&YA(r,0,r.length-1),En&&o==="svg"&&(En=!1)):(l=i["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(i.data=a)},XA=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const i=n["s-sn"];n.hidden=!1;for(const r of e)if(r!==n){if(r["s-hn"]!==n["s-hn"]||i!==""){if(r.nodeType===1&&(i===r.getAttribute("slot")||i===r["s-sn"])||r.nodeType===3&&i===r["s-sn"]){n.hidden=!0;break}}else if(r.nodeType===1||r.nodeType===3&&r.textContent.trim()!==""){n.hidden=!0;break}}}XA(n)}},qi=[],JA=t=>{let e,n,i;for(const r of t.childNodes){if(r["s-sr"]&&(e=r["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const s=r["s-sn"];for(i=n.length-1;i>=0;i--)if(e=n[i],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==r["s-hn"]&&!Vn.experimentalSlotFixes)if(rT(e,s)){let o=qi.find(a=>a.$nodeToRelocate$===e);Lf=!0,e["s-sn"]=e["s-sn"]||s,o?(o.$nodeToRelocate$["s-sh"]=r["s-hn"],o.$slotRefNode$=r):(e["s-sh"]=r["s-hn"],qi.push({$slotRefNode$:r,$nodeToRelocate$:e})),e["s-sr"]&&qi.map(a=>{rT(a.$nodeToRelocate$,e["s-sn"])&&(o=qi.find(l=>l.$nodeToRelocate$===e),o&&!a.$slotRefNode$&&(a.$slotRefNode$=o.$slotRefNode$))})}else qi.some(o=>o.$nodeToRelocate$===e)||qi.push({$nodeToRelocate$:e})}r.nodeType===1&&JA(r)}},rT=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",ZA=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(ZA)},ns=(t,e,n)=>{const i=t==null?void 0:t.insertBefore(e,n);return G0(e,t),i},eR=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...eR(t.parentElement)),e},G0=(t,e,n=!1)=>{var i;if(t&&e&&t.nodeType===1){const r=new Set(eR(e).filter(Boolean));if(r.size&&((i=t.classList)==null||i.add(...t["s-scs"]=[...r]),t["s-ol"]||n))for(const s of Array.from(t.childNodes))G0(s,t,!0)}},O3=(t,e,n=!1)=>{var i,r,s,o,a;const l=t.$hostElement$,c=t.$cmpMeta$,u=t.$vnode$||Df(null,null),d=v3(e)?e:Zt(null,null,e);if(Va=l.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([f,p])=>d.$attrs$[p]=l[f])),n&&d.$attrs$)for(const f of Object.keys(d.$attrs$))l.hasAttribute(f)&&!["key","ref","style","class"].includes(f)&&(d.$attrs$[f]=l[f]);d.$tag$=null,d.$flags$|=4,t.$vnode$=d,d.$elm$=u.$elm$=l.shadowRoot||l,Ko=l["s-sc"],Mf=(c.$flags$&1)!==0,fv=l["s-cr"],Lf=!1,Yo(u,d,n);{if(Vt.$flags$|=1,H0){JA(d.$elm$);for(const f of qi){const p=f.$nodeToRelocate$;if(!p["s-ol"]){const g=ti.createTextNode("");g["s-nr"]=p,ns(p.parentNode,p["s-ol"]=g,p)}}for(const f of qi){const p=f.$nodeToRelocate$,g=f.$slotRefNode$;if(g){const y=g.parentNode;let x=g.nextSibling;{let _=(i=p["s-ol"])==null?void 0:i.previousSibling;for(;_;){let v=(r=_["s-nr"])!=null?r:null;if(v&&v["s-sn"]===p["s-sn"]&&y===v.parentNode){for(v=v.nextSibling;v===p||v!=null&&v["s-sr"];)v=v==null?void 0:v.nextSibling;if(!v||!v["s-nr"]){x=v;break}}_=_.previousSibling}}(!x&&y!==p.parentNode||p.nextSibling!==x)&&p!==x&&(!p["s-hn"]&&p["s-ol"]&&(p["s-hn"]=p["s-ol"].parentNode.nodeName),ns(y,p,x),p.nodeType===1&&(p.hidden=(s=p["s-ih"])!=null?s:!1)),p&&typeof g["s-rf"]=="function"&&g["s-rf"](p)}else p.nodeType===1&&(n&&(p["s-ih"]=(o=p.hidden)!=null?o:!1),p.hidden=!0)}}Lf&&XA(d.$elm$),Vt.$flags$&=-2,qi.length=0}if(Vn.experimentalScopedSlotChanges&&c.$flags$&2)for(const f of d.$elm$.childNodes)f["s-hn"]!==Va&&!f["s-sh"]&&(n&&f["s-ih"]==null&&(f["s-ih"]=(a=f.hidden)!=null?a:!1),f.hidden=!0);fv=void 0},D3=(t,e)=>{},tR=(t,e)=>(t.$flags$|=16,D3(t,t.$ancestorComponent$),z0(()=>M3(t,e))),M3=(t,e)=>{const n=t.$hostElement$,i=go("scheduleUpdate",t.$cmpMeta$.$tagName$),r=n;if(!r)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let s;return e?s=wa(r,"componentWillLoad"):s=wa(r,"componentWillUpdate"),s=sT(s,()=>wa(r,"componentWillRender")),i(),sT(s,()=>N3(t,r,e))},sT=(t,e)=>L3(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),L3=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",N3=async(t,e,n)=>{const i=t.$hostElement$,r=go("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&k3(t);const s=go("render",t.$cmpMeta$.$tagName$);V3(t,e,i,n),s(),r(),F3(t)},oT=null,V3=(t,e,n,i)=>{try{oT=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(Vn.hasRenderFn||Vn.reflect)&&(Vn.vdomRender||Vn.reflect)&&(Vn.hydrateServerSide||O3(t,e,i))}catch(l){Nu(l,t.$hostElement$)}return oT=null,null},F3=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=go("postUpdate",e),r=n;t.$ancestorComponent$,wa(r,"componentDidRender"),t.$flags$&64?(wa(r,"componentDidUpdate"),i()):(t.$flags$|=64,wa(r,"componentDidLoad"),i())},wa=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){Nu(i)}},$3=(t,e)=>ko(t).$instanceValues$.get(e),j3=(t,e,n,i)=>{const r=ko(t),s=t,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;n=x3(n,i.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(n);if(n!==o&&!c){r.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(f=>{try{l[f](n,o,e)}catch(p){Nu(p,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,o,e)===!1)return;tR(r,!1)}}}},U3=(t,e,n)=>{var i,r;const s=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const o=Object.entries((i=e.$members$)!=null?i:{});o.map(([a,[l]])=>{(l&31||l&32)&&Object.defineProperty(s,a,{get(){return $3(this,a)},set(c){j3(this,a,c,e)},configurable:!0,enumerable:!0})});{const a=new Map;s.attributeChangedCallback=function(l,c,u){Vt.jmp(()=>{var d;const f=a.get(l);if(this.hasOwnProperty(f))u=this[f],delete this[f];else{if(s.hasOwnProperty(f)&&typeof this[f]=="number"&&this[f]==u)return;if(f==null){const p=ko(this),g=p==null?void 0:p.$flags$;if(g&&!(g&8)&&g&128&&u!==c){const x=this,_=(d=e.$watchers$)==null?void 0:d[l];_==null||_.forEach(v=>{x[v]!=null&&x[v].call(x,u,c,l)})}return}}this[f]=u===null&&typeof this[f]=="boolean"?!1:u})},t.observedAttributes=Array.from(new Set([...Object.keys((r=e.$watchers$)!=null?r:{}),...o.filter(([l,c])=>c[0]&15).map(([l,c])=>{var u;const d=c[1]||l;return a.set(d,l),c[0]&512&&((u=e.$attrsToReflect$)==null||u.push([l,d])),d})]))}}return t},B3=async(t,e,n,i)=>{let r;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{r=t.constructor;const o=t.localName;customElements.whenDefined(o).then(()=>e.$flags$|=128)}if(r&&r.style){let o;typeof r.style=="string"?o=r.style:typeof r.style!="string"&&(e.$modeName$=b3(t),e.$modeName$&&(o=r.style[e.$modeName$]));const a=HA(n,e.$modeName$);if(!Of.has(a)){const l=go("registerStyles",n.$tagName$);I3(a,o,!!(n.$flags$&1)),l()}}}e.$ancestorComponent$,tR(e,!0)},aT=t=>{},z3=t=>{if(!(Vt.$flags$&1)){const e=ko(t),n=e.$cmpMeta$,i=go("connectedCallback",n.$tagName$);e.$flags$&1?(nR(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?aT(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>aT(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&W3(t),n.$members$&&Object.entries(n.$members$).map(([r,[s]])=>{if(s&31&&t.hasOwnProperty(r)){const o=t[r];delete t[r],t[r]=o}}),B3(t,e,n)),i()}},W3=t=>{const e=t["s-cr"]=ti.createComment("");e["s-cn"]=!0,ns(t,e,t.firstChild)},H3=async t=>{if(!(Vt.$flags$&1)){const e=ko(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},nl=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){t3(this,n)},connectedCallback(){const s=ko(this);nR(this,s,n.$listeners$),z3(this),i&&i.call(this)},disconnectedCallback(){H3(this),r&&r.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(n.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),t.is=n.$tagName$,U3(t,n)},nR=(t,e,n,i)=>{n&&n.map(([r,s,o])=>{const a=G3(t,r),l=q3(e,o),c=K3(r);Vt.ael(a,s,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Vt.rel(a,s,l,c))})},q3=(t,e)=>n=>{var i;try{Vn.lazyLoad||t.$hostElement$[e](n)}catch(r){Nu(r)}},G3=(t,e)=>e&4?ti:e&8?Vu:e&16?ti.body:t,K3=t=>r3?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zt=typeof window<"u"?window:void 0,fg=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let pg;const Y3=t=>{if(pg===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;pg=!e&&n?"-webkit-":""}return pg},mg=(t,e,n)=>{const i=e.startsWith("animation")?Y3(t):"";t.style.setProperty(i+e,n)},zh=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},Q3=t=>{let e,n,i,r,s,o,a=[],l=[],c=[],u=!1,d,f={},p=[],g=[],y={},x=0,_=!1,v=!1,S,A,D,M=!0,E=!1,w=!0,T,C=!1;const P=t,O=[],R=[],Y=[],G=[],Q=[],ie=[],U=[],B=[],$=[],X=[],q=[],re=typeof AnimationEffect=="function"||zt!==void 0&&typeof zt.AnimationEffect=="function",oe=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&re,ue=()=>q,ve=V=>(Q.forEach(ee=>{ee.destroy(V)}),Ie(V),G.length=0,Q.length=0,a.length=0,sl(),u=!1,w=!0,T),Ie=V=>{Oo(),V&&ol()},Hn=()=>{_=!1,v=!1,w=!0,S=void 0,A=void 0,D=void 0,x=0,E=!1,M=!0,C=!1},Ao=()=>x!==0&&!C,bs=(V,ee)=>{const me=ee.findIndex(He=>He.c===V);me>-1&&ee.splice(me,1)},Ro=(V,ee)=>(Y.push({c:V,o:ee}),T),Es=(V,ee)=>((ee!=null&&ee.oneTimeCallback?R:O).push({c:V,o:ee}),T),sl=()=>(O.length=0,R.length=0,T),Oo=()=>{oe&&(q.forEach(V=>{V.cancel()}),q.length=0)},ol=()=>{ie.forEach(V=>{V!=null&&V.parentNode&&V.parentNode.removeChild(V)}),ie.length=0},Ku=V=>(U.push(V),T),am=V=>(B.push(V),T),lm=V=>($.push(V),T),Yu=V=>(X.push(V),T),al=V=>(l=zh(l,V),T),Qu=V=>(c=zh(c,V),T),cm=(V={})=>(f=V,T),ll=(V=[])=>{for(const ee of V)f[ee]="";return T},cl=V=>(p=zh(p,V),T),Xu=V=>(g=zh(g,V),T),vt=(V={})=>(y=V,T),Ct=(V=[])=>{for(const ee of V)y[ee]="";return T},_r=()=>s!==void 0?s:d?d.getFill():"both",xs=()=>S!==void 0?S:o!==void 0?o:d?d.getDirection():"normal",Do=()=>_?"linear":i!==void 0?i:d?d.getEasing():"linear",wr=()=>v?0:A!==void 0?A:n!==void 0?n:d?d.getDuration():0,Vi=()=>r!==void 0?r:d?d.getIterations():1,Mo=()=>D!==void 0?D:e!==void 0?e:d?d.getDelay():0,Ju=()=>a,ul=V=>(o=V,wt(!0),T),um=V=>(s=V,wt(!0),T),hm=V=>(e=V,wt(!0),T),hl=V=>(i=V,wt(!0),T),Zu=V=>(!oe&&V===0&&(V=1),n=V,wt(!0),T),eh=V=>(r=V,wt(!0),T),Ts=V=>(d=V,T),dl=V=>{if(V!=null)if(V.nodeType===1)G.push(V);else if(V.length>=0)for(let ee=0;ee<V.length;ee++)G.push(V[ee]);else console.error("Invalid addElement value");return T},fl=V=>{if(V!=null)if(Array.isArray(V))for(const ee of V)ee.parent(T),Q.push(ee);else V.parent(T),Q.push(V);return T},Fi=V=>{const ee=a!==V;return a=V,ee&&th(a),T},th=V=>{oe&&ue().forEach(ee=>{const me=ee.effect;if(me.setKeyframes)me.setKeyframes(V);else{const He=new KeyframeEffect(me.target,V,me.getTiming());ee.effect=He}})},Lo=()=>{U.forEach(He=>He()),B.forEach(He=>He());const V=l,ee=c,me=f;G.forEach(He=>{const ot=He.classList;V.forEach(vn=>ot.add(vn)),ee.forEach(vn=>ot.remove(vn));for(const vn in me)me.hasOwnProperty(vn)&&mg(He,vn,me[vn])})},nh=()=>{$.forEach(ot=>ot()),X.forEach(ot=>ot());const V=M?1:0,ee=p,me=g,He=y;G.forEach(ot=>{const vn=ot.classList;ee.forEach(qn=>vn.add(qn)),me.forEach(qn=>vn.remove(qn));for(const qn in He)He.hasOwnProperty(qn)&&mg(ot,qn,He[qn])}),A=void 0,S=void 0,D=void 0,O.forEach(ot=>ot.c(V,T)),R.forEach(ot=>ot.c(V,T)),R.length=0,w=!0,M&&(E=!0),M=!0},hi=()=>{x!==0&&(x--,x===0&&(nh(),d&&d.animationFinish()))},ih=()=>{G.forEach(V=>{const ee=V.animate(a,{id:P,delay:Mo(),duration:wr(),easing:Do(),iterations:Vi(),fill:_r(),direction:xs()});ee.pause(),q.push(ee)}),q.length>0&&(q[0].onfinish=()=>{hi()})},_t=()=>{Lo(),a.length>0&&oe&&ih(),u=!0},br=V=>{V=Math.min(Math.max(V,0),.9999),oe&&q.forEach(ee=>{ee.currentTime=ee.effect.getComputedTiming().delay+wr()*V,ee.pause()})},Er=V=>{q.forEach(ee=>{ee.effect.updateTiming({delay:Mo(),duration:wr(),easing:Do(),iterations:Vi(),fill:_r(),direction:xs()})}),V!==void 0&&br(V)},wt=(V=!1,ee=!0,me)=>(V&&Q.forEach(He=>{He.update(V,ee,me)}),oe&&Er(me),T),dm=(V=!1,ee)=>(Q.forEach(me=>{me.progressStart(V,ee)}),rh(),_=V,u||_t(),wt(!1,!0,ee),T),fm=V=>(Q.forEach(ee=>{ee.progressStep(V)}),br(V),T),xr=(V,ee,me)=>(_=!1,Q.forEach(He=>{He.progressEnd(V,ee,me)}),me!==void 0&&(A=me),E=!1,M=!0,V===0?(S=xs()==="reverse"?"normal":"reverse",S==="reverse"&&(M=!1),oe?(wt(),br(1-ee)):(D=(1-ee)*wr()*-1,wt(!1,!1))):V===1&&(oe?(wt(),br(ee)):(D=ee*wr()*-1,wt(!1,!1))),V!==void 0&&!d&&Ss(),T),rh=()=>{u&&(oe?q.forEach(V=>{V.pause()}):G.forEach(V=>{mg(V,"animation-play-state","paused")}),C=!0)},pm=()=>(Q.forEach(V=>{V.pause()}),rh(),T),No=()=>{hi()},sh=()=>{q.forEach(V=>{V.play()}),(a.length===0||G.length===0)&&hi()},pl=()=>{oe&&(br(0),Er())},Ss=V=>new Promise(ee=>{V!=null&&V.sync&&(v=!0,Es(()=>v=!1,{oneTimeCallback:!0})),u||_t(),E&&(pl(),E=!1),w&&(x=Q.length+1,w=!1);const me=()=>{bs(He,R),ee()},He=()=>{bs(me,Y),ee()};Es(He,{oneTimeCallback:!0}),Ro(me,{oneTimeCallback:!0}),Q.forEach(ot=>{ot.play()}),oe?sh():No(),C=!1}),di=()=>{Q.forEach(V=>{V.stop()}),u&&(Oo(),u=!1),Hn(),Y.forEach(V=>V.c(0,T)),Y.length=0},ml=(V,ee)=>{const me=a[0];return me!==void 0&&(me.offset===void 0||me.offset===0)?me[V]=ee:a=[{offset:0,[V]:ee},...a],T};return T={parentAnimation:d,elements:G,childAnimations:Q,id:P,animationFinish:hi,from:ml,to:(V,ee)=>{const me=a[a.length-1];return me!==void 0&&(me.offset===void 0||me.offset===1)?me[V]=ee:a=[...a,{offset:1,[V]:ee}],T},fromTo:(V,ee,me)=>ml(V,ee).to(V,me),parent:Ts,play:Ss,pause:pm,stop:di,destroy:ve,keyframes:Fi,addAnimation:fl,addElement:dl,update:wt,fill:um,direction:ul,iterations:eh,duration:Zu,easing:hl,delay:hm,getWebAnimations:ue,getKeyframes:Ju,getFill:_r,getDirection:xs,getDelay:Mo,getIterations:Vi,getEasing:Do,getDuration:wr,afterAddRead:lm,afterAddWrite:Yu,afterClearStyles:Ct,afterStyles:vt,afterRemoveClass:Xu,afterAddClass:cl,beforeAddRead:Ku,beforeAddWrite:am,beforeClearStyles:ll,beforeStyles:cm,beforeRemoveClass:Qu,beforeAddClass:al,onFinish:Es,isRunning:Ao,progressStart:dm,progressStep:fm,progressEnd:xr}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let X3=class{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const i=this.m.get(e);return i!==void 0?i:n}getBoolean(e,n=!1){const i=this.m.get(e);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(e,n){const i=parseFloat(this.m.get(e));return isNaN(i)?n!==void 0?n:NaN:i}set(e,n){this.m.set(e,n)}};const Oi=new X3,J3=t=>e6(t),Z3=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),J3(t).includes(e)),e6=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=t6(t),e.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),e},t6=t=>{const e=Oi.get("platform");return Object.keys(lT).filter(n=>{const i=e==null?void 0:e[n];return typeof i=="function"?i(t):lT[n](t)})},n6=t=>Qp(t)&&!rR(t),K0=t=>!!(yo(t,/iPad/i)||yo(t,/Macintosh/i)&&Qp(t)),i6=t=>yo(t,/iPhone/i),r6=t=>yo(t,/iPhone|iPod/i)||K0(t),iR=t=>yo(t,/android|sink/i),s6=t=>iR(t)&&!yo(t,/mobile/i),o6=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return i>390&&i<520&&r>620&&r<800},a6=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return K0(t)||s6(t)||i>460&&i<820&&r>780&&r<1400},Qp=t=>h6(t,"(any-pointer:coarse)"),l6=t=>!Qp(t),rR=t=>sR(t)||oR(t),sR=t=>!!(t.cordova||t.phonegap||t.PhoneGap),oR=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative)},c6=t=>yo(t,/electron/i),u6=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},yo=(t,e)=>e.test(t.navigator.userAgent),h6=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},lT={ipad:K0,iphone:i6,ios:r6,android:iR,phablet:o6,tablet:a6,cordova:sR,capacitor:oR,electron:c6,pwa:u6,mobile:Qp,mobileweb:n6,desktop:l6,hybrid:rR};let d6;const Fa=t=>t&&E3(t)||d6;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const f6=(t,...e)=>console.warn("[Ionic Warning]: ".concat(t),...e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aR=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):lR(()=>e(t))},p6=t=>t.componentOnReady!==void 0,m6=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},lR=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),pQ=(t,e,n)=>Math.max(t,Math.min(e,n)),an=(t,e)=>{if(!t){const n="ASSERT: "+e;console.error(n);debugger;throw new Error(n)}},cR=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!(i in e)||t[i]!==e[i])return!1;return!0},g6="ionViewWillEnter",y6="ionViewDidEnter",uR="ionViewWillLeave",hR="ionViewDidLeave",gg="ionViewWillUnload",Nl=t=>{t.tabIndex=-1,t.focus()},Wh=t=>t.offsetParent!==null,v6=()=>({saveViewFocus:n=>{if(Oi.get("focusManagerPriority",!1)){const r=document.activeElement;r!==null&&(n!=null&&n.contains(r))&&r.setAttribute(cT,"true")}},setViewFocus:n=>{const i=Oi.get("focusManagerPriority",!1);if(Array.isArray(i)&&!n.contains(document.activeElement)){const r=n.querySelector("[".concat(cT,"]"));if(r&&Wh(r)){Nl(r);return}for(const s of i)switch(s){case"content":const o=n.querySelector('main, [role="main"]');if(o&&Wh(o)){Nl(o);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&Wh(a)){Nl(a);return}break;case"banner":const l=n.querySelector('header, [role="banner"]');if(l&&Wh(l)){Nl(l);return}break;default:f6("Unrecognized focus manager priority value ".concat(s));break}Nl(n)}}}),cT="ion-last-focus",_6=()=>Lu(()=>import("./ios.transition-4IL0gaDM.js"),[]),w6=()=>Lu(()=>import("./md.transition-NeDqAOYl.js"),[]),dR=v6(),fR=t=>new Promise((e,n)=>{z0(()=>{b6(t),E6(t).then(i=>{i.animation&&i.animation.destroy(),uT(t),e(i)},i=>{uT(t),n(i)})})}),b6=t=>{const e=t.enteringEl,n=t.leavingEl;dR.saveViewFocus(n),k6(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),mv(e,!1),e.style.setProperty("pointer-events","none"),n&&(mv(n,!1),n.style.setProperty("pointer-events","none"))},E6=async t=>{const e=await x6(t);return e&&e3.isBrowser?T6(e,t):S6(t)},uT=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),dR.setViewFocus(e)},x6=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await _6()).iosTransitionAnimation:(await w6()).mdTransitionAnimation,T6=async(t,e)=>{await pR(e,!0);const n=t(e.baseEl,e);mR(e.enteringEl,e.leavingEl);const i=await C6(n,e);return e.progressCallback&&e.progressCallback(void 0),i&&gR(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:n}},S6=async t=>{const e=t.enteringEl,n=t.leavingEl,i=Oi.get("focusManagerPriority",!1);return await pR(t,i),mR(e,n),gR(e,n),{hasCompleted:!0}},pR=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([pv(t.enteringEl),pv(t.leavingEl)]),await I6(t.viewIsReady,t.enteringEl)},I6=async(t,e)=>{t&&await t(e)},C6=(t,e)=>{const n=e.progressCallback,i=new Promise(r=>{t.onFinish(s=>r(s===1))});return n?(t.progressStart(!0),n(t)):t.play(),i},mR=(t,e)=>{Ki(e,uR),Ki(t,g6)},gR=(t,e)=>{Ki(t,y6),Ki(e,hR)},Ki=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},pv=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>lR(i));return}await Promise.all(Array.from(e.children).map(pv))}},mv=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},k6=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},mQ=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vf=(t,e,n,i,r)=>A6(t[1],e[1],n[1],i[1],r).map(s=>P6(t[0],e[0],n[0],i[0],s)),P6=(t,e,n,i,r)=>{const s=3*e*Math.pow(r-1,2),o=-3*n*r+3*n+i*r,a=t*Math.pow(r-1,3);return r*(s+r*o)-a},A6=(t,e,n,i,r)=>(t-=r,e-=r,n-=r,i-=r,O6(i-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(o=>o>=0&&o<=1)),R6=(t,e,n)=>{const i=e*e-4*t*n;return i<0?[]:[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]},O6=(t,e,n,i)=>{if(t===0)return R6(e,n,i);e/=t,n/=t,i/=t;const r=(3*n-e*e)/3,s=(2*e*e*e-9*e*n+27*i)/27;if(r===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-r),-Math.sqrt(-r)];const o=Math.pow(s/2,2)+Math.pow(r/3,3);if(o===0)return[Math.pow(s/2,1/2)-e/3];if(o>0)return[Math.pow(-(s/2)+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-e/3];const a=Math.sqrt(Math.pow(-(r/3),3)),l=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(r/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const D6=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},e):e;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yR=async(t,e,n,i,r,s)=>{var o;if(t)return t.attachViewToDom(e,n,r,i);if(typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(o=e.ownerDocument)===null||o===void 0?void 0:o.createElement(n):n;return i&&i.forEach(l=>a.classList.add(l)),r&&Object.assign(a,r),e.appendChild(a),await new Promise(l=>aR(a,l)),a},M6=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const L6=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",N6=L6,V6=nl(class extends tl{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(i=>{l3(()=>{const r=this.el.getBoundingClientRect(),s=r.width,o=r.height,a=Math.sqrt(s*s+o*o),l=Math.max(o,s),c=this.unbounded?l:a+$6,u=Math.floor(l*j6),d=c/u;let f=e-r.left,p=n-r.top;this.unbounded&&(f=s*.5,p=o*.5);const g=f-u*.5,y=p-u*.5,x=s*.5-f,_=o*.5-p;z0(()=>{const v=document.createElement("div");v.classList.add("ripple-effect");const S=v.style;S.top=y+"px",S.left=g+"px",S.width=S.height=u+"px",S.setProperty("--final-scale","".concat(d)),S.setProperty("--translate-end","".concat(x,"px, ").concat(_,"px")),(this.el.shadowRoot||this.el).appendChild(v),setTimeout(()=>{i(()=>{F6(v)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=Fa(this);return Zt(Fu,{key:"2302f087ab1c6755355736e4ca77309c5fdcf185",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return N6}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),F6=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},$6=10,j6=.5;function U6(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,V6);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Hh=typeof window<"u"?window:void 0;Hh&&(Hh.CSS&&Hh.CSS.supports&&Hh.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const B6=()=>{if(zt!==void 0)return zt.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const z6=()=>{let t;return{lock:async()=>{const n=t;let i;return t=new Promise(r=>i=r),n!==void 0&&await n,i}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var gv;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(gv||(gv={}));var yv;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(yv||(yv={}));const W6={getEngine(){const t=B6();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==gv.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vR=t=>{if(fg===void 0||t===yv.None||t===void 0)return null;const e=fg.querySelector("ion-app");return e!=null?e:fg.body},hT=t=>{const e=vR(t);return e===null?0:e.clientHeight},H6=async t=>{let e,n,i,r;const s=async()=>{const u=await W6.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{r===void 0&&(r=hT(d)),i=!0,o(i,d)},n=()=>{i=!1,o(i,d)},zt==null||zt.addEventListener("keyboardWillShow",e),zt==null||zt.addEventListener("keyboardWillHide",n)},o=(u,d)=>{t&&t(u,a(d))},a=u=>{if(r===0||r===hT(u))return;const d=vR(u);if(d!==null)return new Promise(f=>{const p=()=>{d.clientHeight===r&&(g.disconnect(),f())},g=new ResizeObserver(p);g.observe(d)})},l=()=>{zt==null||zt.removeEventListener("keyboardWillShow",e),zt==null||zt.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>i;return await s(),{init:s,destroy:l,isKeyboardVisible:c}},_R=1,wR=2,Ff=3;class vv{constructor(e,n){this.component=e,this.params=n,this.state=_R}async init(e){if(this.state=wR,!this.element){const n=this.component;this.element=await yR(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){an(this.state!==Ff,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Ff}}const dT=(t,e,n)=>!t||t.component!==e?!1:cR(t.params,n),fT=(t,e)=>t?t instanceof vv?t:new vv(t,e):null,q6=t=>t.map(e=>e instanceof vv?e:"component"in e?fT(e.component,e.componentProps===null?void 0:e.componentProps):fT(e,void 0)).filter(e=>e!==null),G6=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",K6=G6,Y6=nl(class extends tl{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ar(this,"ionNavWillLoad",7),this.ionNavWillChange=ar(this,"ionNavWillChange",3),this.ionNavDidChange=ar(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=Fa(this);this.swipeGesture=Oi.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Lu(()=>import("./swipe-back-BufRgAWO.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Ki(e.element,gg),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,i,r){return this.insert(-1,e,n,i,r)}insert(e,n,i,r,s){return this.insertPages(e,[{component:n,componentProps:i}],r,s)}insertPages(e,n,i,r){return this.queueTrns({insertStart:e,insertViews:n,opts:i},r)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,i){const r={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(r.removeView=e,r.removeStart=1):typeof e=="number"&&(r.removeStart=e+1),this.queueTrns(r,i)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,i,r){return this.queueTrns({removeStart:e,removeCount:n,opts:i},r)}setRoot(e,n,i,r){return this.setPages([{component:e,componentProps:n}],i,r)}setPages(e,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(e,n,i,r){const s=this.getActiveSync();if(dT(s,e,n))return Promise.resolve({changed:!1,element:s.element});let o;const a=new Promise(u=>o=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const f=new Promise(p=>d=p);return o({changed:!0,element:u,markVisible:async()=>{d(),await l}}),f}};if(i==="root")l=this.setRoot(e,n,c);else{const u=this.views.find(d=>dT(d,e,n));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:r})):i==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:r})):i==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:r})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,i=n.indexOf(e);return i>0?n[i-1]:void 0}async queueTrns(e,n){var i,r;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const s=new Promise((o,a)=>{e.resolve=o,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const o=document.querySelector("ion-router");if(o){const a=await o.canTransition();if(a===!1)return!1;if(typeof a=="string")return o.push(a,e.opts.direction||"back"),!1}}return((r=e.insertViews)===null||r===void 0?void 0:r.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),s}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const r=e.direction==="back"?"back":"forward";i.navChanged(r)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),i=this.getEnteringView(e,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===_R&&await i.init(this.el),this.postViewInit(i,n,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==n;r&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let s;r?s=await this.transition(i,n,e):s={hasCompleted:!0,requiresTransition:!1},this.success(s,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,i,r;const s=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(i=(r=e.opts).delegate)!==null&&i!==void 0||(r.delegate=this.delegate),e.removeView!==void 0){an(e.removeStart!==void 0,"removeView needs removeStart"),an(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=s-1),e.removeCount<0&&(e.removeCount=s-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===s),e.insertViews&&((e.insertStart<0||e.insertStart>s)&&(e.insertStart=s),e.enteringRequiresTransition=e.insertStart===s);const o=e.insertViews;if(!o)return;an(o.length>0,"length can not be zero");const a=q6(o);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===Ff)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const r=e.removeStart;if(r!==void 0){const s=this.views,o=r+e.removeCount;for(let a=s.length-1;a>=0;a--){const l=s[a];if((a<r||a>=o)&&l!==n)return l}}}postViewInit(e,n,i){var r,s,o;an(n||e,"Both leavingView and enteringView are null"),an(i.resolve,"resolve must be valid"),an(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){an(c>=0,"removeStart can not be negative"),an(u>=0,"removeCount can not be negative"),d=[];for(let p=c;p<c+u;p++){const g=this.views[p];g!==void 0&&g!==e&&g!==n&&d.push(g)}(r=a.direction)!==null&&r!==void 0||(a.direction="back")}const f=this.views.length+((s=l==null?void 0:l.length)!==null&&s!==void 0?s:0)-(u!=null?u:0);if(an(f>=0,"final balance can not be negative"),f===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let p=i.insertStart;for(const g of l)this.insertViewAt(g,p),p++;i.enteringRequiresTransition&&((o=a.direction)!==null&&o!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const p of d)Ki(p.element,uR),Ki(p.element,hR),Ki(p.element,gg);for(const p of d)this.destroyView(p)}}async transition(e,n,i){const r=i.opts,s=r.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,o=Fa(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:s,animated:this.animated&&Oi.getBoolean("animated",!0),enteringEl:a,leavingEl:l},r),{animationBuilder:r.animationBuilder||this.animation||Oi.get("navAnimation")}),{hasCompleted:u}=await fR(c);return this.transitionFinish(u,e,n,r)}transitionFinish(e,n,i,r){const s=e?n:i;return s&&this.unmountInactiveViews(s),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:i,direction:r.direction}}insertViewAt(e,n){const i=this.views,r=i.indexOf(e);r>-1?(an(e.nav===this,"view is not part of the nav"),i.splice(r,1),i.splice(n,0,e)):(an(!e.nav,"nav is used"),e.nav=this,i.splice(n,0,e))}removeView(e){an(e.state===wR||e.state===Ff,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(e);an(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,i=n.indexOf(e);for(let r=n.length-1;r>=0;r--){const s=n[r],o=s.element;o&&(r>i?(Ki(o,gg),this.destroyView(s)):r<i&&mv(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=Vf([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=Vf([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,r,i)}else this.gestureOrAnimationInProgress=!1}render(){return Zt("slot",{key:"e9d99a8a0b84f02f9964d8143cd5e647e43334f9"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return K6}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function Q6(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,Y6);break}})}const X6=Q6;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var pT;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(pT||(pT={}));const J6=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Z6=J6,eW=nl(class extends tl{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ar(this,"ionNavWillLoad",7),this.ionNavWillChange=ar(this,"ionNavWillChange",3),this.ionNavDidChange=ar(this,"ionNavDidChange",3),this.lockController=z6(),this.gestureOrAnimationInProgress=!1,this.mode=Fa(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Lu(()=>import("./swipe-back-BufRgAWO.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,r)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let s=n?-.001:.001;n?s+=Vf([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=Vf([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,s,r)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,i){const r=await this.lockController.lock();let s=!1;try{s=await this.transition(e,n,i)}catch(o){console.error(o)}return r(),s}async setRouteId(e,n,i,r){return{changed:await this.setRoot(e,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,i){if(this.activeComponent===e&&cR(n,this.activeParams))return!1;const r=this.activeEl,s=await yR(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=s,this.activeParams=n,await this.commit(s,r,i),await M6(this.delegate,r),!0}async transition(e,n,i={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:s}=this,o=this.animated&&Oi.getBoolean("animated",!0),a=i.animationBuilder||this.animation||Oi.get("navAnimation");return await fR(Object.assign(Object.assign({mode:s,animated:o,enteringEl:e,leavingEl:n,baseEl:r,deepWait:p6(r),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return Zt("slot",{key:"8279a453c66a766e6e383ff59842b4ae070c13a9"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return Z6}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function tW(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,eW);break}})}const nW=tW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iW=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",rW=iW,sW=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",oW=sW,aW=nl(class extends tl{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ar(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ar(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await H6(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:i}=this,r=Fa(this),s=i&&this.el.getAttribute("slot")!=="top";return Zt(Fu,{key:"3a8595dd83f89e8319471a7a7f9f64b2565b384c",role:"tablist","aria-hidden":s?"true":null,class:D6(e,{[r]:!0,"tab-bar-translucent":n,"tab-bar-hidden":s})},Zt("slot",{key:"8b65eceb922f6abfa15f41046261586fb94b981f"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:rW,md:oW}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function lW(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,aW);break}})}const cW=lW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uW=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',hW=uW,dW=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',fW=dW,pW=nl(class extends tl{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ar(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},m6(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Oi.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:i,href:r,rel:s,target:o,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=Fa(this),f={download:this.download,href:r,rel:s,target:o};return Zt(Fu,{key:"4b528ce31f67e10ad849e0c99bd034bba675c227",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Zt("a",Object.assign({key:"0da8784b1b243ffaaaf04dd7adb55d6881ed0c08"},f,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),Zt("span",{key:"2c628e8f1ebc129f84876c01530468cb97d8bf3a",class:"button-inner"},Zt("slot",{key:"8052a171d197a7de1a7eb12b091c35f73ae1ee21"})),d==="md"&&Zt("ion-ripple-effect",{key:"4186bdb5ed045ec16f495a14fa30ac864c576227",type:"unbounded"})))}get el(){return this}static get style(){return{ios:hW,md:fW}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function mW(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,pW);break;case"ion-ripple-effect":customElements.get(e)||U6();break}})}const gW=mW;let yg;const yW=()=>{if(typeof window>"u")return new Map;if(!yg){const t=window;t.Ionicons=t.Ionicons||{},yg=t.Ionicons.map=t.Ionicons.map||new Map}return yg},vW=t=>{let e=vg(t.src);return e||(e=bR(t.name,t.icon,t.mode,t.ios,t.md),e?_W(e,t):t.icon&&(e=vg(t.icon),e||(e=vg(t.icon[t.mode]),e))?e:null)},_W=(t,e)=>{const n=yW().get(t);if(n)return n;try{return c3("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},bR=(t,e,n,i,r)=>(n=(n&&qh(n))==="ios"?"ios":"md",i&&n==="ios"?t=qh(i):r&&n==="md"?t=qh(r):(!t&&e&&!ER(e)&&(t=e),$f(t)&&(t=qh(t))),!$f(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),vg=t=>$f(t)&&(t=t.trim(),ER(t))?t:null,ER=t=>t.length>0&&/(\/|\.)/.test(t),$f=t=>typeof t=="string",qh=t=>t.toLowerCase(),wW=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},bW=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",EW=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),xR(n))return e.innerHTML}return""},xR=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if($f(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!xR(t.childNodes[e]))return!1}return!0},xW=t=>t.startsWith("data:image/svg+xml"),TW=t=>t.indexOf(";utf8,")!==-1,zs=new Map,mT=new Map;let _g;const SW=(t,e)=>{let n=mT.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(xW(t)&&TW(t)){_g||(_g=new DOMParser);const r=_g.parseFromString(t,"text/html").querySelector("svg");return r&&zs.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=EW(r)),zs.set(t,r||"")});zs.set(t,"")}),mT.set(t,n);else return zs.set(t,""),Promise.resolve();return n},IW=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",CW=nl(class extends tl{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=kW(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=wW(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:n});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=vW(this);e&&(zs.has(e)?this.svgContent=zs.get(e):SW(e,this.sanitize).then(()=>this.svgContent=zs.get(e)),this.didLoadIcon=!0)}this.iconName=bR(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:r}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return Zt(Fu,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},PW(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&bW(r)})},i),this.svgContent?Zt("div",{class:"icon-inner",innerHTML:this.svgContent}):Zt("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return IW}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),kW=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",PW=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function AW(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,CW);break}})}const RW=AW,Y0=W.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),OW=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(i=>i.id===t.id);n.length!==0&&(n.forEach(i=>{i&&typeof i.destructor=="function"&&i.destructor()}),e=e.filter(i=>i.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},_s=W.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),DW=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),TR=t=>t.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),MW=(t,e,n={})=>{if(t instanceof Element){const i=LW(t.classList,e,n);i!==""&&(t.className=i),Object.keys(e).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const s=r.substring(2),o=s[0].toLowerCase()+s.substring(1);SR(o)||VW(t,o,e[r])}else t[r]=e[r],typeof e[r]==="string"&&t.setAttribute(TR(r),e[r])})}},LW=(t,e,n)=>{const i=e.className||e.class,r=n.className||n.class,s=wg(t),o=wg(i?i.split(" "):[]),a=wg(r?r.split(" "):[]),l=[];return s.forEach(c=>{o.has(c)?(l.push(c),o.delete(c)):a.has(c)||l.push(c)}),o.forEach(c=>l.push(c)),l.join(" ")},NW=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const SR=t=>{if(typeof document>"u")return!0;{const e="on"+NW(t);let n=e in document;if(!n){const i=document.createElement("div");i.setAttribute(e,"return;"),n=typeof i[e]=="function"}return n}},VW=(t,e,n)=>{const i=t.__events||(t.__events={}),r=i[e];r&&t.removeEventListener(e,r),t.addEventListener(e,i[e]=function(o){n&&n.call(this,o)})},wg=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},FW=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},IR=(...t)=>e=>{t.forEach(n=>{FW(n,e)})},$W=(t,e)=>{const n=(i,r)=>W.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,W.forwardRef(n)},$u=(t,e,n,i)=>{i!==void 0&&i();const r=DW(t),s=class extends W.Component{constructor(o){super(o),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){MW(this.componentEl,this.props,o)}render(){const o=this.props,{children:a,forwardedRef:l,style:c,className:u,ref:d}=o,f=Wn(o,["children","forwardedRef","style","className","ref"]);let p=Object.keys(f).reduce((y,x)=>{const _=f[x];if(x.indexOf("on")===0&&x[2]===x[2].toUpperCase()){const v=x.substring(2).toLowerCase();typeof document<"u"&&SR(v)&&(y[x]=_)}else{const v=typeof _;(v==="string"||v==="boolean"||v==="number")&&(y[TR(x)]=_)}return y},{});const g=Object.assign(Object.assign({},p),{ref:IR(l,this.setComponentElRef),style:c});return j.createElement(t,g,a)}static get displayName(){return r}};return $W(s,r)},ju=(t,e)=>{const n=(i,r)=>W.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,W.forwardRef(n)},ru=t=>Z3(window,t),jW=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null};W.createContext({addOverlay:()=>{},removeOverlay:()=>{}});const UW=$u("ion-tab-button",void 0,void 0,gW),BW=$u("ion-tab-bar",void 0,void 0,cW),_v=$u("ion-router-outlet",void 0,void 0,nW),zW=$u("ion-icon",void 0,void 0,RW),CR=W.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class kR extends W.PureComponent{constructor(e){super(e),this.ionPageElementRef=W.createRef(),this.stableMergedRefs=IR(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:n,children:i,routeInfo:r,forwardedRef:s}=e,o=Wn(e,["className","children","routeInfo","forwardedRef"]);return W.createElement(Y0.Consumer,null,a=>(this.ionLifeCycleContext=a,W.createElement("div",Object.assign({className:n?"".concat(n," ion-page"):"ion-page",ref:this.stableMergedRefs},o),i)))}static get contextType(){return CR}}class WW extends W.Component{constructor(e){super(e)}render(){const e=this.props,{className:n,children:i,forwardedRef:r}=e,s=Wn(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?W.createElement(kR,Object.assign({className:n?"".concat(n):"",routeInfo:this.context.routeInfo,forwardedRef:r},s),i):W.createElement("div",Object.assign({className:n?"ion-page ".concat(n):"ion-page",ref:r},s),i)}static get displayName(){return"IonPage"}static get contextType(){return _s}}ju(WW,"IonPage");const gT={main:0},HW=(t="main")=>{var e;const n=((e=gT[t])!==null&&e!==void 0?e:0)+1;return gT[t]=n,n.toString()},qW=(t,e)=>{const n=new WeakMap,i="react-delegate-".concat(HW());let r=0;return{attachViewToDom:async(a,l,c,u)=>{const d=document.createElement("div");u&&d.classList.add(...u),a.appendChild(d);const f=l(c),p="".concat(i,"-").concat(r++),g=wC.createPortal(f,d,p);return n.set(d,g),t(g),Promise.resolve(d)},removeViewFromDom:(a,l)=>{const c=n.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},GW=$u("ion-nav",void 0,void 0,X6),KW=t=>{var{children:e,forwardedRef:n}=t,i=Wn(t,["children","forwardedRef"]);const[r,s]=j.useState([]),o=c=>s(u=>[...u,c]),a=c=>s(u=>u.filter(d=>d!==c)),l=j.useMemo(()=>qW(o,a),[]);return W.createElement(GW,Object.assign({delegate:l,ref:n},i),r)};ju(KW,"IonNav");W.createContext({activeTab:void 0,selectTab:()=>!1});const YW=typeof HTMLElement<"u"?HTMLElement:class{};class QW extends W.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||aR(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:n,children:i,routeInfo:r}=e,s=Wn(e,["StackManager","children","routeInfo"]);return W.createElement(Y0.Consumer,null,o=>(this.ionLifeCycleContext=o,W.createElement(n,{routeInfo:r},W.createElement(_v,Object.assign({setRef:a=>this.ionRouterOutlet=a},s),i))))}static get contextType(){return CR}}class XW extends W.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),n=this.props,{children:i,forwardedRef:r}=n,s=Wn(n,["children","forwardedRef"]);return this.context.hasIonicRouter()?s.ionPage?W.createElement(QW,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},s),i):W.createElement(e,{routeInfo:this.context.routeInfo},W.createElement(_v,Object.assign({},s,{forwardedRef:r}),i)):W.createElement(_v,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return _s}}ju(XW,"IonRouterOutlet");const bg=class extends W.Component{constructor(t){super(t),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const t=this.props,e=Wn(t,["onClick"]);return W.createElement(UW,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}};class JW extends W.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const n={};W.Children.forEach(e.children,i=>{var r,s,o,a;i!=null&&typeof i=="object"&&i.props&&(i.type===bg||i.type.isTabButton)&&(n[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)?(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions:void 0,currentRouteOptions:i.props.href===((o=e.routeInfo)===null||o===void 0?void 0:o.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(r=>{const s=e[r].originalHref;return this.props.routeInfo.pathname.startsWith(s)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var i,r,s;const o=Object.assign({},n.tabs),l=Object.keys(n.tabs).find(u=>{const d=n.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});W.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===bg||u.type.isTabButton)){const d=o[u.props.tab];(!d||d.originalHref!==u.props.href)&&(o[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:c}=n;if(l&&c){const u=n.tabs[c].currentHref,d=n.tabs[c].currentRouteOptions;(l!==c||u!==((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)||d!==((r=e.routeInfo)===null||r===void 0?void 0:r.routeOptions))&&(o[l]={originalHref:o[l].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[l].originalRouteOptions,currentRouteOptions:(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions},e.routeInfo.routeAction==="pop"&&l!==c&&(o[c]={originalHref:o[c].originalHref,currentHref:o[c].originalHref,originalRouteOptions:o[c].originalRouteOptions,currentRouteOptions:o[c].currentRouteOptions}))}return l&&e.onSetCurrentTab(l,e.routeInfo),{activeTab:l,tabs:o}}onTabButtonClick(e,n){const i=this.state.tabs[e.detail.tab],r=i.originalHref,s=e.detail.href,{activeTab:o}=this.state;n&&n(e),o===e.detail.tab?r!==s&&this.context.resetTab(e.detail.tab,r,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,s,e.detail.routeOptions))}renderTabButton(e){return n=>{var i,r;if(n!=null&&n.props&&(n.type===bg||n.type.isTabButton)){const s=n.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.pathname:this.state.tabs[n.props.tab].currentHref,o=n.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return W.cloneElement(n,{href:s,routeOptions:o,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return W.createElement(BW,Object.assign({},this.props,{selectedTab:e}),W.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return _s}}const ZW=W.memo(t=>{var{forwardedRef:e}=t,n=Wn(t,["forwardedRef"]);const i=j.useContext(_s);return W.createElement(JW,Object.assign({ref:e},n,{routeInfo:n.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab}),n.children)});ju(ZW,"IonTabBar");class eH extends YW{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",eH));class tH extends W.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,n;const i=this.props,{icon:r,ios:s,md:o,mode:a}=i,l=Wn(i,["icon","ios","md","mode"]);let c;const u=jW(),d=a||(u==null?void 0:u.get("mode"));return s||o?d==="ios"?c=(e=s!=null?s:o)!==null&&e!==void 0?e:r:c=(n=o!=null?o:s)!==null&&n!==void 0?n:r:c=r,W.createElement(zW,Object.assign({ref:this.props.forwardedRef,icon:c},l),this.props.children)}static get contextType(){return _s}}ju(tH,"IonIcon");class PR extends W.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!PR?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):W.createElement(e,Object.assign({},this.props))}static get contextType(){return _s}}class AR extends W.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!AR?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):W.createElement(e,Object.assign({},this.props))}static get contextType(){return _s}}const nH=W.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class EQ extends W.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=Q3(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),yT(n,e),vT(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,i=this.props;yT(n,i,e),iH(n,i,e),vT(n,i,e)}render(){const{children:e}=this.props;return W.createElement(W.Fragment,null,W.Children.map(e,(n,i)=>W.cloneElement(n,{ref:r=>this.nodes.set(i,r)})))}}const yT=(t,e={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const r=e.from;r&&r!==n.from&&(Array.isArray(r)?r:[r]).forEach(c=>t.from(c.property,c.value));const s=e.to;s&&s!==n.to&&(Array.isArray(s)?s:[s]).forEach(c=>t.to(c.property,c.value));const o=e.fromTo;o&&o!==n.fromTo&&(Array.isArray(o)?o:[o]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},iH=(t,e={},n={})=>{var i,r,s,o,a;const{progressStart:l,progressStep:c,progressEnd:u}=e;l&&(((i=n.progressStart)===null||i===void 0?void 0:i.forceLinearEasing)!==(l==null?void 0:l.forceLinearEasing)||((r=n.progressStart)===null||r===void 0?void 0:r.step)!==(l==null?void 0:l.step))&&t.progressStart(l.forceLinearEasing,l.step),c&&((s=n.progressStep)===null||s===void 0?void 0:s.step)!==(c==null?void 0:c.step)&&t.progressStep(c.step),u&&(((o=n.progressEnd)===null||o===void 0?void 0:o.playTo)!==(u==null?void 0:u.playTo)||((a=n.progressEnd)===null||a===void 0?void 0:a.step)!==(u==null?void 0:u.step)||(n==null?void 0:n.dur)!==(u==null?void 0:u.dur))&&t.progressEnd(u.playTo,u.step,u.dur)},vT=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()};class xQ extends W.Component{constructor(e){super(e),this.ionLifeCycleContext=new OW,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return W.createElement(Y0.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class TQ extends W.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,i,r,s,o)=>{this.navigate(n,i,r,o,s)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",i="push",r,s,o){this.props.onNavigate(e,i,n,r,s,o)}getPageManager(){return kR}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return W.createElement(_s.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},W.createElement(nH.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}/*! Capacitor: https://capacitorjs.com/ - MIT License */const rH=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},i=(s,o)=>{n.platforms.set(s,o)},r=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=i,n.setPlatform=r,n},sH=t=>t.CapacitorPlatforms=rH(t),RR=sH(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});RR.addPlatform;RR.setPlatform;var $a;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})($a||($a={}));class Eg extends Error{constructor(e,n,i){super(e),this.message=e,this.code=n,this.data=i}}const oH=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},aH=t=>{var e,n,i,r,s;const o=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},l=a.Plugins=a.Plugins||{},c=t.CapacitorPlatforms,u=()=>o!==null?o.name:oH(t),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,f=()=>d()!=="web",p=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||f,g=E=>{const w=A.get(E);return!!(w!=null&&w.platforms.has(d())||_(E))},y=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||g,x=E=>{var w;return(w=a.PluginHeaders)===null||w===void 0?void 0:w.find(T=>T.name===E)},_=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||x,v=E=>t.console.error(E),S=(E,w,T)=>Promise.reject("".concat(T,' does not have an implementation of "').concat(w,'".')),A=new Map,D=(E,w={})=>{const T=A.get(E);if(T)return console.warn('Capacitor plugin "'.concat(E,'" already registered. Cannot register plugins twice.')),T.proxy;const C=d(),P=_(E);let O;const R=async()=>(!O&&C in w?O=typeof w[C]=="function"?O=await w[C]():O=w[C]:o!==null&&!O&&"web"in w&&(O=typeof w.web=="function"?O=await w.web():O=w.web),O),Y=($,X)=>{var q,re;if(P){const oe=P==null?void 0:P.methods.find(ue=>X===ue.name);if(oe)return oe.rtype==="promise"?ue=>a.nativePromise(E,X.toString(),ue):(ue,ve)=>a.nativeCallback(E,X.toString(),ue,ve);if($)return(q=$[X])===null||q===void 0?void 0:q.bind($)}else{if($)return(re=$[X])===null||re===void 0?void 0:re.bind($);throw new Eg('"'.concat(E,'" plugin is not implemented on ').concat(C),$a.Unimplemented)}},G=$=>{let X;const q=(...re)=>{const oe=R().then(ue=>{const ve=Y(ue,$);if(ve){const Ie=ve(...re);return X=Ie==null?void 0:Ie.remove,Ie}else throw new Eg('"'.concat(E,".").concat($,'()" is not implemented on ').concat(C),$a.Unimplemented)});return $==="addListener"&&(oe.remove=async()=>X()),oe};return q.toString=()=>"".concat($.toString(),"() { [capacitor code] }"),Object.defineProperty(q,"name",{value:$,writable:!1,configurable:!1}),q},Q=G("addListener"),ie=G("removeListener"),U=($,X)=>{const q=Q({eventName:$},X),re=async()=>{const ue=await q;ie({eventName:$,callbackId:ue},X)},oe=new Promise(ue=>q.then(()=>ue({remove:re})));return oe.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await re()},oe},B=new Proxy({},{get($,X){switch(X){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?U:Q;case"removeListener":return ie;default:return G(X)}}});return l[E]=B,A.set(E,{name:E,proxy:B,platforms:new Set([...Object.keys(w),...P?[C]:[]])}),B},M=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||D;return a.convertFileSrc||(a.convertFileSrc=E=>E),a.getPlatform=d,a.handleError=v,a.isNativePlatform=p,a.isPluginAvailable=y,a.pluginMethodNoop=S,a.registerPlugin=M,a.Exception=Eg,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},lH=t=>t.Capacitor=aH(t),jf=lH(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Q0=jf.registerPlugin;jf.Plugins;class OR{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn('Capacitor WebPlugin "'.concat(e.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=e)}addListener(e,n){let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),i&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,i){const r=this.listeners[e];if(!r){if(i){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}r.forEach(s=>s(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(e="not implemented"){return new jf.Exception(e,$a.Unimplemented)}unavailable(e="not available"){return new jf.Exception(e,$a.Unavailable)}async removeListener(e,n){const i=this.listeners[e];if(!i)return;const r=i.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(i=>{this.notifyListeners(e,i)}))}}const _T=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),wT=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class cH extends OR{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[r,s]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=wT(r).trim(),s=wT(s).trim(),n[r]=s}),n}async setCookie(e){try{const n=_T(e.key),i=_T(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(n,"=").concat(i||"").concat(r,"; path=").concat(s,"; ").concat(o,";")}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Q0("CapacitorCookies",{web:()=>new cH});const uH=async t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const r=i.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},i.onerror=r=>n(r),i.readAsDataURL(t)}),hH=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,s,o)=>(r[s]=t[e[o]],r),{})},dH=(t,e=!0)=>t?Object.entries(t).reduce((i,r)=>{const[s,o]=r;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+="".concat(s,"=").concat(a,"&")}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l="".concat(s,"=").concat(a)),"".concat(i,"&").concat(l)},"").substr(1):null,fH=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=hH(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))s.set(o,a);n.body=s.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{s.append(l,a)});else for(const a of Object.keys(t.data))s.append(a,t.data[a]);n.body=s;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class pH extends OR{async request(e){const n=fH(e,e.webFetchExtra),i=dH(e.params,e.shouldEncodeUrlParams),r=i?"".concat(e.url,"?").concat(i):e.url,s=await fetch(r,n),o=s.headers.get("content-type")||"";let{responseType:a="text"}=s.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await s.blob(),l=await uH(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const u={};return s.headers.forEach((d,f)=>{u[f]=d}),{data:l,headers:u,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Q0("CapacitorHttp",{web:()=>new pH});const su=Q0("GoogleAuth",{web:()=>Lu(()=>import("./web-GM296nWK.js"),[]).then(t=>new t.GoogleAuthWeb)}),Uu=()=>{const[t,e]=j.useState(!1),n=oi(),i=Ya(),r=()=>{e(!t)},s=async()=>{try{await Ga(n),ru("capacitor")&&await su.signOut(),console.log("Sesión cerrada exitosamente"),i.push("/")}catch(o){console.error("Error cerrando sesión",o)}};return I.jsxs("div",{className:"hamburguesa-menu",children:[I.jsx("div",{className:"hamburguesa-menu-icon",onClick:r,children:"☰"}),I.jsxs("ul",{className:"hamburguesa-menu-links ".concat(t?"show":""),children:[I.jsx("li",{children:I.jsx("a",{href:"/admin",children:"Inicio"})}),I.jsx("li",{children:I.jsx("a",{href:"/cars",children:"Gestión de Vehiculos"})}),I.jsx("li",{children:I.jsx("a",{href:"/admiusers",children:"Gestión de Usuarios"})}),I.jsx("li",{children:I.jsx("a",{href:"/admiparking",children:"Gestión de Estacionamiento"})}),I.jsx("li",{children:I.jsx("a",{href:"/analytic",children:"Analisis de datos"})}),I.jsx("li",{children:I.jsx("a",{onClick:s,children:"Salir"})})]})]})},DR=()=>{const[t,e]=j.useState(""),[n,i]=j.useState([]),[r,s]=j.useState([]),[o,a]=j.useState(1),l=6;j.useEffect(()=>{(async()=>{const x=await St(yt(et,"vehiculosPagados")),_=[];x.forEach(v=>{const S=v.data(),A=S.fechaPago?new Date(S.fechaPago.toDate()):new Date;_.push({...S,docId:v.id,fechaPago:A})}),i(_),s(_)})()},[]);const c=y=>{if(y){const x=y.toLowerCase(),_=r.filter(v=>v.placa.toLowerCase().includes(x)||v.idTransaccion&&v.idTransaccion.toLowerCase().includes(x));i(_),a(1)}else i(r)},u=y=>{e(y.target.value),c(y.target.value)},d=()=>{a(y=>Math.max(y-1,1))},f=()=>{const y=Math.ceil(n.length/l);a(x=>Math.min(x+1,y))},p=(o-1)*l,g=n.slice(p,p+l);return I.jsxs("div",{className:"busqueda-vehiculos-container",children:[" ",I.jsx(Uu,{}),I.jsx("h1",{className:"titulo-busqueda",children:"Busqueda de vehiculos"}),I.jsxs("div",{className:"search-container",children:[I.jsx("input",{type:"text",value:t,onChange:u,placeholder:"Buscar placa o ID de transacción...",className:"search-input"}),I.jsx("div",{className:"result-container",children:g.map((y,x)=>I.jsx("div",{className:"list-container",children:I.jsxs("div",{className:"list-item",children:[I.jsx("div",{className:"image-container",children:I.jsx("img",{src:y.imageUrl||"path/to/default/image.jpg",alt:"Vehículo con placa ".concat(y.placa)})}),I.jsxs("div",{className:"details",children:[I.jsxs("p",{children:[I.jsx("strong",{children:"Placa:"})," ",y.placa]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Fecha de Pago:"})," ",U0(y.fechaPago,"PPPpp",{locale:B0})]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Costo Pagado en COP:"})," $",y.costoPagadoCOP]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Costo Pagado en USD:"})," $",y.costoPagadoUSD]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Pagado:"})," ",y.pagado?"Sí":"No"]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Email del Pagador:"})," ",y.emailPagador]}),I.jsxs("p",{children:[I.jsx("strong",{children:"ID de Transacción:"})," ",y.idTransaccion]})]})]})},x))}),I.jsxs("div",{className:"pagination",children:[I.jsxs("button",{onClick:d,disabled:o===1,children:[I.jsx($A,{})," "]}),I.jsxs("span",{children:["Página ",o]}),I.jsxs("button",{onClick:f,disabled:g.length<l,children:[I.jsx(jA,{})," "]})]})]})]})},xg=YP(el),mH=oi(el),gH=AA(el),yH=3e6;async function vH(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>{const s=i.width,o=i.height,a=s/1.2,l=o/1.2,c=(s-a)/2,u=(o-l)/2,d=document.createElement("canvas");d.width=s,d.height=o;const f=d.getContext("2d");f.imageSmoothingEnabled=!0,f.imageSmoothingQuality="high",f.drawImage(i,c,u,a,l,0,0,s,o),e(d.toDataURL("image/jpeg"))},i.onerror=()=>n(new Error("Error cargando DataURL para zoom")),i.src=t})}const _H=({correoUsuario:t})=>{j.useState(!1);const[e,n]=j.useState("home");Ya();const[i,r]=j.useState(null),[s,o]=j.useState(""),[a,l]=j.useState(null),[c,u]=j.useState(null),[d,f]=j.useState(""),[p,g]=j.useState("A"),[y,x]=j.useState(null),[_,v]=j.useState([...Array.from({length:50},(P,O)=>({bloque:"A",numero:O+1,placa:null})),...Array.from({length:50},(P,O)=>({bloque:"D",numero:O+1,placa:null}))]);j.useEffect(()=>{(async()=>{const O=An(yt(xg,"textRecords"),st("estado","==","activo")),R=await St(O),Y=[...Array.from({length:50},(G,Q)=>({bloque:"A",numero:Q+1,placa:null})),...Array.from({length:50},(G,Q)=>({bloque:"D",numero:Q+1,placa:null}))];R.forEach(G=>{const Q=G.data();if(Q.bloque&&Q.lugar){const ie=Y.findIndex(U=>U.bloque===Q.bloque&&U.numero===Q.lugar);ie!==-1&&(Y[ie].placa=Q.placa)}}),v(Y)})()},[]);async function S(P){const O=PA(gH,"images/".concat(P.name));try{return await CA(O,P),await kA(O)}catch(R){return console.error("Error al subir la imagen:",R),null}}const A=P=>{var R;const O=(R=P.target.files)==null?void 0:R[0];if(O){r(O);const Y=new FileReader;Y.onloadend=()=>{l(Y.result)},Y.readAsDataURL(O)}else l(null)},D=async P=>{const O=yt(xg,"textRecords"),R=An(O,st("placa","==",P),st("estado","==","activo"));return!(await St(R)).empty},M=async(P,O)=>{if(t)try{if(await D(P)){f("Esta placa ya está registrada.");return}let Y=p==="A"?"A":"D",G=_.find(ie=>ie.bloque===Y&&!ie.placa);if(G||(Y=Y==="A"?"D":"A",G=_.find(ie=>ie.bloque===Y&&!ie.placa)),!G){f("¡No hay lugares disponibles!");return}const{numero:Q}=G;await Q4(yt(xg,"textRecords"),{placa:P,imageUrl:O,user:t,lugar:Q,bloque:Y,estado:"activo",timestamp:new Date}),v(ie=>ie.map(U=>U.bloque===Y&&U.numero===Q?{...U,placa:P}:U)),g(Y==="A"?"D":"A"),f("✅ Placa ".concat(P," en BLOQUE ").concat(Y," LUGAR ").concat(Q))}catch(R){console.error("Error:",R),f("❌ Error al registrar")}};async function E(P){var ie,U;const O="https://vision.googleapis.com/v1/images:annotate",R="AIzaSyDdCd5Qc7PMWa-aVaBopVDhlWuSqs1RW7g",Y={requests:[{image:{content:P},features:[{type:"TEXT_DETECTION"}]}]};return((U=(ie=(await(await fetch("".concat(O,"?key=").concat(R),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})).json()).responses[0])==null?void 0:ie.fullTextAnnotation)==null?void 0:U.text)||""}const w=async()=>{if(!i){alert("Carga una imagen primero.");return}const P=new FileReader;P.readAsDataURL(i),P.onloadend=async()=>{const O=P.result;O.split(",")[1];try{const R=await vH(O),Y=R.split(",")[1];x(R);const G=await E(Y),Q=T(G);if(Q){o(Q);const ie=await S(i);ie?await M(Q,ie):f("Error al subir imagen original.")}else f("No se encontró una placa válida.")}catch(R){console.error("Error procesando imagen:",R),f("Error al procesar la imagen.")}}},T=P=>{const O=/\b([A-Z]{3}[-\s]?[0-9]{3})\b/gi,R=P.match(O);return R?R[0].replace(/[-\s]/g,"").toUpperCase():null},C=j.useCallback(()=>{c&&clearTimeout(c);const P=setTimeout(()=>Ga(mH),yH);u(P)},[c]);return j.useEffect(()=>{const P=()=>{C()};return window.addEventListener("mousemove",P),window.addEventListener("keydown",P),window.addEventListener("scroll",P),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("keydown",P),window.removeEventListener("scroll",P),c&&clearTimeout(c)}},[C,c]),I.jsxs("div",{className:"home-container",children:[I.jsx(Uu,{}),I.jsxs("div",{className:"home-content",children:[e==="home"&&I.jsxs("div",{className:"home-upload-container",children:[I.jsx("div",{className:"home-header",children:I.jsxs("h2",{children:["Bienvenido ",t]})}),i&&I.jsx("img",{src:a,alt:"Vista previa de placa",className:"home-image-preview"}),d&&I.jsx("div",{className:"home-registration-message ".concat(d.includes("registrada")||d.includes("✅")?"success":"error"),children:d}),I.jsx("input",{type:"file",id:"fileInput",accept:"image/*",onChange:A,className:"home-file-input"}),I.jsx("label",{htmlFor:"fileInput",className:"home-file-label",children:i?"Cambiar Imagen":"Seleccionar Imagen"}),i&&I.jsx("button",{className:"home-upload-btn",onClick:w,children:"Procesar Placa"})]}),e==="admin"&&I.jsx("div",{className:"busqueda-placa-container",children:I.jsx(DR,{})})]})]})},wH="/assets/Ulib-DlELRvu3.png",bH="/assets/googlee-7l43CcKV.png",mi=()=>{const t=oi(el),e=et,[n,i]=j.useState(!1),[r,s]=j.useState(!1),[o,a]=j.useState(""),l=Ya(),[c,u]=j.useState(!1),[d,f]=j.useState(!1);j.useEffect(()=>{const D=()=>{typeof window.google<"u"?(window.google.accounts.id.initialize({client_id:"805548540766-q9hb7d6vhjs56dniqbh2llandfl4k5eb.apps.googleusercontent.com",callback:p}),u(!0)):(console.error("Google API no está disponible. Volviendo a intentar en 1 segundo."),setTimeout(D,1e3))};ru("capacitor")?(su.initialize({clientId:"805548540766-q9hb7d6vhjs56dniqbh2llandfl4k5eb.apps.googleusercontent.com",scopes:["profile","email"],grantOfflineAccess:!0}),u(!0)):D()},[]);const p=async D=>{try{const M=wi.credential(D.credential),w=(await By(t,M)).user;await y(w),f(!0)}catch(M){console.error("Error authenticating with Firebase",M)}},g=async()=>{if(c)try{if(ru("capacitor")){const D=await su.signIn(),M=wi.credential(D.authentication.idToken),E=await By(t,M);await y(E.user),f(!0)}else window.google.accounts.id.prompt()}catch(D){console.error("Error during sign-in",D)}},y=async D=>{const M=hs(e,"users",D.uid),E=await L0(M);if(!E.exists())await kf(M,{email:D.email,role:"cliente"}),l.push("/cliente");else{const w=E.data();w.role==="administrador"?l.push("/admin"):w.role==="cliente"?l.push("/cliente"):w.role==="empleado"?l.push("/empleado"):console.error("Role not recognized or not set.")}},x=D=>{switch(D){case"auth/email-already-in-use":return"El correo ya está registrado. Por favor, inicia sesión o usa otro correo.";case"auth/weak-password":return"La contraseña debe tener al menos 8 caracteres.";case"auth/invalid-email":return"El correo no tiene un formato válido.";case"auth/user-not-found":return"El correo no está registrado. Por favor, regístrate primero.";case"auth/wrong-password":return"La contraseña es incorrecta. Inténtalo de nuevo.";default:return"Ocurrió un error inesperado. Por favor, inténtalo de nuevo."}},_=async(D,M)=>{if(M.length<8){alert("La contraseña debe tener al menos 8 caracteres.");return}try{const w=(await AV(t,D,M)).user;await OV(w);const T=hs(e,"users",w.uid);await kf(T,{email:w.email,role:"cliente",emailVerified:!1}),alert("Se ha enviado un correo de verificación. Por favor, verifica tu correo antes de iniciar sesión."),i(!1)}catch(E){const w=E.code,T=x(w);alert(T)}},v=async(D,M)=>{try{const w=(await RV(t,D,M)).user;if(!w.emailVerified){alert("Por favor, verifica tu correo electrónico antes de iniciar sesión."),await Ga(t);return}await y(w)}catch(E){const w=E.code,T=x(w);alert(T)}},S=async()=>{try{await PV(t,o),alert("Se ha enviado un enlace de recuperación a tu correo electrónico."),s(!1)}catch(D){const M=D.code,E=x(M);alert(E)}},A=async D=>{D.preventDefault();const M=D.currentTarget.email.value,E=D.currentTarget.password.value;n?_(M,E):v(M,E)};return I.jsxs("div",{className:"container",children:[I.jsxs("div",{className:"card",children:[I.jsx("img",{src:wH,alt:"Logo",className:"estilo-profile"}),I.jsxs("form",{onSubmit:A,className:"form-container",children:[I.jsx("input",{type:"email",placeholder:"Ingresar Email",className:"cajatexto",name:"email",required:!0}),I.jsx("input",{type:"password",placeholder:"Ingresar contraseña",className:"cajatexto",name:"password",required:!0}),I.jsx("button",{type:"submit",className:"btnform",children:n?"Regístrate":"Inicia Sesión"})]}),I.jsxs("div",{className:"auth-options",children:[I.jsx("h4",{children:n?"Si ya tienes cuenta":"Si no tienes cuenta"}),I.jsx("button",{className:"btnform toggle-btn",onClick:()=>i(!n),children:n?"Inicia sesión":"Regístrate"}),I.jsxs("button",{onClick:g,className:"google-btn",children:[I.jsx("img",{src:bH,alt:"Google sign-in",className:"google-icon"}),"Iniciar con Google"]}),I.jsx("p",{className:"forgot-password",onClick:()=>s(!0),children:"¿Olvidaste tu contraseña?"})]})]}),r&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal",children:[I.jsxs("div",{className:"modal-header",children:[I.jsx("h3",{children:"Recuperar contraseña"}),I.jsx("button",{className:"close-button",onClick:()=>s(!1),children:"×"})]}),I.jsxs("div",{className:"modal-body",children:[I.jsx("p",{children:"Ingresa tu correo electrónico para recibir un enlace de recuperación."}),I.jsx("input",{type:"email",placeholder:"Ingresar Email",value:o,onChange:D=>a(D.target.value)})]}),I.jsxs("div",{className:"modal-footer",children:[I.jsx("button",{className:"btn-secondary",onClick:()=>s(!1),children:"Cancelar"}),I.jsx("button",{className:"btn-primary",onClick:S,children:"Enviar enlace"})]})]})})]})},X0=()=>{const[t,e]=j.useState(!1),[n,i]=j.useState(null),r=oi(),s=Ya(),o=()=>{e(!t)},a=async()=>{try{await Ga(r),ru("capacitor")&&await su.signOut(),console.log("Sesión cerrada exitosamente"),s.push("/")}catch(c){console.error("Error cerrando sesión",c)}},l=c=>{i(c),e(!1)};return I.jsxs("div",{className:"hamburguesa-menu",children:[I.jsx("div",{className:"hamburguesa-menu-icon",onClick:o,children:"☰"}),I.jsxs("ul",{className:"hamburguesa-menu-links ".concat(t?"show":""),children:[I.jsx("li",{children:I.jsx("a",{href:"/cliente",className:n==="Inicio"?"selected":"",onClick:()=>l("Inicio"),children:"Inicio"})}),I.jsx("li",{children:I.jsx("a",{href:"/perfil",className:n==="Perfil"?"selected":"",onClick:()=>l("Perfil"),children:"Perfil"})}),I.jsx("li",{children:I.jsx("a",{href:"/pagocliente",className:n==="Pagos"?"selected":"",onClick:()=>l("Pagos"),children:"Pagos"})}),I.jsx("li",{children:I.jsx("a",{onClick:()=>{l("Salir"),a()},className:n==="Salir"?"selected":"",children:"Salir"})})]})]})};function MR(t,e){return function(){return t.apply(e,arguments)}}const{toString:EH}=Object.prototype,{getPrototypeOf:J0}=Object,Xp=(t=>e=>{const n=EH.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ui=t=>(t=t.toLowerCase(),e=>Xp(e)===t),Jp=t=>e=>typeof e===t,{isArray:il}=Array,ou=Jp("undefined");function xH(t){return t!==null&&!ou(t)&&t.constructor!==null&&!ou(t.constructor)&&Un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LR=ui("ArrayBuffer");function TH(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LR(t.buffer),e}const SH=Jp("string"),Un=Jp("function"),NR=Jp("number"),Zp=t=>t!==null&&typeof t=="object",IH=t=>t===!0||t===!1,Rd=t=>{if(Xp(t)!=="object")return!1;const e=J0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CH=ui("Date"),kH=ui("File"),PH=ui("Blob"),AH=ui("FileList"),RH=t=>Zp(t)&&Un(t.pipe),OH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Un(t.append)&&((e=Xp(t))==="formdata"||e==="object"&&Un(t.toString)&&t.toString()==="[object FormData]"))},DH=ui("URLSearchParams"),[MH,LH,NH,VH]=["ReadableStream","Request","Response","Headers"].map(ui),FH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),il(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function VR(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const FR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$R=t=>!ou(t)&&t!==FR;function wv(){const{caseless:t}=$R(this)&&this||{},e={},n=(i,r)=>{const s=t&&VR(e,r)||r;Rd(e[s])&&Rd(i)?e[s]=wv(e[s],i):Rd(i)?e[s]=wv({},i):il(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Bu(arguments[i],n);return e}const $H=(t,e,n,{allOwnKeys:i}={})=>(Bu(e,(r,s)=>{n&&Un(r)?t[s]=MR(r,n):t[s]=r},{allOwnKeys:i}),t),jH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),UH=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},BH=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&J0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},WH=t=>{if(!t)return null;if(il(t))return t;let e=t.length;if(!NR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},HH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&J0(Uint8Array)),qH=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},GH=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},KH=ui("HTMLFormElement"),YH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),bT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),QH=ui("RegExp"),jR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Bu(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},XH=t=>{jR(t,(e,n)=>{if(Un(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Un(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JH=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return il(t)?i(t):i(String(t).split(e)),n},ZH=()=>{},e9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Tg="abcdefghijklmnopqrstuvwxyz",ET="0123456789",UR={DIGIT:ET,ALPHA:Tg,ALPHA_DIGIT:Tg+Tg.toUpperCase()+ET},t9=(t=16,e=UR.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function n9(t){return!!(t&&Un(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const i9=t=>{const e=new Array(10),n=(i,r)=>{if(Zp(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=il(i)?[]:{};return Bu(i,(o,a)=>{const l=n(o,r+1);!ou(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},r9=ui("AsyncFunction"),s9=t=>t&&(Zp(t)||Un(t))&&Un(t.then)&&Un(t.catch),F={isArray:il,isArrayBuffer:LR,isBuffer:xH,isFormData:OH,isArrayBufferView:TH,isString:SH,isNumber:NR,isBoolean:IH,isObject:Zp,isPlainObject:Rd,isReadableStream:MH,isRequest:LH,isResponse:NH,isHeaders:VH,isUndefined:ou,isDate:CH,isFile:kH,isBlob:PH,isRegExp:QH,isFunction:Un,isStream:RH,isURLSearchParams:DH,isTypedArray:HH,isFileList:AH,forEach:Bu,merge:wv,extend:$H,trim:FH,stripBOM:jH,inherits:UH,toFlatObject:BH,kindOf:Xp,kindOfTest:ui,endsWith:zH,toArray:WH,forEachEntry:qH,matchAll:GH,isHTMLForm:KH,hasOwnProperty:bT,hasOwnProp:bT,reduceDescriptors:jR,freezeMethods:XH,toObjectSet:JH,toCamelCase:YH,noop:ZH,toFiniteNumber:e9,findKey:VR,global:FR,isContextDefined:$R,ALPHABET:UR,generateString:t9,isSpecCompliantForm:n9,toJSONObject:i9,isAsyncFn:r9,isThenable:s9};function fe(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}F.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const BR=fe.prototype,zR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zR[t]={value:t}});Object.defineProperties(fe,zR);Object.defineProperty(BR,"isAxiosError",{value:!0});fe.from=(t,e,n,i,r,s)=>{const o=Object.create(BR);return F.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),fe.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const o9=null;function bv(t){return F.isPlainObject(t)||F.isArray(t)}function WR(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function xT(t,e,n){return t?t.concat(e).map(function(r,s){return r=WR(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function a9(t){return F.isArray(t)&&!t.some(bv)}const l9=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function em(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!F.isUndefined(x[y])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(r))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(F.isDate(g))return g.toISOString();if(!l&&F.isBlob(g))throw new fe("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(g)||F.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,x){let _=g;if(g&&!x&&typeof g=="object"){if(F.endsWith(y,"{}"))y=i?y:y.slice(0,-2),g=JSON.stringify(g);else if(F.isArray(g)&&a9(g)||(F.isFileList(g)||F.endsWith(y,"[]"))&&(_=F.toArray(g)))return y=WR(y),_.forEach(function(S,A){!(F.isUndefined(S)||S===null)&&e.append(o===!0?xT([y],A,s):o===null?y:y+"[]",c(S))}),!1}return bv(g)?!0:(e.append(xT(x,y,s),c(g)),!1)}const d=[],f=Object.assign(l9,{defaultVisitor:u,convertValue:c,isVisitable:bv});function p(g,y){if(!F.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),F.forEach(g,function(_,v){(!(F.isUndefined(_)||_===null)&&r.call(e,_,F.isString(v)?v.trim():v,y,f))===!0&&p(_,y?y.concat(v):[v])}),d.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return p(t),e}function TT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Z0(t,e){this._pairs=[],t&&em(t,this,e)}const HR=Z0.prototype;HR.append=function(e,n){this._pairs.push([e,n])};HR.toString=function(e){const n=e?function(i){return e.call(this,i,TT)}:TT;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function c9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qR(t,e,n){if(!e)return t;const i=n&&n.encode||c9,r=n&&n.serialize;let s;if(r?s=r(e,n):s=F.isURLSearchParams(e)?e.toString():new Z0(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class ST{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(i){i!==null&&e(i)})}}const GR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},u9=typeof URLSearchParams<"u"?URLSearchParams:Z0,h9=typeof FormData<"u"?FormData:null,d9=typeof Blob<"u"?Blob:null,f9={isBrowser:!0,classes:{URLSearchParams:u9,FormData:h9,Blob:d9},protocols:["http","https","file","blob","url","data"]},ew=typeof window<"u"&&typeof document<"u",p9=(t=>ew&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),m9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",g9=ew&&window.location.href||"http://localhost",y9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ew,hasStandardBrowserEnv:p9,hasStandardBrowserWebWorkerEnv:m9,origin:g9},Symbol.toStringTag,{value:"Module"})),ni={...y9,...f9};function v9(t,e){return em(t,new ni.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return ni.isNode&&F.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function _9(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function w9(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function KR(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&F.isArray(r)?r.length:o,l?(F.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!F.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&F.isArray(r[o])&&(r[o]=w9(r[o])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(i,r)=>{e(_9(i),r,n,0)}),n}return null}function b9(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const zu={transitional:GR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=F.isObject(e);if(s&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return r?JSON.stringify(KR(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return v9(e,this.formSerializer).toString();if((a=F.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return em(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),b9(e)):e}],transformResponse:[function(e){const n=this.transitional||zu.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?fe.from(a,fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ni.classes.FormData,Blob:ni.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{zu.headers[t]={}});const E9=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),x9=t=>{const e={};let n,i,r;return t&&t.split("\n").forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&E9[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},IT=Symbol("internals");function Vl(t){return t&&String(t).trim().toLowerCase()}function Od(t){return t===!1||t==null?t:F.isArray(t)?t.map(Od):String(t)}function T9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const S9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sg(t,e,n,i,r){if(F.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!F.isString(e)){if(F.isString(i))return e.indexOf(i)!==-1;if(F.isRegExp(i))return i.test(e)}}function I9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function C9(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class yn{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const u=Vl(l);if(!u)throw new Error("header name must be a non-empty string");const d=F.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=Od(a))}const o=(a,l)=>F.forEach(a,(c,u)=>s(c,u,l));if(F.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(F.isString(e)&&(e=e.trim())&&!S9(e))o(x9(e),n);else if(F.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=Vl(e),e){const i=F.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return T9(r);if(F.isFunction(n))return n.call(this,r,i);if(F.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Vl(e),e){const i=F.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Sg(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=Vl(o),o){const a=F.findKey(i,o);a&&(!n||Sg(i,i[a],a,n))&&(delete i[a],r=!0)}}return F.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Sg(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return F.forEach(this,(r,s)=>{const o=F.findKey(i,s);if(o){n[o]=Od(r),delete n[s];return}const a=e?I9(s):String(s).trim();a!==s&&delete n[s],n[a]=Od(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&F.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[IT]=this[IT]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Vl(o);i[a]||(C9(r,o),i[a]=!0)}return F.isArray(e)?e.forEach(s):s(e),this}}yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(yn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});F.freezeMethods(yn);function Ig(t,e){const n=this||zu,i=e||n,r=yn.from(i.headers);let s=i.data;return F.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function YR(t){return!!(t&&t.__CANCEL__)}function rl(t,e,n){fe.call(this,t==null?"canceled":t,fe.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(rl,fe,{__CANCEL__:!0});function QR(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function k9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function P9(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),n[r]=l,i[r]=c;let d=s,f=0;for(;d!==r;)f+=n[d++],d=d%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function A9(t,e){let n=0;const i=1e3/e;let r=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>i)return r&&(clearTimeout(r),r=null),n=a,t.apply(null,arguments);r||(r=setTimeout(()=>(r=null,n=Date.now(),t.apply(null,arguments)),i-(a-n)))}}const Uf=(t,e,n=3)=>{let i=0;const r=P9(50,250);return A9(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null};d[e?"download":"upload"]=!0,t(d)},n)},R9=ni.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(o){const a=F.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),O9=ni.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];F.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),F.isString(i)&&o.push("path="+i),F.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function D9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function M9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function XR(t,e){return t&&!D9(e)?M9(t,e):e}const CT=t=>t instanceof yn?{...t}:t;function vo(t,e){e=e||{};const n={};function i(c,u,d){return F.isPlainObject(c)&&F.isPlainObject(u)?F.merge.call({caseless:d},c,u):F.isPlainObject(u)?F.merge({},u):F.isArray(u)?u.slice():u}function r(c,u,d){if(F.isUndefined(u)){if(!F.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function s(c,u){if(!F.isUndefined(u))return i(void 0,u)}function o(c,u){if(F.isUndefined(u)){if(!F.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>r(CT(c),CT(u),!0)};return F.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||r,f=d(t[u],e[u],u);F.isUndefined(f)&&d!==a||(n[u]=f)}),n}const JR=t=>{const e=vo({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=yn.from(o),e.url=qR(XR(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(F.isFormData(n)){if(ni.hasStandardBrowserEnv||ni.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ni.hasStandardBrowserEnv&&(i&&F.isFunction(i)&&(i=i(e)),i||i!==!1&&R9(e.url))){const c=r&&s&&O9.read(s);c&&o.set(r,c)}return e},L9=typeof XMLHttpRequest<"u",N9=L9&&function(t){return new Promise(function(n,i){const r=JR(t);let s=r.data;const o=yn.from(r.headers).normalize();let{responseType:a}=r,l;function c(){r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let u=new XMLHttpRequest;u.open(r.method.toUpperCase(),r.url,!0),u.timeout=r.timeout;function d(){if(!u)return;const p=yn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),y={data:!a||a==="text"||a==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};QR(function(_){n(_),c()},function(_){i(_),c()},y),u=null}"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(i(new fe("Request aborted",fe.ECONNABORTED,r,u)),u=null)},u.onerror=function(){i(new fe("Network Error",fe.ERR_NETWORK,r,u)),u=null},u.ontimeout=function(){let g=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const y=r.transitional||GR;r.timeoutErrorMessage&&(g=r.timeoutErrorMessage),i(new fe(g,y.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,r,u)),u=null},s===void 0&&o.setContentType(null),"setRequestHeader"in u&&F.forEach(o.toJSON(),function(g,y){u.setRequestHeader(y,g)}),F.isUndefined(r.withCredentials)||(u.withCredentials=!!r.withCredentials),a&&a!=="json"&&(u.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&u.addEventListener("progress",Uf(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Uf(r.onUploadProgress)),(r.cancelToken||r.signal)&&(l=p=>{u&&(i(!p||p.type?new rl(null,t,u):p),u.abort(),u=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const f=k9(r.url);if(f&&ni.protocols.indexOf(f)===-1){i(new fe("Unsupported protocol "+f+":",fe.ERR_BAD_REQUEST,t));return}u.send(s||null)})},V9=(t,e)=>{let n=new AbortController,i;const r=function(l){if(!i){i=!0,o();const c=l instanceof Error?l:this.reason;n.abort(c instanceof fe?c:new rl(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{r(new fe("timeout ".concat(e," of ms exceeded"),fe.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",r):l.unsubscribe(r))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",r));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},F9=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},$9=async function*(t,e,n){for await(const i of t)yield*F9(ArrayBuffer.isView(i)?i:await n(String(i)),e)},kT=(t,e,n,i,r)=>{const s=$9(t,e,r);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:c}=await s.next();if(l){a.close(),i();return}let u=c.byteLength;n&&n(o+=u),a.enqueue(new Uint8Array(c))},cancel(a){return i(a),s.return()}},{highWaterMark:2})},PT=(t,e)=>{const n=t!=null;return i=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:i}))},tm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ZR=tm&&typeof ReadableStream=="function",Ev=tm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),j9=ZR&&(()=>{let t=!1;const e=new Request(ni.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),AT=64*1024,xv=ZR&&!!(()=>{try{return F.isReadableStream(new Response("").body)}catch(t){}})(),Bf={stream:xv&&(t=>t.body)};tm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bf[e]&&(Bf[e]=F.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new fe("Response type '".concat(e,"' is not supported"),fe.ERR_NOT_SUPPORT,i)})})})(new Response);const U9=async t=>{if(t==null)return 0;if(F.isBlob(t))return t.size;if(F.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(F.isArrayBufferView(t))return t.byteLength;if(F.isURLSearchParams(t)&&(t=t+""),F.isString(t))return(await Ev(t)).byteLength},B9=async(t,e)=>{const n=F.toFiniteNumber(t.getContentLength());return n==null?U9(e):n},z9=tm&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=JR(t);c=c?(c+"").toLowerCase():"text";let[p,g]=r||s||o?V9([r,s],o):[],y,x;const _=()=>{!y&&setTimeout(()=>{p&&p.unsubscribe()}),y=!0};let v;try{if(l&&j9&&n!=="get"&&n!=="head"&&(v=await B9(u,i))!==0){let M=new Request(e,{method:"POST",body:i,duplex:"half"}),E;F.isFormData(i)&&(E=M.headers.get("content-type"))&&u.setContentType(E),M.body&&(i=kT(M.body,AT,PT(v,Uf(l)),null,Ev))}F.isString(d)||(d=d?"cors":"omit"),x=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",withCredentials:d});let S=await fetch(x);const A=xv&&(c==="stream"||c==="response");if(xv&&(a||A)){const M={};["status","statusText","headers"].forEach(w=>{M[w]=S[w]});const E=F.toFiniteNumber(S.headers.get("content-length"));S=new Response(kT(S.body,AT,a&&PT(E,Uf(a,!0)),A&&_,Ev),M)}c=c||"text";let D=await Bf[F.findKey(Bf,c)||"text"](S,t);return!A&&_(),g&&g(),await new Promise((M,E)=>{QR(M,E,{data:D,headers:yn.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:x})})}catch(S){throw _(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,t,x),{cause:S.cause||S}):fe.from(S,S&&S.code,t,x)}}),Tv={http:o9,xhr:N9,fetch:z9};F.forEach(Tv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}});const RT=t=>"- ".concat(t),W9=t=>F.isFunction(t)||t===null||t===!1,eO={getAdapter:t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!W9(n)&&(i=Tv[(o=String(n)).toLowerCase()],i===void 0))throw new fe("Unknown adapter '".concat(o,"'"));if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>"adapter ".concat(a," ")+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?"since :\n"+s.map(RT).join("\n"):" "+RT(s[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Tv};function Cg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rl(null,t)}function OT(t){return Cg(t),t.headers=yn.from(t.headers),t.data=Ig.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),eO.getAdapter(t.adapter||zu.adapter)(t).then(function(i){return Cg(t),i.data=Ig.call(t,t.transformResponse,i),i.headers=yn.from(i.headers),i},function(i){return YR(i)||(Cg(t),i&&i.response&&(i.response.data=Ig.call(t,t.transformResponse,i.response),i.response.headers=yn.from(i.response.headers))),Promise.reject(i)})}const tO="1.7.2",tw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{tw[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const DT={};tw.transitional=function(e,n,i){function r(s,o){return"[Axios v"+tO+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new fe(r(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!DT[o]&&(DT[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function H9(t,e,n){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new fe("option "+s+" must be "+l,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+s,fe.ERR_BAD_OPTION)}}const Sv={assertOptions:H9,validators:tw},Pr=Sv.validators;class Qs{constructor(e){this.defaults=e,this.interceptors={request:new ST,response:new ST}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+="\n"+s):i.stack=s}catch(o){}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vo(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&Sv.assertOptions(i,{silentJSONParsing:Pr.transitional(Pr.boolean),forcedJSONParsing:Pr.transitional(Pr.boolean),clarifyTimeoutError:Pr.transitional(Pr.boolean)},!1),r!=null&&(F.isFunction(r)?n.paramsSerializer={serialize:r}:Sv.assertOptions(r,{encode:Pr.function,serialize:Pr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&F.merge(s.common,s[n.method]);s&&F.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=yn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,f;if(!l){const g=[OT.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let p=n;for(d=0;d<f;){const g=a[d++],y=a[d++];try{p=g(p)}catch(x){y.call(this,x);break}}try{u=OT.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=vo(this.defaults,e);const n=XR(e.baseURL,e.url);return qR(n,e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(e){Qs.prototype[e]=function(n,i){return this.request(vo(i||{},{method:e,url:n,data:(i||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(vo(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Qs.prototype[e]=n(),Qs.prototype[e+"Form"]=n(!0)});class nw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new rl(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new nw(function(r){e=r}),cancel:e}}}function q9(t){return function(n){return t.apply(null,n)}}function G9(t){return F.isObject(t)&&t.isAxiosError===!0}const Iv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Iv).forEach(([t,e])=>{Iv[e]=t});function nO(t){const e=new Qs(t),n=MR(Qs.prototype.request,e);return F.extend(n,Qs.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return nO(vo(t,r))},n}const dt=nO(zu);dt.Axios=Qs;dt.CanceledError=rl;dt.CancelToken=nw;dt.isCancel=YR;dt.VERSION=tO;dt.toFormData=em;dt.AxiosError=fe;dt.Cancel=dt.CanceledError;dt.all=function(e){return Promise.all(e)};dt.spread=q9;dt.isAxiosError=G9;dt.mergeConfig=vo;dt.AxiosHeaders=yn;dt.formToJSON=t=>KR(F.isHTMLForm(t)?new FormData(t):t);dt.getAdapter=eO.getAdapter;dt.HttpStatusCode=Iv;dt.default=dt;const K9=90,Y9=10900,Xs=t=>{const n=Math.floor((new Date().getTime()-t.getTime())/6e4);return n<=120?n*K9:Y9};/*!
 * react-paypal-js v8.3.0 (2024-04-29T16:01:50.661Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(cn||(cn={}));var is;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(is||(is={}));var MT;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(MT||(MT={}));var lt=function(){return lt=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lt.apply(this,arguments)};function iO(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function LT(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var au="data-react-paypal-script-id",Ws={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},Q9="Failed to load the PayPal JS SDK script.",rO="paypal",X9="usePayPalScriptReducer must be used within a PayPalScriptProvider";function J9(t){return t===void 0&&(t=rO),window[t]}function Z9(t){for(var e="",n=0;n<t.length;n++){var i=t[n].charCodeAt(0)*n;t[n+1]&&(i+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(i)%26)}return e}function eq(t){var e=t.reactComponentName,n=t.sdkComponentKey,i=t.sdkRequestedComponents,r=i===void 0?"":i,s=t.sdkDataNamespace,o=s===void 0?rO:s,a=n.charAt(0).toUpperCase().concat(n.substring(1)),l="Unable to render <".concat(e," /> because window.").concat(o,".").concat(a," is undefined."),c=typeof r=="string"?r:r.join(",");if(!c.includes(n)){var u=[c,n].filter(Boolean).join();l+="\nTo fix the issue, add '".concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(u,"'}}>`.")}return l}function sO(t){var e=t,n=au;e[n];var i=iO(e,[n+""]);return"react-paypal-js-".concat(Z9(JSON.stringify(i)))}function tq(t){var e=self.document.querySelector("script[".concat(au,'="').concat(t,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function nq(t,e){var n,i;switch(e.type){case is.LOADING_STATUS:return typeof e.value=="object"?lt(lt({},t),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):lt(lt({},t),{loadingStatus:e.value});case is.RESET_OPTIONS:return tq(t.options[au]),lt(lt({},t),{loadingStatus:cn.PENDING,options:lt(lt((n={},n[Ws.DATA_SDK_INTEGRATION_SOURCE]=Ws.DATA_LIBRARY_VALUE,n),e.value),(i={},i[au]="".concat(sO(e.value)),i))});case is.SET_BRAINTREE_INSTANCE:return lt(lt({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var oO=j.createContext(null);function iq(t){if(typeof(t==null?void 0:t.dispatch)=="function"&&t.dispatch.length!==0)return t;throw new Error(X9)}function rq(){var t=iq(j.useContext(oO)),e=lt(lt({},t),{isInitial:t.loadingStatus===cn.INITIAL,isPending:t.loadingStatus===cn.PENDING,isResolved:t.loadingStatus===cn.RESOLVED,isRejected:t.loadingStatus===cn.REJECTED});return[e,t.dispatch]}j.createContext({});var iw=function(t){var e=t.className,n=e===void 0?"":e,i=t.disabled,r=i===void 0?!1:i,s=t.children,o=t.forceReRender,a=o===void 0?[]:o,l=iO(t,["className","disabled","children","forceReRender"]),c=r?{opacity:.38}:{},u="".concat(n," ").concat(r?"paypal-buttons-disabled":"").trim(),d=j.useRef(null),f=j.useRef(null),p=rq()[0],g=p.isResolved,y=p.options,x=j.useState(null),_=x[0],v=x[1],S=j.useState(!0),A=S[0],D=S[1],M=j.useState(null),E=M[1];function w(){f.current!==null&&f.current.close().catch(function(){})}return j.useEffect(function(){if(g===!1)return w;var T=J9(y.dataNamespace);if(T===void 0||T.Buttons===void 0)return E(function(){throw new Error(eq({reactComponentName:iw.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:y.components,sdkDataNamespace:y[Ws.DATA_NAMESPACE]}))}),w;var C=function(P,O){v(O),typeof l.onInit=="function"&&l.onInit(P,O)};try{f.current=T.Buttons(lt(lt({},l),{onInit:C}))}catch(P){return E(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(P))})}return f.current.isEligible()===!1?(D(!1),w):(d.current&&f.current.render(d.current).catch(function(P){d.current===null||d.current.children.length===0||E(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(P))})}),w)},LT(LT([g],a,!0),[l.fundingSource],!1)),j.useEffect(function(){_!==null&&(r===!0?_.disable().catch(function(){}):_.enable().catch(function(){}))},[r,_]),W.createElement(W.Fragment,null,A?W.createElement("div",{ref:d,style:c,className:u}):s)};iw.displayName="PayPalButtons";function sq(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var i=aO(t,e),r=n.cloneNode();if(delete r.dataset.uidAuto,Object.keys(r.dataset).length!==Object.keys(i.dataset).length)return null;var s=!0;return Object.keys(r.dataset).forEach(function(o){r.dataset[o]!==i.dataset[o]&&(s=!1)}),s?n:null}function oq(t){var e=t.url,n=t.attributes,i=t.onSuccess,r=t.onError,s=aO(e,n);s.onerror=r,s.onload=i,document.head.insertBefore(s,document.head.firstElementChild)}function aq(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseUrl&&(e=t.sdkBaseUrl,delete t.sdkBaseUrl);var n=t,i=Object.keys(n).filter(function(o){return typeof n[o]<"u"&&n[o]!==null&&n[o]!==""}).reduce(function(o,a){var l=n[a].toString();return a=lq(a),a.substring(0,4)==="data"||a==="crossorigin"?o.attributes[a]=l:o.queryParams[a]=l,o},{queryParams:{},attributes:{}}),r=i.queryParams,s=i.attributes;return r["merchant-id"]&&r["merchant-id"].indexOf(",")!==-1&&(s["data-merchant-id"]=r["merchant-id"],r["merchant-id"]="*"),{url:"".concat(e,"?").concat(cq(r)),attributes:s}}function lq(t){var e=function(n,i){return(i?"-":"")+n.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function cq(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function aO(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(i){n.setAttribute(i,e[i]),i==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function uq(t,e){if(e===void 0&&(e=Promise),lO(t,e),typeof document>"u")return e.resolve(null);var n=aq(t),i=n.url,r=n.attributes,s=r["data-namespace"]||"paypal",o=NT(s);return r["data-js-sdk-library"]||(r["data-js-sdk-library"]="paypal-js"),sq(i,r)&&o?e.resolve(o):hq({url:i,attributes:r},e).then(function(){var a=NT(s);if(a)return a;throw new Error("The window.".concat(s," global variable is not available."))})}function hq(t,e){e===void 0&&(e=Promise),lO(t,e);var n=t.url,i=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof i<"u"&&typeof i!="object")throw new Error("Expected attributes to be an object.");return new e(function(r,s){if(typeof document>"u")return r();oq({url:n,attributes:i,onSuccess:function(){return r()},onError:function(){var o=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return s(o)}})})}function NT(t){return window[t]}function lO(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var dq=function(t){var e,n=t.options,i=n===void 0?{clientId:"test"}:n,r=t.children,s=t.deferLoading,o=s===void 0?!1:s,a=j.useReducer(nq,{options:lt(lt({},i),(e={},e[Ws.DATA_JS_SDK_LIBRARY]=Ws.DATA_LIBRARY_VALUE,e[Ws.DATA_SDK_INTEGRATION_SOURCE]=Ws.DATA_LIBRARY_VALUE,e[au]="".concat(sO(i)),e)),loadingStatus:o?cn.INITIAL:cn.PENDING}),l=a[0],c=a[1];return j.useEffect(function(){if(o===!1&&l.loadingStatus===cn.INITIAL)return c({type:is.LOADING_STATUS,value:cn.PENDING});if(l.loadingStatus===cn.PENDING){var u=!0;return uq(l.options).then(function(){u&&c({type:is.LOADING_STATUS,value:cn.RESOLVED})}).catch(function(d){console.error("".concat(Q9," ").concat(d)),u&&c({type:is.LOADING_STATUS,value:{state:cn.REJECTED,message:String(d)}})}),function(){u=!1}}},[l.options,o,l.loadingStatus]),W.createElement(oO.Provider,{value:lt(lt({},l),{dispatch:c})},r)};function VT(){}j.createContext({cardFieldsForm:null,fields:{},registerField:VT,unregisterField:VT});const fq=({activeSpot:t})=>{const e=(n,i)=>Array.from({length:i},(r,s)=>({bloque:n,numero:s+1}));return I.jsx("div",{className:"parking-map-wrapper",children:I.jsxs("div",{className:"parking-map-container",children:[I.jsxs("div",{className:"parking-block",children:[I.jsx("h3",{className:"block-title",children:"Bloque A"}),I.jsx("div",{className:"spots-grid",children:e("A",50).map(n=>I.jsx("div",{className:"parking-spot ".concat((t==null?void 0:t.bloque)==="A"&&(t==null?void 0:t.numero)===n.numero?"active-spot":""),children:I.jsxs("span",{className:"spot-number",children:["A",n.numero]})},"A".concat(n.numero)))})]}),I.jsxs("div",{className:"parking-block",children:[I.jsx("h3",{className:"block-title",children:"Bloque D"}),I.jsx("div",{className:"spots-grid",children:e("D",50).map(n=>I.jsx("div",{className:"parking-spot ".concat((t==null?void 0:t.bloque)==="D"&&(t==null?void 0:t.numero)===n.numero?"active-spot":""),children:I.jsxs("span",{className:"spot-number",children:["D",n.numero]})},"D".concat(n.numero)))})]})]})})},cO=async(t,e,n,i)=>{const s=oi().currentUser;if(!s){console.error("No hay usuario autenticado");return}const o=hs(et,"textRecords",t),a=hs(et,"vehiculosPagados",t);try{const l=await L0(o);l.exists()&&(await kf(a,{...l.data(),pagado:!0,fechaPago:new Date,costoPagadoCOP:e,costoPagadoUSD:n,pagadoPor:s.uid,emailPagador:s.email,idTransaccion:i}),await cA(o))}catch(l){console.error("Error al mover documento:",l)}},pq=({todosRegistros:t})=>{const e=z$();return j.useEffect(()=>{const n=new URLSearchParams(e.search),i=n.get("status"),r=n.get("external_reference"),s=n.get("payment_id");if(i==="approved"&&r&&r!=="null"){const o=t.find(a=>a.docId===r);if(o){const a=Xs(o.timestamp),l=parseFloat(n.get("amountInUSD")||"0");cO(r,a,l,s)}}},[e,t]),null},mq=()=>{const[t,e]=j.useState(""),[n,i]=j.useState([]),[r,s]=j.useState([]),[o,a]=j.useState(null),[l,c]=j.useState(!1),[u,d]=j.useState(""),[f,p]=j.useState(null),[g,y]=j.useState(1),x=3;j.useEffect(()=>{(async()=>{const P=(await St(yt(et,"textRecords"))).docs.map(O=>{var Y;const R=O.data();return{...R,docId:O.id,timestamp:((Y=R.timestamp)==null?void 0:Y.toDate())||new Date,lugar:R.lugar||0,bloque:R.bloque||"A"}});s(P),i(P.slice(0,10))})()},[]);const _=T=>{const C=T.target.value.toUpperCase();e(C);const P=C===""?r:r.filter(O=>O.placa.includes(C));i(P.slice(0,10))},v=(g-1)*x,S=n.slice(v,v+x),A=()=>y(T=>Math.max(T-1,1)),D=()=>y(T=>Math.min(T+1,Math.ceil(n.length/x))),M=async T=>{try{if(!oi().currentUser)return;const O=await dt.post("https://us-central1-estacionamientou-e505d.cloudfunctions.net/api/create_payment",{amountCOP:Xs(T.timestamp)});p(O.data.id),d(O.data.amountInUSD)}catch(C){console.error("Error en pago:",C)}},E=async T=>{a(T),await M(T)},w=T=>{const C=Math.floor((Date.now()-T.getTime())/6e4);return"".concat(C," minutos")};return I.jsxs("div",{className:"containercliente",children:[I.jsx("h1",{children:"Buscar por Placa"}),I.jsx("input",{type:"text",value:t,onChange:_,placeholder:"Ingrese la placa",className:"search-input"}),I.jsx("div",{className:"list-container",children:S.map(T=>I.jsxs("div",{className:"list-item ".concat((o==null?void 0:o.docId)===T.docId?"selected":""),onClick:()=>E(T),children:[T.imageUrl&&I.jsx("div",{className:"image-wrapper",children:I.jsx("img",{src:T.imageUrl,alt:"Vehículo",className:"vehicle-image"})}),I.jsxs("div",{className:"vehicle-info",children:[I.jsxs("div",{className:"info-row",children:[I.jsx("span",{className:"label",children:"Placa:"})," ",I.jsx("span",{className:"value",children:T.placa})]}),I.jsxs("div",{className:"info-row",children:[I.jsx("span",{className:"label",children:"Lugar:"})," ",I.jsxs("span",{className:"value",children:[T.bloque,T.lugar]})]}),I.jsxs("div",{className:"info-row",children:[I.jsx("span",{className:"label",children:"Entrada:"})," ",I.jsx("span",{className:"value",children:U0(T.timestamp,"dd/MM/yyyy HH:mm",{locale:B0})})]}),I.jsxs("div",{className:"info-row",children:[I.jsx("span",{className:"label",children:"Tiempo:"})," ",I.jsx("span",{className:"value",children:w(T.timestamp)})]}),I.jsxs("div",{className:"info-row",children:[I.jsx("span",{className:"label",children:"Costo:"})," ",I.jsxs("span",{className:"value",children:["$",Xs(T.timestamp)]})]})]})]},T.docId))}),I.jsxs("div",{className:"pagination-container",children:[I.jsx("button",{className:"pagination-button",onClick:A,disabled:g===1,children:I.jsx($A,{})}),I.jsxs("span",{children:["Página ",g]}),I.jsx("button",{className:"pagination-button",onClick:D,disabled:S.length<x,children:I.jsx(jA,{})})]}),o&&I.jsx("button",{className:"ubicacion-button",onClick:()=>c(!0),children:"Ubicar mi vehículo"}),l&&o&&I.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:I.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[I.jsx(fq,{activeSpot:{bloque:o.bloque||"A",numero:o.lugar||0}}),I.jsx("button",{className:"cerrar-modal-button",onClick:()=>c(!1),children:"Cerrar"})]})}),o&&f&&I.jsx("div",{className:"paypal-button-wrapper",children:I.jsx(dq,{options:{clientId:"AcGs_32-5U0VRjwqT1lVdwfyDRYtuP5satCz_BQOfzZnvohImbNYxCVitT2_2I7Yr_eBc60EGGZAB2um",locale:"es_ES"},children:I.jsx(iw,{createOrder:(T,C)=>C.order.create({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"USD",value:u}}]}),onApprove:async(T,C)=>{const P=await C.order.capture();await cO(o.docId,Xs(o.timestamp),parseFloat(u||"0"),P.id||null),alert("¡Pago exitoso!"),setTimeout(()=>window.location.reload(),3e3)},onError:T=>{console.error(T),alert("Error en el pago")}})})}),I.jsx(pq,{todosRegistros:r})]})},gq="_clientePanel_1qrbz_1",yq="_perfilFoto_1qrbz_25",vq="_correo_1qrbz_47",_q="_button_1qrbz_63",wq="_containercliente_1qrbz_133",kg={clientePanel:gq,perfilFoto:yq,correo:vq,button:_q,containercliente:wq},bq=({correoUsuario:t})=>{j.useState(!1);const[e,n]=j.useState(""),i=oi(),r=Ya(),s=62e4,o=j.useRef(null),a=j.useCallback(async()=>{o.current&&clearTimeout(o.current);try{await Ga(i),console.log("Sesión cerrada exitosamente"),r.push("/")}catch(u){console.error("Error cerrando sesión",u)}},[i,r]),l=j.useCallback(async()=>{try{const u=An(yt(et,"users"),st("email","==",t)),d=await St(u);if(!d.empty){const p=d.docs[0].data();p.fotoURL&&n(p.fotoURL)}}catch(u){console.error("Error al obtener datos del usuario:",u)}},[t]),c=j.useCallback(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(a,s)},[a]);return j.useEffect(()=>{const u=()=>{c()};return window.addEventListener("mousemove",u),window.addEventListener("keydown",u),window.addEventListener("scroll",u),c(),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("keydown",u),window.removeEventListener("scroll",u),o.current&&clearTimeout(o.current)}},[c]),j.useEffect(()=>{l()},[l]),I.jsxs("div",{className:kg.clientePanel,children:[I.jsx(X0,{}),e&&I.jsx("img",{src:e,alt:"Foto de perfil",className:kg.perfilFoto}),I.jsxs("h1",{className:kg.correo,children:["¡Hola, ",t,"! Nos alegra verte."]}),I.jsx(mq,{})]})},Eq=({correoUsuario:t})=>{const[e,n]=j.useState(""),[i,r]=j.useState(""),[s,o]=j.useState(null),[a,l]=j.useState(""),[c,u]=j.useState(null),d=async()=>{try{const x=An(yt(et,"users"),st("email","==",t)),_=await St(x);if(!_.empty){const S=_.docs[0].data();n(S.nombre||""),r(S.telefono||""),S.fotoURL&&l(S.fotoURL)}}catch(x){console.error("Error al obtener datos del usuario:",x)}};j.useEffect(()=>{d()},[]);const f=x=>{n(x.target.value)},p=x=>{r(x.target.value)},g=x=>{x.target.files&&x.target.files[0]&&o(x.target.files[0])},y=async()=>{try{const x=An(yt(et,"users"),st("email","==",t)),_=await St(x);if(_.empty)console.error("Usuario no encontrado en la base de datos.");else{const v=_.docs[0];let S=a;if(s){const A=AA(),D=PA(A,"user_profiles/".concat(t));await CA(D,s),S=await kA(D)}await lA(v.ref,{nombre:e,telefono:i,fotoURL:S}),console.log("Datos actualizados en Firestore:",e,i,S),u("Datos actualizados correctamente")}}catch(x){console.error("Error al guardar cambios:",x),u("Error al guardar los cambios. Inténtalo de nuevo más tarde.")}};return I.jsxs("div",{className:"perfil-container",children:[I.jsx(X0,{}),I.jsx("h1",{children:"Bienvenido a tu perfil"}),a&&I.jsx("img",{className:"profile-pic",src:a,alt:"Foto de perfil"}),I.jsxs("p",{className:"email",children:["Correo electrónico: ",t]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),I.jsx("input",{type:"text",id:"nombre",value:e,onChange:f})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"telefono",children:"Teléfono:"}),I.jsx("input",{type:"text",id:"telefono",value:i,onChange:p})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"foto",children:"Foto de perfil:"}),I.jsx("input",{type:"file",id:"foto",onChange:g})]}),I.jsx("button",{className:"btn-save",onClick:y,children:"Guardar Cambios"}),c&&I.jsx("p",{className:c.includes("error")?"mensaje-error":"mensaje-exito",children:c})]})},xq=()=>{const[t,e]=j.useState(""),[n,i]=j.useState([]),[r,s]=j.useState([]),[o,a]=j.useState(null),l=Ya(),c=oi();j.useEffect(()=>{u()},[]);const u=async()=>{const _=await St(yt(et,"textRecords")),v=[];_.forEach(S=>{const A=S.data();if(A.placa){const D=A.timestamp?new Date(A.timestamp.toDate()):new Date;v.push({...A,timestamp:D,docId:S.id,placa:A.placa,imageUrl:A.imageUrl})}}),s(v),i(v.slice(0,10))},d=async(_,v,S,A)=>{const M=oi().currentUser;if(!M){console.error("No hay usuario autenticado");return}const E=hs(et,"textRecords",_),w=hs(et,"vehiculosPagados",_);try{const T=await L0(E);T.exists()?(await kf(w,{...T.data(),pagado:!0,fechaPago:new Date,costoPagadoCOP:v,costoPagadoUSD:S,pagadoPor:M.uid,emailPagador:M.email,idTransaccion:A}),await cA(E),console.log("Documento movido y eliminado con éxito con costos en COP y USD, usuario, email e ID de transacción!")):console.log("No se encontró el documento!")}catch(T){console.error("Error al mover y eliminar el documento: ",T)}},f=_=>{const v=_.target.value.toUpperCase();if(e(v),v==="")i(r.slice(0,10));else{const S=r.filter(A=>A.placa.includes(v));i(S.slice(0,10))}},p=_=>{a(_)},g=async()=>{if(!o){alert("No se ha seleccionado ningún vehículo.");return}const _=Xs(o.timestamp);try{await d(o.docId,_,null,null),alert("Pago en efectivo registrado con éxito"),await u(),a(null)}catch(v){console.error("Error al registrar el pago: ",v),alert("Hubo un error al registrar el pago. Por favor, inténtalo de nuevo.")}},y=async()=>{try{await Ga(c),ru("capacitor")&&await su.signOut(),console.log("Sesión cerrada exitosamente"),l.push("/")}catch(_){console.error("Error cerrando sesión",_)}},x=_=>{const S=new Date().getTime()-_.getTime(),A=Math.floor(S/6e4);return"".concat(A," minutos")};return I.jsxs("div",{className:"eps-container",children:[I.jsx("h1",{children:"Procesar Pagos en Efectivo"}),I.jsx("button",{onClick:y,className:"eps-sign-out-button",children:"Cerrar Sesión"}),I.jsx("input",{type:"text",value:t,onChange:f,placeholder:"Ingrese la placa del vehículo",className:"eps-input"}),I.jsx("div",{className:"eps-list-container",children:n.slice(0,3).map(_=>I.jsxs("div",{className:"eps-list-item ".concat((o==null?void 0:o.docId)===_.docId?"eps-selected":""),onClick:()=>p(_),children:[I.jsx("div",{className:"eps-image-container",children:_.imageUrl&&I.jsx("img",{src:_.imageUrl,alt:"Imagen del vehículo",className:"eps-image"})}),I.jsxs("div",{className:"eps-details",children:[I.jsxs("p",{className:"eps-detail-text",children:["Placa: ",_.placa]}),I.jsxs("p",{className:"eps-detail-text",children:["Fecha de Ingreso: ",U0(_.timestamp,"PPPPpppp",{locale:B0})]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Tiempo transcurrido:"})," ",x(_.timestamp)]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Valor a pagar:"})," $",Xs(_.timestamp)]})]})]},_.docId))}),o&&I.jsxs("div",{className:"eps-confirm-section",children:[I.jsx("h2",{children:"Confirmar Pago en Efectivo"}),I.jsxs("p",{children:["Placa: ",o.placa]}),I.jsxs("p",{children:["Valor a pagar: $",Xs(o.timestamp)]}),I.jsx("button",{onClick:g,className:"eps-confirm-button",children:"Registrar Pago"})]})]})},Tq=()=>{const[t,e]=j.useState([]),[n,i]=j.useState({});j.useEffect(()=>{(async()=>{const a=await St(yt(et,"users")),l=[];a.forEach(c=>{const u=c.data();u.role!=="administrador"&&l.push({id:c.id,email:u.email,role:u.role})}),e(l)})()},[]);const r=(o,a)=>{i(l=>({...l,[o]:a}))},s=async()=>{try{const o=Object.entries(n).map(async([a,l])=>{const c=hs(et,"users",a);await lA(c,{role:l})});await Promise.all(o),e(t.map(a=>({...a,role:n[a.id]||a.role}))),i({}),alert("Los cambios han sido guardados con éxito.")}catch(o){console.error("Error al guardar los cambios:",o)}};return I.jsxs("div",{children:[I.jsx(Uu,{}),I.jsxs("div",{className:"user-management-container",children:[I.jsx("h2",{children:"Gestión de Usuarios"}),I.jsxs("table",{className:"user-tableU",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Email"}),I.jsx("th",{children:"Rol"})]})}),I.jsx("tbody",{children:t.map(o=>I.jsxs("tr",{children:[I.jsx("td",{children:o.email}),I.jsx("td",{children:I.jsxs("select",{value:n[o.id]||o.role,onChange:a=>r(o.id,a.target.value),children:[I.jsx("option",{value:"cliente",children:"Cliente"}),I.jsx("option",{value:"empleado",children:"Empleado"})]})})]},o.id))})]}),I.jsx("button",{onClick:s,className:"save-changes-button",children:"Guardar Cambios"})]})]})},Sq=({spots:t,onSpotClick:e,selectedSpot:n})=>{const i=[{bloque:"A",total:50,filas:5,columnas:10},{bloque:"D",total:50,filas:5,columnas:10}];return I.jsx("div",{className:"parking-map-admin",children:i.map(r=>I.jsxs("div",{className:"parking-block-admin",children:[I.jsxs("h3",{children:["Bloque ",r.bloque]}),I.jsx("div",{className:"spots-grid-admin",style:{gridTemplateColumns:"repeat(".concat(r.columnas,", 1fr)")},children:Array.from({length:r.total},(s,o)=>{var d;const a=o+1,l=t.find(f=>f.bloque===r.bloque&&f.numero===a),c=!!l,u=(n==null?void 0:n.docId)===(l==null?void 0:l.docId);return I.jsxs("div",{className:"spot-admin ".concat(u?"selected-spot":c?"occupied-spot":"available-spot"),onClick:()=>c&&(e==null?void 0:e(l)),title:c?"Placa: ".concat(l.placa,"\nHora: ").concat((d=l.timestamp)==null?void 0:d.toLocaleTimeString()):"Disponible",children:[I.jsxs("span",{className:"spot-number-admin",children:[r.bloque,a]}),c&&I.jsx("span",{className:"spot-placa-admin",children:l.placa}),u&&I.jsx("div",{className:"spot-selected-indicator"})]},"".concat(r.bloque).concat(a))})})]},r.bloque))})},Iq=()=>{var M;const[t,e]=j.useState([]),[n,i]=j.useState(""),[r,s]=j.useState(!1),[o,a]=j.useState(""),[l,c]=j.useState(!1),[u,d]=j.useState(null),[f,p]=j.useState("all");j.useEffect(()=>{(async()=>{const w=await St(yt(et,"textRecords")),T=[];w.forEach(C=>{var O;const P=C.data();P.placa&&T.push({...P,docId:C.id,timestamp:new Date((O=P.timestamp)==null?void 0:O.toDate())})}),e(T)})()},[]);const g=E=>{i(E.target.value.toUpperCase())},y=t.filter(E=>E.placa.includes(n)),x=E=>{a(E),s(!0)},_=()=>{s(!1)},v=t.map(E=>({bloque:E.bloque||"A",numero:E.lugar||0,placa:E.placa,timestamp:E.timestamp,docId:E.docId})),S=E=>{d(E),i(E.placa||"")},A=()=>{p(E=>E==="all"?"selected":"all")},D=f==="selected"&&u?[u]:v;return I.jsxs("div",{className:"admin-parking-container",children:[I.jsx(Uu,{}),I.jsx("h1",{children:"Vehículos en el Estacionamiento"}),I.jsxs("div",{className:"admin-controls",children:[I.jsx("input",{type:"text",value:n,onChange:g,placeholder:"Buscar por placa",className:"admin-parking-search"}),I.jsx("button",{className:"toggle-map-button",onClick:()=>c(!l),children:l?"Ocultar Mapa":"Ver Mapa Completo"}),l&&I.jsx("button",{className:"view-mode-button",onClick:A,disabled:!u,children:f==="all"?"Ver Solo Seleccionado":"Ver Todos"})]}),l?I.jsxs("div",{className:"map-view-container",children:[I.jsx(Sq,{spots:D,onSpotClick:S,selectedSpot:u}),u&&I.jsxs("div",{className:"selected-vehicle-info",children:[I.jsx("h3",{children:"Vehículo Seleccionado"}),I.jsxs("p",{children:[I.jsx("strong",{children:"Placa:"})," ",u.placa]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Ubicación:"})," Bloque ",u.bloque,", Lugar ",u.numero]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Hora de ingreso:"})," ",(M=u.timestamp)==null?void 0:M.toLocaleString()]}),I.jsx("button",{className:"focus-vehicle-button",onClick:()=>p("selected"),disabled:f==="selected",children:"Enfocar en Mapa"})]})]}):I.jsx("div",{className:"admin-parking-list",children:y.length>0?y.map(E=>I.jsxs("div",{className:"admin-parking-item ".concat((u==null?void 0:u.docId)===E.docId?"selected-item":""),onClick:()=>{const w={bloque:E.bloque||"A",numero:E.lugar||0,placa:E.placa,timestamp:E.timestamp,docId:E.docId};d(w),c(!0)},children:[E.imageUrl&&I.jsxs("div",{className:"admin-parking-image-container",onClick:w=>{w.stopPropagation(),x(E.imageUrl)},children:[I.jsx("img",{src:E.imageUrl,alt:"Vehículo",className:"admin-parking-image"}),I.jsx("div",{className:"admin-parking-zoom-icon"})]}),I.jsxs("div",{className:"vehicle-info-admin",children:[I.jsxs("p",{children:[I.jsx("strong",{children:"Placa:"})," ",E.placa]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Ubicación:"})," Bloque ",E.bloque||"A",", Lugar ",E.lugar||"N/A"]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Hora de ingreso:"})," ",E.timestamp.toLocaleString()]})]})]},E.docId)):I.jsx("p",{className:"admin-parking-empty",children:"No hay vehículos que coincidan con la búsqueda."})}),r&&I.jsx("div",{className:"admin-parking-modal",onClick:_,children:I.jsxs("div",{className:"admin-parking-modal-content",onClick:E=>E.stopPropagation(),children:[I.jsx("button",{className:"close-modal-button",onClick:_,children:"×"}),I.jsx("img",{src:o,alt:"Imagen ampliada",className:"admin-parking-modal-image"})]})})]})};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Wu(t){return t+.5|0}const Br=(t,e,n)=>Math.max(Math.min(t,n),e);function Zl(t){return Br(Wu(t*2.55),0,255)}function rs(t){return Br(Wu(t*255),0,255)}function Gi(t){return Br(Wu(t/2.55)/100,0,1)}function FT(t){return Br(Wu(t*100),0,100)}const Mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cv=[..."0123456789ABCDEF"],Cq=t=>Cv[t&15],kq=t=>Cv[(t&240)>>4]+Cv[t&15],Gh=t=>(t&240)>>4===(t&15),Pq=t=>Gh(t.r)&&Gh(t.g)&&Gh(t.b)&&Gh(t.a);function Aq(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Mn[t[1]]*17,g:255&Mn[t[2]]*17,b:255&Mn[t[3]]*17,a:e===5?Mn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Mn[t[1]]<<4|Mn[t[2]],g:Mn[t[3]]<<4|Mn[t[4]],b:Mn[t[5]]<<4|Mn[t[6]],a:e===9?Mn[t[7]]<<4|Mn[t[8]]:255})),n}const Rq=(t,e)=>t<255?e(t):"";function Oq(t){var e=Pq(t)?Cq:kq;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Rq(t.a,e):void 0}const Dq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uO(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Mq(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Lq(t,e,n){const i=uO(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Nq(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function rw(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Nq(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function sw(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(rs)}function ow(t,e,n){return sw(uO,t,e,n)}function Vq(t,e,n){return sw(Lq,t,e,n)}function Fq(t,e,n){return sw(Mq,t,e,n)}function hO(t){return(t%360+360)%360}function $q(t){const e=Dq.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Zl(+e[5]):rs(+e[5]));const r=hO(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Vq(r,s,o):e[1]==="hsv"?i=Fq(r,s,o):i=ow(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function jq(t,e){var n=rw(t);n[0]=hO(n[0]+e),n=ow(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Uq(t){if(!t)return;const e=rw(t),n=e[0],i=FT(e[1]),r=FT(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(Gi(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}const $T={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Bq(){const t={},e=Object.keys(jT),n=Object.keys($T);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,$T[s]);s=parseInt(jT[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Kh;function zq(t){Kh||(Kh=Bq(),Kh.transparent=[0,0,0,0]);const e=Kh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Wq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Hq(t){const e=Wq.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Zl(o):Br(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Zl(i):Br(i,0,255)),r=255&(e[4]?Zl(r):Br(r,0,255)),s=255&(e[6]?Zl(s):Br(s,0,255)),{r:i,g:r,b:s,a:n}}}function qq(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(Gi(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}const Pg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Bo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Gq(t,e,n){const i=Bo(Gi(t.r)),r=Bo(Gi(t.g)),s=Bo(Gi(t.b));return{r:rs(Pg(i+n*(Bo(Gi(e.r))-i))),g:rs(Pg(r+n*(Bo(Gi(e.g))-r))),b:rs(Pg(s+n*(Bo(Gi(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Yh(t,e,n){if(t){let i=rw(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=ow(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function dO(t,e){return t&&Object.assign(e||{},t)}function UT(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=rs(t[3]))):(e=dO(t,{r:0,g:0,b:0,a:1}),e.a=rs(e.a)),e}function Kq(t){return t.charAt(0)==="r"?Hq(t):$q(t)}class lu{constructor(e){if(e instanceof lu)return e;const n=typeof e;let i;n==="object"?i=UT(e):n==="string"&&(i=Aq(e)||zq(e)||Kq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=dO(this._rgb);return e&&(e.a=Gi(e.a)),e}set rgb(e){this._rgb=UT(e)}rgbString(){return this._valid?qq(this._rgb):void 0}hexString(){return this._valid?Oq(this._rgb):void 0}hslString(){return this._valid?Uq(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Gq(this._rgb,e._rgb,n)),this}clone(){return new lu(this.rgb)}alpha(e){return this._rgb.a=rs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Wu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Yh(this._rgb,2,e),this}darken(e){return Yh(this._rgb,2,-e),this}saturate(e){return Yh(this._rgb,1,e),this}desaturate(e){return Yh(this._rgb,1,-e),this}rotate(e){return jq(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ui(){}const Yq=(()=>{let t=0;return()=>t++})();function ge(t){return t==null}function ze(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function we(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ze(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function wn(t,e){return Ze(t)?t:e}function pe(t,e){return typeof t>"u"?e:t}const Qq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,fO=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Me(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ke(t,e,n,i){let r,s,o;if(ze(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(we(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function zf(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Wf(t){if(ze(t))return t.map(Wf);if(we(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Wf(t[n[r]]);return e}return t}function pO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Xq(t,e,n,i){if(!pO(t))return;const r=e[t],s=n[t];we(r)&&we(s)?cu(r,s,i):e[t]=Wf(s)}function cu(t,e,n){const i=ze(e)?e:[e],r=i.length;if(!we(t))return t;n=n||{};const s=n.merger||Xq;let o;for(let a=0;a<r;++a){if(o=i[a],!we(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function bc(t,e){return cu(t,e,{merger:Jq})}function Jq(t,e,n){if(!pO(t))return;const i=e[t],r=n[t];we(i)&&we(r)?bc(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Wf(r))}const BT={"":t=>t,x:t=>t.x,y:t=>t.y};function Zq(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function e8(t){const e=Zq(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ds(t,e){return(BT[e]||(BT[e]=e8(e)))(t)}function aw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const uu=t=>typeof t<"u",fs=t=>typeof t=="function",zT=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function t8(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ue=Math.PI,je=2*Ue,n8=je+Ue,Hf=Number.POSITIVE_INFINITY,i8=Ue/180,rt=Ue/2,Ps=Ue/4,WT=Ue*2/3,zr=Math.log10,Di=Math.sign;function Ec(t,e,n){return Math.abs(t-e)<n}function HT(t){const e=Math.round(t);t=Ec(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(zr(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function r8(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function s8(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ja(t){return!s8(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function o8(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function mO(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Jn(t){return t*(Ue/180)}function lw(t){return t*(180/Ue)}function qT(t){if(!Ze(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function gO(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Ue&&(s+=je),{angle:s,distance:r}}function kv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function a8(t,e){return(t-e+n8)%je-Ue}function xn(t){return(t%je+je)%je}function hu(t,e,n,i){const r=xn(t),s=xn(e),o=xn(n),a=xn(s-r),l=xn(o-r),c=xn(r-s),u=xn(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function xt(t,e,n){return Math.max(e,Math.min(n,t))}function l8(t){return xt(t,-32768,32767)}function er(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function cw(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const tr=(t,e,n,i)=>cw(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),c8=(t,e,n)=>cw(t,n,i=>t[i][e]>=n);function u8(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const yO=["push","pop","shift","splice","unshift"];function h8(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),yO.forEach(n=>{const i="_onData"+aw(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function GT(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(yO.forEach(s=>{delete t[s]}),delete t._chartjs)}function vO(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const _O=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function wO(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,_O.call(window,()=>{i=!1,t.apply(e,n)}))}}function d8(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const uw=t=>t==="start"?"left":t==="end"?"right":"center",Wt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,f8=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function bO(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:f,minDefined:p,maxDefined:g}=o.getUserBounds();if(p){if(r=Math.min(tr(l,u,d).lo,n?i:tr(e,u,o.getPixelForValue(d)).lo),c){const y=l.slice(0,r+1).reverse().findIndex(x=>!ge(x[a.axis]));r-=Math.max(0,y)}r=xt(r,0,i-1)}if(g){let y=Math.max(tr(l,o.axis,f,!0).hi+1,n?0:tr(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const x=l.slice(y-1).findIndex(_=>!ge(_[a.axis]));y+=Math.max(0,x)}s=xt(y,r,i)-r}else s=i-r}return{start:r,count:s}}function EO(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Qh=t=>t===0||t===1,KT=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*je/n)),YT=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*je/n)+1,xc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*rt)+1,easeOutSine:t=>Math.sin(t*rt),easeInOutSine:t=>-.5*(Math.cos(Ue*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Qh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Qh(t)?t:KT(t,.075,.3),easeOutElastic:t=>Qh(t)?t:YT(t,.075,.3),easeInOutElastic(t){return Qh(t)?t:t<.5?.5*KT(t*2,.1125,.45):.5+.5*YT(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-xc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?xc.easeInBounce(t*2)*.5:xc.easeOutBounce(t*2-1)*.5+.5};function hw(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function QT(t){return hw(t)?t:new lu(t)}function Ag(t){return hw(t)?t:new lu(t).saturate(.5).darken(.1).hexString()}const p8=["x","y","borderWidth","radius","tension"],m8=["color","borderColor","backgroundColor"];function g8(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:m8},numbers:{type:"number",properties:p8}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function y8(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const XT=new Map;function v8(t,e){e=e||{};const n=t+JSON.stringify(e);let i=XT.get(n);return i||(i=new Intl.NumberFormat(t,e),XT.set(n,i)),i}function Hu(t,e,n){return v8(e,n).format(t)}const xO={values(t){return ze(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=_8(t,n)}const o=zr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Hu(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(zr(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?xO.numeric.call(this,t,e,n):""}};function _8(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var nm={formatters:xO};function w8(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _o=Object.create(null),Pv=Object.create(null);function Tc(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Rg(t,e,n){return typeof e=="string"?cu(Tc(t,e),n):cu(Tc(t,""),e)}class b8{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Ag(r.backgroundColor),this.hoverBorderColor=(i,r)=>Ag(r.borderColor),this.hoverColor=(i,r)=>Ag(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Rg(this,e,n)}get(e){return Tc(this,e)}describe(e,n){return Rg(Pv,e,n)}override(e,n){return Rg(_o,e,n)}route(e,n,i,r){const s=Tc(this,e),o=Tc(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return we(l)?Object.assign({},c,l):pe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var We=new b8({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[g8,y8,w8]);function E8(t){return!t||ge(t.size)||ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function qf(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function x8(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!ze(d))o=qf(t,r,s,o,d);else if(ze(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!ze(f)&&(o=qf(t,r,s,o,f));t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[s[l]];s.splice(0,p)}return o}function As(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function JT(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Av(t,e,n,i){TO(t,e,n,i,null)}function TO(t,e,n,i,r){let s,o,a,l,c,u,d,f;const p=e.pointStyle,g=e.rotation,y=e.radius;let x=(g||0)*i8;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(x),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:r?t.ellipse(n,i,r/2,y,0,0,je):t.arc(n,i,y,0,je),t.closePath();break;case"triangle":u=r?r/2:y,t.moveTo(n+Math.sin(x)*u,i-Math.cos(x)*y),x+=WT,t.lineTo(n+Math.sin(x)*u,i-Math.cos(x)*y),x+=WT,t.lineTo(n+Math.sin(x)*u,i-Math.cos(x)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(x+Ps)*l,d=Math.cos(x+Ps)*(r?r/2-c:l),a=Math.sin(x+Ps)*l,f=Math.sin(x+Ps)*(r?r/2-c:l),t.arc(n-d,i-a,c,x-Ue,x-rt),t.arc(n+f,i-o,c,x-rt,x),t.arc(n+d,i+a,c,x,x+rt),t.arc(n-f,i+o,c,x+rt,x+Ue),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}x+=Ps;case"rectRot":d=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*(r?r/2:y),t.moveTo(n-d,i-a),t.lineTo(n+f,i-o),t.lineTo(n+d,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":x+=Ps;case"cross":d=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*(r?r/2:y),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":d=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*(r?r/2:y),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),x+=Ps,d=Math.cos(x)*(r?r/2:y),o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*(r?r/2:y),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(x)*y,a=Math.sin(x)*y,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(x)*(r?r/2:y),i+Math.sin(x)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function nr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function im(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function rm(t){t.restore()}function T8(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function S8(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function I8(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function C8(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function k8(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function wo(t,e,n,i,r,s={}){const o=ze(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,I8(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&k8(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ge(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),C8(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function du(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ue,Ue,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Ue,rt,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,rt,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-rt,!0),t.lineTo(n+o.topLeft,i)}const P8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,A8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function R8(t,e){const n=(""+t).match(P8);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const O8=t=>+t||0;function dw(t,e){const n={},i=we(e),r=i?Object.keys(e):e,s=we(t)?i?o=>pe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=O8(s(o));return n}function SO(t){return dw(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Js(t){return dw(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Qt(t){const e=SO(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mt(t,e){t=t||{},e=e||We.font;let n=pe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=pe(t.style,e.style);i&&!(""+i).match(A8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:pe(t.family,e.family),lineHeight:R8(pe(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:pe(t.weight,e.weight),string:""};return r.string=E8(r),r}function ec(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function D8(t,e,n){const{min:i,max:r}=t,s=fO(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function ws(t,e){return Object.assign(Object.create(t),e)}function fw(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=PO("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>fw([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return CO(a,l,()=>U8(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return eS(a).includes(l)},ownKeys(a){return eS(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Ua(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:IO(t,i),setContext:s=>Ua(t,s,n,i),override:s=>Ua(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return CO(s,o,()=>L8(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function IO(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:fs(n)?n:()=>n,isIndexable:fs(i)?i:()=>i}}const M8=(t,e)=>t?t+aw(e):e,pw=(t,e)=>we(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function CO(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function L8(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return fs(a)&&o.isScriptable(e)&&(a=N8(e,a,t,n)),ze(a)&&a.length&&(a=V8(e,a,t,o.isIndexable)),pw(e,a)&&(a=Ua(a,r,s&&s[e],o)),a}function N8(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),pw(t,l)&&(l=mw(r._scopes,r,t,l)),l}function V8(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(we(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=mw(c,r,t,u);e.push(Ua(d,s,o&&o[t],a))}}return e}function kO(t,e,n){return fs(t)?t(e,n):t}const F8=(t,e)=>t===!0?e:typeof t=="string"?ds(e,t):void 0;function $8(t,e,n,i,r){for(const s of e){const o=F8(n,s);if(o){t.add(o);const a=kO(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function mw(t,e,n,i){const r=e._rootScopes,s=kO(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=ZT(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=ZT(a,o,s,l,i),l===null)?!1:fw(Array.from(a),[""],r,s,()=>j8(e,n,i))}function ZT(t,e,n,i,r){for(;n;)n=$8(t,e,n,i,r);return n}function j8(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return ze(r)&&we(n)?n:r||{}}function U8(t,e,n,i){let r;for(const s of e)if(r=PO(M8(s,t),n),typeof r<"u")return pw(t,r)?mw(n,i,t,r):r}function PO(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function eS(t){let e=t._keys;return e||(e=t._keys=B8(t._scopes)),e}function B8(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function AO(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(ds(u,s),c)};return o}const z8=Number.EPSILON||1e-14,Ba=(t,e)=>e<t.length&&!t[e].skip&&t[e],RO=t=>t==="x"?"y":"x";function W8(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=kv(s,r),l=kv(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function H8(t,e,n){const i=t.length;let r,s,o,a,l,c=Ba(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Ba(t,u+1),!(!l||!c)){if(Ec(e[u],0,z8)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function q8(t,e,n="x"){const i=RO(n),r=t.length;let s,o,a,l=Ba(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Ba(t,c+1),!a)continue;const u=a[n],d=a[i];o&&(s=(u-o[n])/3,a["cp1".concat(n)]=u-s,a["cp1".concat(i)]=d-s*e[c]),l&&(s=(l[n]-u)/3,a["cp2".concat(n)]=u+s,a["cp2".concat(i)]=d+s*e[c])}}function G8(t,e="x"){const n=RO(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Ba(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Ba(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Di(r[o-1])!==Di(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}H8(t,r,s),q8(t,s,e)}function Xh(t,e,n){return Math.max(Math.min(t,n),e)}function K8(t,e){let n,i,r,s,o,a=nr(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&nr(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Xh(r.cp1x,e.left,e.right),r.cp1y=Xh(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Xh(r.cp2x,e.left,e.right),r.cp2y=Xh(r.cp2y,e.top,e.bottom)))}function Y8(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")G8(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=W8(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&K8(t,n)}function gw(){return typeof window<"u"&&typeof document<"u"}function yw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Gf(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const sm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Q8(t,e){return sm(t).getPropertyValue(e)}const X8=["top","right","bottom","left"];function Zs(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=X8[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const J8=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Z8(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(J8(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Vs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=sm(n),s=r.boxSizing==="border-box",o=Zs(r,"padding"),a=Zs(r,"border","width"),{x:l,y:c,box:u}=Z8(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:g}=e;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/p*n.width/i),y:Math.round((c-f)/g*n.height/i)}}function e7(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&yw(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=sm(s),l=Zs(a,"border","width"),c=Zs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Gf(a.maxWidth,s,"clientWidth"),r=Gf(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Hf,maxHeight:r||Hf}}const Jh=t=>Math.round(t*10)/10;function t7(t,e,n,i){const r=sm(t),s=Zs(r,"margin"),o=Gf(r.maxWidth,t,"clientWidth")||Hf,a=Gf(r.maxHeight,t,"clientHeight")||Hf,l=e7(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const f=Zs(r,"border","width"),p=Zs(r,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=Jh(Math.min(c,o,l.maxWidth)),u=Jh(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Jh(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Jh(Math.floor(u*i))),{width:c,height:u}}function tS(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const n7=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};gw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return t}();function nS(t,e){const n=Q8(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Fs(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function i7(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function r7(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Fs(t,r,n),a=Fs(r,s,n),l=Fs(s,e,n),c=Fs(o,a,n),u=Fs(a,l,n);return Fs(c,u,n)}const s7=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},o7=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ba(t,e,n){return t?s7(e,n):o7()}function OO(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function DO(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function MO(t){return t==="angle"?{between:hu,compare:a8,normalize:xn}:{between:er,compare:(e,n)=>e-n,normalize:e=>e}}function iS({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function a7(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=MO(i),l=e.length;let{start:c,end:u,loop:d}=t,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][i]),r,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function LO(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=MO(i),{start:u,end:d,loop:f,style:p}=a7(t,e,n),g=[];let y=!1,x=null,_,v,S;const A=()=>l(r,S,_)&&a(r,S)!==0,D=()=>a(s,_)===0||l(s,S,_),M=()=>y||A(),E=()=>!y||D();for(let w=u,T=u;w<=d;++w)v=e[w%o],!v.skip&&(_=c(v[i]),_!==S&&(y=l(_,r,s),x===null&&M()&&(x=a(_,r)===0?w:T),x!==null&&E()&&(g.push(iS({start:x,end:w,loop:f,count:o,style:p})),x=null),T=w,S=_));return x!==null&&g.push(iS({start:x,end:d,loop:f,count:o,style:p})),g}function NO(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=LO(i[r],t.points,e);s.length&&n.push(...s)}return n}function l7(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function c7(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function u7(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=l7(n,r,s,i);if(i===!0)return rS(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return rS(t,c7(n,o,l,c),n,e)}function rS(t,e,n,i){return!i||!i.setContext||!n?e:h7(t,e,n,i)}function h7(t,e,n,i){const r=t._chart.getContext(),s=sS(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,f=d;function p(g,y,x,_){const v=a?-1:1;if(g!==y){for(g+=l;n[g%l].skip;)g-=v;for(;n[y%l].skip;)y+=v;g%l!==y%l&&(c.push({start:g%l,end:y%l,loop:x,style:_}),u=_,d=y%l)}}for(const g of e){d=a?d:g.start;let y=n[d%l],x;for(f=d+1;f<=g.end;f++){const _=n[f%l];x=sS(i.setContext(ws(r,{type:"segment",p0:y,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),d7(x,u)&&p(d,f-1,g.loop,u),y=_,u=x}d<f-1&&p(d,f-1,g.loop,u)}return c}function sS(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function d7(t,e){if(!e)return!1;const n=[],i=function(r,s){return hw(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class f7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=_O.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Bi=new f7;const oS="transparent",p7={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=QT(t||oS),r=i.valid&&QT(e||oS);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class m7{constructor(e,n,i,r){const s=n[i];r=ec([e.to,r,s,e.from]);const o=ec([e.from,s,r]);this._active=!0,this._fn=e.fn||p7[e.type||typeof o],this._easing=xc[e.easing]||xc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ec([e.to,n,r,e.from]),this._from=ec([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class VO{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!we(e))return;const n=Object.keys(We.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!we(s))return;const o={};for(const a of n)o[a]=s[a];(ze(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=y7(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&g7(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new m7(f,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Bi.add(this._chart,i),!0}}function g7(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function y7(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function aS(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function v7(t,e,n){if(n===!1)return!1;const i=aS(t,n),r=aS(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function _7(t){let e,n,i,r;return we(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function FO(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function lS(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,i.all)continue;break}c=t.values[l],Ze(c)&&(s||e===0||Di(e)===Di(c))&&(e+=c)}return!u&&!i.all?0:e}function w7(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:t[u]};return a}function Og(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function b7(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}function E7(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function x7(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function cS(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function uS(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=b7(s,o,i),d=e.length;let f;for(let p=0;p<d;++p){const g=e[p],{[l]:y,[c]:x}=g,_=g._stacks||(g._stacks={});f=_[c]=x7(r,u,y),f[a]=x,f._top=cS(f,o,!0,i.type),f._bottom=cS(f,o,!1,i.type);const v=f._visualValues||(f._visualValues={});v[a]=x}}function Dg(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function T7(t,e){return ws(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function S7(t,e,n){return ws(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Fl(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Mg=t=>t==="reset"||t==="none",hS=(t,e)=>e?t:Object.assign({},t),I7=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:FO(n,!0),values:null};class ii{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Og(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Fl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,f,p,g)=>d==="x"?f:d==="r"?g:p,s=n.xAxisID=pe(i.xAxisID,Dg(e,"x")),o=n.yAxisID=pe(i.yAxisID,Dg(e,"y")),a=n.rAxisID=pe(i.rAxisID,Dg(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&GT(this._data,this),e._stacked&&Fl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(we(n)){const r=this._cachedMeta;this._data=w7(n,r)}else if(i!==n){if(i){GT(i,this);const r=this._cachedMeta;Fl(r),r._parsed=[]}n&&Object.isExtensible(n)&&h8(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Og(n.vScale,n),n.stack!==i.stack&&(r=!0,Fl(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(uS(this,n._parsed),n._stacked=Og(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{ze(r[e])?f=this.parseArrayData(i,r,e,n):we(r[e])?f=this.parseObjectData(i,r,e,n):f=this.parsePrimitiveData(i,r,e,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=d=f[u],l&&(p()&&(l=!1),c=d);i._sorted=l}o&&uS(this,f)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(r);let f,p,g;for(f=0,p=r;f<p;++f)g=f+i,d[f]={[a]:u||s.parse(c[g],g),[l]:o.parse(n[g],g)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+i,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,f,p;for(u=0,d=r;u<d;++u)f=u+i,p=n[f],c[u]={x:s.parse(ds(p,a),f),y:o.parse(ds(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:FO(r,!0),values:n._stacks[e.axis]._visualValues};return lS(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=lS(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=I7(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=E7(a);let f,p;function g(){p=r[f];const y=p[a.axis];return!Ze(p[e.axis])||u>y||d<y}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Ze(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=_7(pe(this.options.clip,v7(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=S7(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=T7(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&uu(i);if(a)return hS(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(We.elements[e]),g=()=>this.getContext(i,r,n),y=c.resolveNamedOptions(f,p,g,d);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(hS(y,l))),y}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o="animation-".concat(n),a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,i,n))}const c=new VO(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Mg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Mg(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Mg(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Fl(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(ii,"defaults",{}),Z(ii,"datasetElementType",null),Z(ii,"dataElementType",null);function C7(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=vO(i.sort((r,s)=>r-s))}return t._cache.$bar}function k7(t){const e=t.iScale,n=C7(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(uu(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function P7(t,e,n,i){const r=n.barThickness;let s,o;return ge(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function A7(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function R7(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function $O(t,e,n,i){return ze(t)?R7(t,e,n,i):e[n.axis]=n.parse(t,i),e}function dS(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,d,f;for(c=n,u=n+i;c<u;++c)f=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push($O(f,d,s,c));return l}function Lg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function O7(t,e,n){return t!==0?Di(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function D7(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function M7(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=D7(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[fS(u,o,a,l)]=!0,r=c)),s[fS(r,o,a,l)]=!0,t.borderSkipped=s}function fS(t,e,n,i){return i?(t=L7(t,e,n),t=pS(t,n,e)):t=pS(t,e,n),t}function L7(t,e,n){return t===e?n:t===n?e:t}function pS(t,e,n){return t==="start"?e:t==="end"?n:t}function N7(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Sc extends ii{parsePrimitiveData(e,n,i,r){return dS(e,n,i,r)}parseArrayData(e,n,i,r){return dS(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,p,g,y;for(f=i,p=i+r;f<p;++f)y=n[f],g={},g[s.axis]=s.parse(ds(y,c),f),d.push($O(ds(y,u),g,o,f));return d}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=Lg(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,r);for(let p=n;p<n+i;p++){const g=this.getParsed(p),y=s||ge(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),x=this._calculateBarIndexPixels(p,u),_=(g._stacks||{})[a.axis],v={horizontal:c,base:y.base,enableBorderRadius:!_||Lg(g._custom)||o===_._top||o===_._bottom,x:c?y.head:x.center,y:c?x.center:y.head,height:c?x.size:Math.abs(y.size),width:c?Math.abs(y.size):x.size};f&&(v.options=d||this.resolveDataElementOptions(p,e[p].active?"active":r));const S=v.options||e[p].options;M7(v,S,_,o),N7(v,S,u.ratio),this.updateElement(e[p],p,v,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=u=>{const d=u._parsed.find(p=>p[i.axis]===l),f=d&&d[u.vScale.axis];if(ge(f)||isNaN(f))return!0};for(const u of r)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||k7(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=Lg(c);let d=l[n.axis],f=0,p=i?this.applyStack(n,l,i):d,g,y;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&Di(d)!==Di(c.barEnd)&&(f=0),f+=d);const x=!ge(s)&&!u?s:f;let _=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(f+p):g=_,y=g-_,Math.abs(y)<o){y=O7(y,n,a)*o,d===a&&(_-=y/2);const v=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),A=Math.min(v,S),D=Math.max(v,S);_=Math.max(Math.min(_,D),A),g=_+y,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(g)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const v=Di(y)*n.getLineWidthForValue(a)/2;_+=v,y-=v}return{size:y,base:_,head:g,center:g+y/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=pe(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?A7(e,n,r,c):P7(e,n,r,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}Z(Sc,"id","bar"),Z(Sc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Z(Sc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Dd extends ii{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=pe(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=pe(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,d=a.axis;for(let f=n;f<n+i;f++){const p=e[f],g=!s&&this.getParsed(f),y={},x=y[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),_=y[d]=s?a.getBasePixel():a.getPixelForValue(g[d]);y.skip=isNaN(x)||isNaN(_),c&&(y.options=l||this.resolveDataElementOptions(f,p.active?"active":r),s&&(y.options.radius=0)),this.updateElement(p,f,y,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=pe(i&&i._custom,s),r}}Z(Dd,"id","bubble"),Z(Dd,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Z(Dd,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function V7(t,e,n){let i=1,r=1,s=0,o=0;if(e<je){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),p=(S,A,D)=>hu(S,a,l,!0)?1:Math.max(A,A*n,D,D*n),g=(S,A,D)=>hu(S,a,l,!0)?-1:Math.min(A,A*n,D,D*n),y=p(0,c,d),x=p(rt,u,f),_=g(Ue,c,d),v=g(Ue+rt,u,f);i=(y-_)/2,r=(x-v)/2,s=-(y+_)/2,o=-(x+v)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Hs extends ii{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(we(i[e])){const{key:l="value"}=this._parsing;s=c=>+ds(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Jn(this.options.rotation-90)}_getCircumference(){return Jn(this.options.circumference)}_getRotationExtents(){let e=je,n=-je;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(Qq(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:y}=V7(d,u,l),x=(i.width-o)/f,_=(i.height-o)/p,v=Math.max(Math.min(x,_)/2,0),S=fO(this.options.radius,v),A=Math.max(S*l,0),D=(S-A)/this._getVisibleDatasetWeightTotal();this.offsetX=g*S,this.offsetY=y*S,r.total=this.calculateTotal(),this.outerRadius=S-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/je)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(n,r);let _=this._getRotation(),v;for(v=0;v<n;++v)_+=this._circumference(v,s);for(v=n;v<n+i;++v){const S=this._circumference(v,s),A=e[v],D={x:u+this.offsetX,y:d+this.offsetY,startAngle:_,endAngle:_+S,circumference:S,outerRadius:g,innerRadius:p};x&&(D.options=y||this.resolveDataElementOptions(v,A.active?"active":r)),_+=S,this.updateElement(A,v,D,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?je*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Hu(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Z(Hs,"id","doughnut"),Z(Hs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Z(Hs,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Z(Hs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Ic extends ii{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=bO(n,r,o);this._drawStart=a,this._drawCount=l,EO(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,r),f=o.axis,p=a.axis,{spanGaps:g,segment:y}=this.options,x=ja(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||r==="none",v=n+i,S=e.length;let A=n>0&&this.getParsed(n-1);for(let D=0;D<S;++D){const M=e[D],E=_?M:{};if(D<n||D>=v){E.skip=!0;continue}const w=this.getParsed(D),T=ge(w[p]),C=E[f]=o.getPixelForValue(w[f],D),P=E[p]=s||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,w,l):w[p],D);E.skip=isNaN(C)||isNaN(P)||T,E.stop=D>0&&Math.abs(w[f]-A[f])>x,y&&(E.parsed=w,E.raw=c.data[D]),d&&(E.options=u||this.resolveDataElementOptions(D,M.active?"active":r)),_||this.updateElement(M,D,E,r),A=w}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Z(Ic,"id","line"),Z(Ic,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(Ic,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Cc extends ii{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Hu(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return AO.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*Ue;let p=f,g;const y=360/this.countVisibleElements();for(g=0;g<n;++g)p+=this._computeAngle(g,r,y);for(g=n;g<n+i;g++){const x=e[g];let _=p,v=p+this._computeAngle(g,r,y),S=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=v,s&&(l.animateScale&&(S=0),l.animateRotate&&(_=v=f));const A={x:u,y:d,innerRadius:0,outerRadius:S,startAngle:_,endAngle:v,options:this.resolveDataElementOptions(g,x.active?"active":r)};this.updateElement(x,g,A,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Jn(this.resolveDataElementOptions(e,n).angle||i):0}}Z(Cc,"id","polarArea"),Z(Cc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Z(Cc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Rv extends Hs{}Z(Rv,"id","pie"),Z(Rv,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Md extends ii{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return AO.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:u.x,f=o?s.yCenter:u.y,p={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,p,r)}}}Z(Md,"id","radar"),Z(Md,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Z(Md,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ld extends ii{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=bO(n,i,r);if(this._drawStart=s,this._drawCount=o,EO(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),d=this.getSharedOptions(u),f=this.includeOptions(r,d),p=o.axis,g=a.axis,{spanGaps:y,segment:x}=this.options,_=ja(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none";let S=n>0&&this.getParsed(n-1);for(let A=n;A<n+i;++A){const D=e[A],M=this.getParsed(A),E=v?D:{},w=ge(M[g]),T=E[p]=o.getPixelForValue(M[p],A),C=E[g]=s||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[g],A);E.skip=isNaN(T)||isNaN(C)||w,E.stop=A>0&&Math.abs(M[p]-S[p])>_,x&&(E.parsed=M,E.raw=c.data[A]),f&&(E.options=d||this.resolveDataElementOptions(A,D.active?"active":r)),v||this.updateElement(D,A,E,r),S=M}this.updateSharedOptions(d,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}Z(Ld,"id","scatter"),Z(Ld,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Z(Ld,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var F7=Object.freeze({__proto__:null,BarController:Sc,BubbleController:Dd,DoughnutController:Hs,LineController:Ic,PieController:Rv,PolarAreaController:Cc,RadarController:Md,ScatterController:Ld});function Rs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vw{constructor(e){Z(this,"options");this.options=e||{}}static override(e){Object.assign(vw.prototype,e)}init(){}formats(){return Rs()}parse(){return Rs()}format(){return Rs()}add(){return Rs()}diff(){return Rs()}startOf(){return Rs()}endOf(){return Rs()}}var $7={_date:vw};function j7(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?c8:tr;if(i){if(r._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(s,e,n-d),p=c(s,e,n+d);return{lo:f.lo,hi:p.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:d}=r._cachedMeta,{_parsed:f}=t,p=f.slice(0,u.lo+1).reverse().findIndex(y=>!ge(y[d.axis]));u.lo-=Math.max(0,p);const g=f.slice(u.hi).findIndex(y=>!ge(y[d.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function qu(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=j7(s[a],e,o,r);for(let p=d;p<=f;++p){const g=u[p];g.skip||i(g,c,p)}}}function U7(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Ng(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||qu(t,n,e,function(a,l,c){!r&&!nr(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function B7(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=gO(o,{x:e.x,y:e.y});hu(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return qu(t,n,e,s),r}function z7(t,e,n,i,r,s){let o=[];const a=U7(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(e.x,e.y,r);if(i&&!p)return;const g=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(g))&&!p)return;const x=a(e,g);x<l?(o=[{element:u,datasetIndex:d,index:f}],l=x):x===l&&o.push({element:u,datasetIndex:d,index:f})}return qu(t,n,e,c),o}function Vg(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?B7(t,e,n,r):z7(t,e,n,i,r,s)}function mS(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return qu(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var W7={evaluateInteractionItems:qu,modes:{index(t,e,n,i){const r=Vs(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ng(t,r,s,i,o):Vg(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=Vs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ng(t,r,s,i,o):Vg(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=Vs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Ng(t,r,s,i,o)},nearest(t,e,n,i){const r=Vs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Vg(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Vs(e,t);return mS(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Vs(e,t);return mS(t,r,"y",n.intersect,i)}}};const jO=["left","top","right","bottom"];function $l(t,e){return t.filter(n=>n.pos===e)}function gS(t,e){return t.filter(n=>jO.indexOf(n.pos)===-1&&n.box.axis===e)}function jl(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function H7(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function q7(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!jO.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function G7(t,e){const n=q7(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function K7(t){const e=H7(t),n=jl(e.filter(c=>c.box.fullSize),!0),i=jl($l(e,"left"),!0),r=jl($l(e,"right")),s=jl($l(e,"top"),!0),o=jl($l(e,"bottom")),a=gS(e,"x"),l=gS(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:$l(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function yS(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function UO(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Y7(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!we(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&UO(o,s.getPadding());const a=Math.max(0,e.outerWidth-yS(o,t,"left","right")),l=Math.max(0,e.outerHeight-yS(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Q7(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function X7(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function tc(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,X7(a.horizontal,e));const{same:d,other:f}=Y7(e,n,a,i);c|=d&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&tc(r,e,n,i)||u}function Zh(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function vS(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;uu(c.start)&&(o=c.start),l.fullSize?Zh(l,r.left,o,n.outerWidth-r.right-r.left,f):Zh(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;uu(c.start)&&(s=c.start),l.fullSize?Zh(l,s,r.top,f,n.outerHeight-r.bottom-r.top):Zh(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var Kt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Qt(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=K7(t.boxes),l=a.vertical,c=a.horizontal;ke(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);UO(f,Qt(i));const p=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),g=G7(l.concat(c),d);tc(a.fullSize,p,d,g),tc(l,p,d,g),tc(c,p,d,g)&&tc(l,p,d,g),Q7(p),vS(a.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,vS(a.rightAndBottom,p,d,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ke(a.chartArea,y=>{const x=y.box;Object.assign(x,t.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class BO{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class J7 extends BO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Nd="$chartjs",Z7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_S=t=>t===null||t==="";function eG(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Nd]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_S(r)){const s=nS(t,"width");s!==void 0&&(t.width=s)}if(_S(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=nS(t,"height");s!==void 0&&(t.height=s)}return t}const zO=n7?{passive:!0}:!1;function tG(t,e,n){t&&t.addEventListener(e,n,zO)}function nG(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,zO)}function iG(t,e){const n=Z7[t.type]||t.type,{x:i,y:r}=Vs(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Kf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function rG(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Kf(a.addedNodes,i),o=o&&!Kf(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function sG(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Kf(a.removedNodes,i),o=o&&!Kf(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const fu=new Map;let wS=0;function WO(){const t=window.devicePixelRatio;t!==wS&&(wS=t,fu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oG(t,e){fu.size||window.addEventListener("resize",WO),fu.set(t,e)}function aG(t){fu.delete(t),fu.size||window.removeEventListener("resize",WO)}function lG(t,e,n){const i=t.canvas,r=i&&yw(i);if(!r)return;const s=wO((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),oG(t,s),o}function Fg(t,e,n){n&&n.disconnect(),e==="resize"&&aG(t)}function cG(t,e,n){const i=t.canvas,r=wO(s=>{t.ctx!==null&&n(iG(s,t))},t);return tG(i,e,r),r}class uG extends BO{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(eG(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Nd])return!1;const i=n[Nd].initial;["height","width"].forEach(s=>{const o=i[s];ge(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Nd],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:rG,detach:sG,resize:lG}[n]||cG;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Fg,detach:Fg,resize:Fg}[n]||nG)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return t7(e,n,i,r)}isAttached(e){const n=e&&yw(e);return!!(n&&n.isConnected)}}function hG(t){return!gw()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?J7:uG}var ld;let vr=(ld=class{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ja(this.x)&&ja(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},Z(ld,"defaults",{}),Z(ld,"defaultRoutes"),ld);function dG(t,e){const n=t.options.ticks,i=fG(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?mG(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return gG(e,c,s,o/r),c;const u=pG(s,e,r);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(ed(e,c,u,ge(p)?0:a-p,a),d=0,f=o-1;d<f;d++)ed(e,c,u,s[d],s[d+1]);return ed(e,c,u,l,ge(p)?e.length:l+p),c}return ed(e,c,u),c}function fG(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function pG(t,e,n){const i=yG(t),r=e.length/n;if(!i)return Math.max(r,1);const s=r8(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function mG(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function gG(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function ed(t,e,n,i,r){const s=pe(i,0),o=Math.min(pe(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function yG(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const vG=t=>t==="left"?"right":t==="right"?"left":t,bS=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,ES=(t,e)=>Math.min(e||t,t);function xS(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function _G(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function wG(t,e){ke(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Ul(t){return t.drawTicks?t.tickLength:0}function TS(t,e){if(!t.display)return 0;const n=mt(t.font,e),i=Qt(t.padding);return(ze(t.text)?t.text.length:1)*n.lineHeight+i.height}function bG(t,e){return ws(t,{scale:e,type:"scale"})}function EG(t,e,n){return ws(t,{tick:n,index:e,type:"tick"})}function xG(t,e,n){let i=uw(t);return(n&&e!=="right"||!n&&e==="right")&&(i=vG(i)),i}function TG(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,p,g;const y=o-r,x=a-s;if(t.isHorizontal()){if(p=Wt(i,s,a),we(n)){const _=Object.keys(n)[0],v=n[_];g=u[_].getPixelForValue(v)+y-e}else n==="center"?g=(c.bottom+c.top)/2+y-e:g=bS(t,n,e);f=a-s}else{if(we(n)){const _=Object.keys(n)[0],v=n[_];p=u[_].getPixelForValue(v)-x+e}else n==="center"?p=(c.left+c.right)/2-x+e:p=bS(t,n,e);g=Wt(i,o,r),d=n==="left"?-rt:rt}return{titleX:p,titleY:g,maxWidth:f,rotation:d}}class Po extends vr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=wn(e,Number.POSITIVE_INFINITY),n=wn(n,Number.NEGATIVE_INFINITY),i=wn(i,Number.POSITIVE_INFINITY),r=wn(r,Number.NEGATIVE_INFINITY),{min:wn(e,i),max:wn(n,r),minDefined:Ze(e),maxDefined:Ze(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:wn(n,wn(i,n)),max:wn(i,wn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=D8(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?xS(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=dG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Me(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=ES(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=xt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:p/(i-1),d+6>a&&(a=p/(i-(e.offset?.5:1)),l=this.maxHeight-Ul(e.grid)-n.padding-TS(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=lw(Math.min(Math.asin(xt((u.highest.height+6)/a,-1,1)),Math.asin(xt(l/c,-1,1))-Math.asin(xt(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=TS(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Ul(s)+l):(e.height=this.maxHeight,e.width=Ul(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=i.padding*2,g=Jn(this.labelRotation),y=Math.cos(g),x=Math.sin(g);if(a){const _=i.mirror?0:x*d.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+_+p)}else{const _=i.mirror?0:y*d.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+_+p)}this._calculatePadding(c,u,x,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=r*e.width,p=i*n.height):(f=i*e.height,p=r*n.width):s==="start"?p=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ge(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=xS(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/ES(n,i));let c=0,u=0,d,f,p,g,y,x,_,v,S,A,D;for(d=0;d<n;d+=l){if(g=e[d].label,y=this._resolveTickFontOptions(d),r.font=x=y.string,_=s[x]=s[x]||{data:{},gc:[]},v=y.lineHeight,S=A=0,!ge(g)&&!ze(g))S=qf(r,_.data,_.gc,S,g),A=v;else if(ze(g))for(f=0,p=g.length;f<p;++f)D=g[f],!ge(D)&&!ze(D)&&(S=qf(r,_.data,_.gc,S,D),A+=v);o.push(S),a.push(A),c=Math.max(S,c),u=Math.max(A,u)}wG(s,n);const M=o.indexOf(c),E=a.indexOf(u),w=T=>({width:o[T]||0,height:a[T]||0});return{first:w(0),last:w(n-1),widest:w(M),highest:w(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return l8(this._alignToPixels?As(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=EG(this.getContext(),e,i))}return this.$context||(this.$context=bG(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Jn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Ul(s),p=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,x=y/2,_=function(Q){return As(i,Q,y)};let v,S,A,D,M,E,w,T,C,P,O,R;if(o==="top")v=_(this.bottom),E=this.bottom-f,T=v-x,P=_(e.top)+x,R=e.bottom;else if(o==="bottom")v=_(this.top),P=e.top,R=_(e.bottom)-x,E=v+x,T=this.top+f;else if(o==="left")v=_(this.right),M=this.right-f,w=v-x,C=_(e.left)+x,O=e.right;else if(o==="right")v=_(this.left),C=e.left,O=_(e.right)-x,M=v+x,w=this.left+f;else if(n==="x"){if(o==="center")v=_((e.top+e.bottom)/2+.5);else if(we(o)){const Q=Object.keys(o)[0],ie=o[Q];v=_(this.chart.scales[Q].getPixelForValue(ie))}P=e.top,R=e.bottom,E=v+x,T=E+f}else if(n==="y"){if(o==="center")v=_((e.left+e.right)/2);else if(we(o)){const Q=Object.keys(o)[0],ie=o[Q];v=_(this.chart.scales[Q].getPixelForValue(ie))}M=v-x,w=M-f,C=e.left,O=e.right}const Y=pe(r.ticks.maxTicksLimit,d),G=Math.max(1,Math.ceil(d/Y));for(S=0;S<d;S+=G){const Q=this.getContext(S),ie=s.setContext(Q),U=a.setContext(Q),B=ie.lineWidth,$=ie.color,X=U.dash||[],q=U.dashOffset,re=ie.tickWidth,oe=ie.tickColor,ue=ie.tickBorderDash||[],ve=ie.tickBorderDashOffset;A=_G(this,S,l),A!==void 0&&(D=As(i,A,B),c?M=w=C=O=D:E=T=P=R=D,p.push({tx1:M,ty1:E,tx2:w,ty2:T,x1:C,y1:P,x2:O,y2:R,width:B,color:$,borderDash:X,borderDashOffset:q,tickWidth:re,tickColor:oe,tickBorderDash:ue,tickBorderDashOffset:ve}))}return this._ticksLength=d,this._borderValue=v,p}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=Ul(i.grid),p=f+u,g=d?-u:p,y=-Jn(this.labelRotation),x=[];let _,v,S,A,D,M,E,w,T,C,P,O,R="middle";if(r==="top")M=this.bottom-g,E=this._getXAxisLabelAlignment();else if(r==="bottom")M=this.top+g,E=this._getXAxisLabelAlignment();else if(r==="left"){const G=this._getYAxisLabelAlignment(f);E=G.textAlign,D=G.x}else if(r==="right"){const G=this._getYAxisLabelAlignment(f);E=G.textAlign,D=G.x}else if(n==="x"){if(r==="center")M=(e.top+e.bottom)/2+p;else if(we(r)){const G=Object.keys(r)[0],Q=r[G];M=this.chart.scales[G].getPixelForValue(Q)+p}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")D=(e.left+e.right)/2-p;else if(we(r)){const G=Object.keys(r)[0],Q=r[G];D=this.chart.scales[G].getPixelForValue(Q)}E=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const Y=this._getLabelSizes();for(_=0,v=a.length;_<v;++_){S=a[_],A=S.label;const G=s.setContext(this.getContext(_));w=this.getPixelForTick(_)+s.labelOffset,T=this._resolveTickFontOptions(_),C=T.lineHeight,P=ze(A)?A.length:1;const Q=P/2,ie=G.color,U=G.textStrokeColor,B=G.textStrokeWidth;let $=E;o?(D=w,E==="inner"&&(_===v-1?$=this.options.reverse?"left":"right":_===0?$=this.options.reverse?"right":"left":$="center"),r==="top"?c==="near"||y!==0?O=-P*C+C/2:c==="center"?O=-Y.highest.height/2-Q*C+C:O=-Y.highest.height+C/2:c==="near"||y!==0?O=C/2:c==="center"?O=Y.highest.height/2-Q*C:O=Y.highest.height-P*C,d&&(O*=-1),y!==0&&!G.showLabelBackdrop&&(D+=C/2*Math.sin(y))):(M=w,O=(1-P)*C/2);let X;if(G.showLabelBackdrop){const q=Qt(G.backdropPadding),re=Y.heights[_],oe=Y.widths[_];let ue=O-q.top,ve=0-q.left;switch(R){case"middle":ue-=re/2;break;case"bottom":ue-=re;break}switch(E){case"center":ve-=oe/2;break;case"right":ve-=oe;break;case"inner":_===v-1?ve-=oe:_>0&&(ve-=oe/2);break}X={left:ve,top:ue,width:oe+q.width,height:re+q.height,color:G.backdropColor}}x.push({label:A,font:T,textOffset:O,options:{rotation:y,color:ie,strokeColor:U,strokeWidth:B,textAlign:$,textBaseline:R,translation:[D,M],backdrop:X}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Jn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=As(e,this.left,o)-o/2,u=As(e,this.right,a)+a/2,d=f=l):(d=As(e,this.top,o)-o/2,f=As(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&im(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;wo(i,c,0,u,l,a)}r&&rm(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=mt(i.font),o=Qt(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||we(n)?(l+=o.bottom,ze(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=TG(this,l,n,a);wo(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:xG(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=pe(e.grid&&e.grid.z,-1),r=pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Po.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return mt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class td{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;CG(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,SG(e,o,i),this.override&&We.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in We[r]&&(delete We[r][i],this.override&&delete _o[i])}}function SG(t,e,n){const i=cu(Object.create(null),[n?We.get(n):{},We.get(e),t.defaults]);We.set(e,i),t.defaultRoutes&&IG(e,t.defaultRoutes),t.descriptors&&We.describe(e,t.descriptors)}function IG(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");We.route(s,r,l,a)})}function CG(t){return"id"in t&&"defaults"in t}class kG{constructor(){this.controllers=new td(ii,"datasets",!0),this.elements=new td(vr,"elements"),this.plugins=new td(Object,"plugins"),this.scales=new td(Po,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ke(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=aw(e);Me(i["before"+r],[],i),n[e](i),Me(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var vi=new kG;class PG{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Me(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=pe(i.options&&i.options.plugins,{}),s=AG(i);return r===!1&&!n?[]:OG(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function AG(t){const e={},n=[],i=Object.keys(vi.plugins.items);for(let s=0;s<i.length;s++)n.push(vi.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function RG(t,e){return!e&&t===!1?null:t===!0?{}:t}function OG(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=RG(i[l],r);c!==null&&s.push({plugin:a,options:DG(t.config,{plugin:a,local:n[l]},c,o)})}return s}function DG(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ov(t,e){const n=We.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function MG(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function LG(t,e){return t===e?"_index_":"_value_"}function SS(t){if(t==="x"||t==="y"||t==="r")return t}function NG(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Dv(t,...e){if(SS(t))return t;for(const n of e){const i=n.axis||NG(n.position)||t.length>1&&SS(t[0].toLowerCase());if(i)return i}throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function IS(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function VG(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return IS(t,"x",n[0])||IS(t,"y",n[0])}return{}}function FG(t,e){const n=_o[t.type]||{scales:{}},i=e.scales||{},r=Ov(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!we(a))return console.error("Invalid scale configuration for scale: ".concat(o));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(o));const l=Dv(o,a,VG(o,t),We.scales[a.type]),c=LG(l,r),u=n.scales||{};s[o]=bc(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Ov(a,e),u=(_o[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=MG(d,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),bc(s[p],[{axis:f},i[p],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];bc(a,[We.scales[a.type],We.scale])}),s}function HO(t){const e=t.options||(t.options={});e.plugins=pe(e.plugins,{}),e.scales=FG(t,e)}function qO(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function $G(t){return t=t||{},t.data=qO(t.data),HO(t),t}const CS=new Map,GO=new Set;function nd(t,e){let n=CS.get(t);return n||(n=e(),CS.set(t,n),GO.add(n)),n}const Bl=(t,e,n)=>{const i=ds(e,n);i!==void 0&&t.add(i)};class jG{constructor(e){this._config=$G(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),HO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return nd(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,n){return nd("".concat(e,".transition.").concat(n),()=>[["datasets.".concat(e,".transitions.").concat(n),"transitions.".concat(n)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,n){return nd("".concat(e,"-").concat(n),()=>[["datasets.".concat(e,".elements.").concat(n),"datasets.".concat(e),"elements.".concat(n),""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return nd("".concat(i,"-plugin-").concat(n),()=>[["plugins.".concat(n),...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Bl(l,e,d))),u.forEach(d=>Bl(l,r,d)),u.forEach(d=>Bl(l,_o[s]||{},d)),u.forEach(d=>Bl(l,We,d)),u.forEach(d=>Bl(l,Pv,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),GO.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,_o[n]||{},We.datasets[n]||{},{type:n},We,Pv]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=kS(this._resolverCache,e,r);let l=o;if(BG(o,n)){s.$shared=!1,i=fs(i)?i():i;const c=this.createResolver(e,i,a);l=Ua(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=kS(this._resolverCache,e,i);return we(n)?Ua(s,n,void 0,r):s}}function kS(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:fw(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const UG=t=>we(t)&&Object.getOwnPropertyNames(t).some(e=>fs(t[e]));function BG(t,e){const{isScriptable:n,isIndexable:i}=IO(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(fs(a)||UG(a))||o&&ze(a))return!0}return!1}var zG="4.4.8";const WG=["top","bottom","left","right","chartArea"];function PS(t,e){return t==="top"||t==="bottom"||WG.indexOf(t)===-1&&e==="x"}function AS(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function RS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Me(n&&n.onComplete,[t],e)}function HG(t){const e=t.chart,n=e.options.animation;Me(n&&n.onProgress,[t],e)}function KO(t){return gw()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Vd={},OS=t=>{const e=KO(t);return Object.values(Vd).filter(n=>n.canvas===e).pop()};function qG(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function GG(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function id(t,e,n){return t.options.clip?t[n]:e[n]}function KG(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:id(n,e,"left"),right:id(n,e,"right"),top:id(i,e,"top"),bottom:id(i,e,"bottom")}:e}var Ar;let Gu=(Ar=class{static register(...e){vi.add(...e),DS()}static unregister(...e){vi.remove(...e),DS()}constructor(e,n){const i=this.config=new jG(n),r=KO(e),s=OS(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||hG(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Yq(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=d8(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Vd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Bi.listen(this,"complete",RS),Bi.listen(this,"progress",HG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return ge(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return vi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return JT(this.canvas,this.ctx),this}stop(){return Bi.stop(this),this}resize(e,n){Bi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tS(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Me(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ke(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Dv(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ke(s,o=>{const a=o.options,l=a.id,c=Dv(l,a),u=pe(a.type,o.dtype);(a.position===void 0||PS(a.position,c)!==PS(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const f=vi.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),ke(r,(o,a)=>{o||delete i[a]}),ke(i,o=>{Kt.configure(this,o,o.options),Kt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(AS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Ov(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=vi.getController(a),{datasetElementType:c,dataElementType:u}=We.datasets[a];Object.assign(l,{dataElementType:vi.getElement(u),datasetElementType:c&&vi.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ke(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ke(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(AS("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ke(this.scales,e=>{Kt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!zT(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;qG(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!zT(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Kt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ke(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,fs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bi.has(this)?this.attached&&!Bi.running(this)&&Bi.start(this):(this.draw(),RS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=KG(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&im(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&rm(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return nr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=W7.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ws(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);uu(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Bi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),JT(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Vd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ke(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ke(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ke(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!zf(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=t8(e),c=GG(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Me(s.onHover,[e,a,this],this),l&&Me(s.onClick,[e,a,this],this));const u=!zf(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},Z(Ar,"defaults",We),Z(Ar,"instances",Vd),Z(Ar,"overrides",_o),Z(Ar,"registry",vi),Z(Ar,"version",zG),Z(Ar,"getChart",OS),Ar);function DS(){return ke(Gu.instances,t=>t._plugins.invalidate())}function YG(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+rt,i-rt),t.closePath(),t.clip()}function QG(t){return dw(t,["outerStart","outerEnd","innerStart","innerEnd"])}function XG(t,e,n,i){const r=QG(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return xt(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:xt(r.innerStart,0,o),innerEnd:xt(r.innerEnd,0,o)}}function zo(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Yf(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let p=0;const g=r-l;if(i){const G=u>0?u-i:0,Q=d>0?d-i:0,ie=(G+Q)/2,U=ie!==0?g*ie/(ie+i):g;p=(g-U)/2}const y=Math.max(.001,g*d-n/Ue)/d,x=(g-y)/2,_=l+x+p,v=r-x-p,{outerStart:S,outerEnd:A,innerStart:D,innerEnd:M}=XG(e,f,d,v-_),E=d-S,w=d-A,T=_+S/E,C=v-A/w,P=f+D,O=f+M,R=_+D/P,Y=v-M/O;if(t.beginPath(),s){const G=(T+C)/2;if(t.arc(o,a,d,T,G),t.arc(o,a,d,G,C),A>0){const B=zo(w,C,o,a);t.arc(B.x,B.y,A,C,v+rt)}const Q=zo(O,v,o,a);if(t.lineTo(Q.x,Q.y),M>0){const B=zo(O,Y,o,a);t.arc(B.x,B.y,M,v+rt,Y+Math.PI)}const ie=(v-M/f+(_+D/f))/2;if(t.arc(o,a,f,v-M/f,ie,!0),t.arc(o,a,f,ie,_+D/f,!0),D>0){const B=zo(P,R,o,a);t.arc(B.x,B.y,D,R+Math.PI,_-rt)}const U=zo(E,_,o,a);if(t.lineTo(U.x,U.y),S>0){const B=zo(E,T,o,a);t.arc(B.x,B.y,S,_-rt,T)}}else{t.moveTo(o,a);const G=Math.cos(T)*d+o,Q=Math.sin(T)*d+a;t.lineTo(G,Q);const ie=Math.cos(C)*d+o,U=Math.sin(C)*d+a;t.lineTo(ie,U)}t.closePath()}function JG(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Yf(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%je||je))}return Yf(t,e,n,i,l,r),t.fill(),l}function ZG(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(s){Yf(t,e,n,i,g,r);for(let y=0;y<s;++y)t.stroke();isNaN(a)||(g=o+(a%je||je))}p&&YG(t,e,g),s||(Yf(t,e,n,i,g,r),t.stroke())}class nc extends vr{constructor(n){super();Z(this,"circumference");Z(this,"endAngle");Z(this,"fullCircles");Z(this,"innerRadius");Z(this,"outerRadius");Z(this,"pixelMargin");Z(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=gO(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,g=pe(f,c-l),y=hu(o,l,c)&&l!==c,x=g>=je||y,_=er(a,u+p,d+p);return x&&_}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>je?Math.floor(r/je):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Ue,r||0)),u=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,JG(n,this,u,o,a),ZG(n,this,u,o,a),n.restore()}}Z(nc,"id","arc"),Z(nc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Z(nc,"defaultRoutes",{backgroundColor:"backgroundColor"}),Z(nc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function YO(t,e,n=e){t.lineCap=pe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(pe(n.borderDash,e.borderDash)),t.lineDashOffset=pe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=pe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=pe(n.borderWidth,e.borderWidth),t.strokeStyle=pe(n.borderColor,e.borderColor)}function eK(t,e,n){t.lineTo(n.x,n.y)}function tK(t){return t.stepped?T8:t.tension||t.cubicInterpolationMode==="monotone"?S8:eK}function QO(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function nK(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=QO(r,n,i),u=tK(s);let{move:d=!0,reverse:f}=i||{},p,g,y;for(p=0;p<=c;++p)g=r[(a+(f?c-p:p))%o],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,y,g,f,s.stepped),y=g);return l&&(g=r[(a+(f?c:0))%o],u(t,y,g,f,s.stepped)),!!l}function iK(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=QO(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,f,p,g,y,x,_;const v=A=>(o+(c?a-A:A))%s,S=()=>{y!==x&&(t.lineTo(u,x),t.lineTo(u,y),t.lineTo(u,_))};for(l&&(p=r[v(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=r[v(f)],p.skip)continue;const A=p.x,D=p.y,M=A|0;M===g?(D<y?y=D:D>x&&(x=D),u=(d*u+A)/++d):(S(),t.lineTo(A,D),g=M,d=0,y=x=D),_=D}S()}function Mv(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?iK:nK}function rK(t){return t.stepped?i7:t.tension||t.cubicInterpolationMode==="monotone"?r7:Fs}function sK(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),YO(t,e.options),t.stroke(r)}function oK(t,e,n,i){const{segments:r,options:s}=e,o=Mv(e);for(const a of r)YO(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const aK=typeof Path2D=="function";function lK(t,e,n,i){aK&&!e.options.segment?sK(t,e,n,i):oK(t,e,n,i)}class ir extends vr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Y8(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=u7(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=NO(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=rK(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],p=s[d],g=s[f];if(p===g){a.push(p);continue}const y=Math.abs((r-p[n])/(g[n]-p[n])),x=l(p,g,y,i.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Mv(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Mv(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),lK(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Z(ir,"id","line"),Z(ir,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Z(ir,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Z(ir,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function MS(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class kc extends vr{constructor(n){super();Z(this,"parsed");Z(this,"skip");Z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return MS(this,n,"x",i)}inYRange(n,i){return MS(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!nr(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Av(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Z(kc,"id","point"),Z(kc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Z(kc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function XO(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Wr(t,e,n,i){return t?0:xt(e,n,i)}function cK(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=SO(i);return{t:Wr(r.top,s.top,0,n),r:Wr(r.right,s.right,0,e),b:Wr(r.bottom,s.bottom,0,n),l:Wr(r.left,s.left,0,e)}}function uK(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Js(r),o=Math.min(e,n),a=t.borderSkipped,l=i||we(r);return{topLeft:Wr(!l||a.top||a.left,s.topLeft,0,o),topRight:Wr(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Wr(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Wr(!l||a.bottom||a.right,s.bottomRight,0,o)}}function hK(t){const e=XO(t),n=e.right-e.left,i=e.bottom-e.top,r=cK(t,n/2,i/2),s=uK(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function $g(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&XO(t,i);return a&&(r||er(e,a.left,a.right))&&(s||er(n,a.top,a.bottom))}function dK(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function fK(t,e){t.rect(e.x,e.y,e.w,e.h)}function jg(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Pc extends vr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=hK(this),a=dK(o.radius)?du:fK;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,jg(o,n,s)),e.clip(),a(e,jg(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,jg(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return $g(this,e,n,i)}inXRange(e,n){return $g(this,e,null,n)}inYRange(e,n){return $g(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Z(Pc,"id","bar"),Z(Pc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Z(Pc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var pK=Object.freeze({__proto__:null,ArcElement:nc,BarElement:Pc,LineElement:ir,PointElement:kc});const Lv=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],LS=Lv.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function JO(t){return Lv[t%Lv.length]}function ZO(t){return LS[t%LS.length]}function mK(t,e){return t.borderColor=JO(e),t.backgroundColor=ZO(e),++e}function gK(t,e){return t.backgroundColor=t.data.map(()=>JO(e++)),e}function yK(t,e){return t.backgroundColor=t.data.map(()=>ZO(e++)),e}function vK(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof Hs?e=gK(n,e):r instanceof Cc?e=yK(n,e):r&&(e=mK(n,e))}}function NS(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function _K(t){return t&&(t.borderColor||t.backgroundColor)}function wK(){return We.borderColor!=="rgba(0,0,0,0.1)"||We.backgroundColor!=="rgba(0,0,0,0.1)"}var bK={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r,o=NS(i)||_K(r)||s&&NS(s)||wK();if(!n.forceOverride&&o)return;const a=vK(t);i.forEach(a)}};function EK(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,d,f,p,g,y;for(o[l++]=t[u],d=0;d<s-2;d++){let x=0,_=0,v;const S=Math.floor((d+1)*a)+1+e,A=Math.min(Math.floor((d+2)*a)+1,n)+e,D=A-S;for(v=S;v<A;v++)x+=t[v].x,_+=t[v].y;x/=D,_/=D;const M=Math.floor(d*a)+1+e,E=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:w,y:T}=t[u];for(p=g=-1,v=M;v<E;v++)g=.5*Math.abs((w-x)*(t[v].y-T)-(w-t[v].x)*(_-T)),g>p&&(p=g,f=t[v],y=v);o[l++]=f,u=y}return o[l++]=t[c],o}function xK(t,e,n,i){let r=0,s=0,o,a,l,c,u,d,f,p,g,y;const x=[],_=e+n-1,v=t[e].x,A=t[_].x-v;for(o=e;o<e+n;++o){a=t[o],l=(a.x-v)/A*i,c=a.y;const D=l|0;if(D===u)c<g?(g=c,d=o):c>y&&(y=c,f=o),r=(s*r+a.x)/++s;else{const M=o-1;if(!ge(d)&&!ge(f)){const E=Math.min(d,f),w=Math.max(d,f);E!==p&&E!==M&&x.push({...t[E],x:r}),w!==p&&w!==M&&x.push({...t[w],x:r})}o>0&&M!==p&&x.push(t[M]),x.push(a),u=D,s=0,g=y=c,d=f=p=o}}return x}function eD(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function VS(t){t.data.datasets.forEach(e=>{eD(e)})}function TK(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=xt(tr(e,s.axis,o).lo,0,n-1)),c?r=xt(tr(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var SK={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){VS(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(ec([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:f}=TK(l,c);const p=n.threshold||4*i;if(f<=p){eD(r);return}ge(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(n.algorithm){case"lttb":g=EK(c,d,f,i,n);break;case"min-max":g=xK(c,d,f,i);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}r._decimated=g})},destroy(t){VS(t)}};function IK(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=_w(l,c,r);const u=Nv(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const d=NO(e,u);for(const f of d){const p=Nv(n,s[f.start],s[f.end],f.loop),g=LO(a,r,p);for(const y of g)o.push({source:y,target:f,start:{[n]:FS(u,p,"start",Math.max)},end:{[n]:FS(u,p,"end",Math.min)}})}}return o}function Nv(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=xn(r),s=xn(s)),{property:t,start:r,end:s}}function CK(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=_w(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function _w(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function FS(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function tD(t,e){let n=[],i=!1;return ze(t)?(i=!0,n=t):n=CK(t,e),n.length?new ir({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function $S(t){return t&&t.fill!==!1}function kK(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Ze(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function PK(t,e,n){const i=DK(t);if(we(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ze(r)&&Math.floor(r)===r?AK(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function AK(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function RK(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:we(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function OK(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:we(t)?i=t.value:i=e.getBaseValue(),i}function DK(t){const e=t.options,n=e.fill;let i=pe(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function MK(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=LK(e,n);a.push(tD({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)NK(r,o[u],a)}return new ir({points:r,options:{}})}function LK(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function NK(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=VK(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function VK(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][n],f=o[u.end][n];if(er(r,d,f)){a=r===d,l=r===f;break}}return{first:a,last:l,point:i}}class nD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:je},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function FK(t){const{chart:e,fill:n,line:i}=t;if(Ze(n))return $K(e,n);if(n==="stack")return MK(t);if(n==="shape")return!0;const r=jK(t);return r instanceof nD?r:tD(r,i)}function $K(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function jK(t){return(t.scale||{}).getPointPositionForValue?BK(t):UK(t)}function UK(t){const{scale:e={},fill:n}=t,i=RK(n,e);if(Ze(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function BK(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=OK(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new nD({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Ug(t,e,n){const i=FK(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(im(t,n),zK(t,{line:r,target:i,above:u,below:d,area:n,scale:s,axis:o}),rm(t))}function zK(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(jS(t,i,o.top),US(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),jS(t,i,o.bottom)),US(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function jS(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],d=r[_w(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function US(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=IK(n,i,r);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:f=s}={}}=l,p=i!==!0;t.save(),t.fillStyle=f,WK(t,o,p&&Nv(r,u,d)),t.beginPath();const g=!!n.pathSegment(t,l);let y;if(p){g?t.closePath():BS(t,i,d,r);const x=!!i.pathSegment(t,c,{move:g,reverse:!0});y=g&&x,y||BS(t,i,u,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function WK(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function BS(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var HK={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof ir&&(l={visible:t.isDatasetVisible(o),index:o,fill:PK(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=kK(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Ug(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;$S(s)&&Ug(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!$S(i)||n.drawTime!=="beforeDatasetDraw"||Ug(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zS=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},qK=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class WS extends vr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Me(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=mt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=zS(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,y)=>{const x=i+n/2+s.measureText(g.text).width;(y===0||c[c.length-1]+x+2*a>o)&&(d+=u,c[c.length-(y>0?0:1)]=0,p+=u,f++),l[y]={left:0,top:p,row:f,width:x,height:r},c[c.length-1]+=x+a}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,p=0,g=0,y=0;return this.legendItems.forEach((x,_)=>{const{itemWidth:v,itemHeight:S}=GK(i,n,s,x,r);_>0&&p+S+2*a>u&&(d+=f+a,c.push({width:f,height:p}),g+=f+a,y++,f=p=0),l[_]={left:g,top:p,col:y,width:v,height:S},f=Math.max(f,v),p+=S+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ba(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Wt(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Wt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Wt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Wt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;im(e,this),this._draw(),rm(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=We.color,l=ba(e.rtl,this.left,this.width),c=mt(o.font),{padding:u}=o,d=c.size,f=d/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:g,boxHeight:y,itemHeight:x}=zS(o,d),_=function(M,E,w){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();const T=pe(w.lineWidth,1);if(r.fillStyle=pe(w.fillStyle,a),r.lineCap=pe(w.lineCap,"butt"),r.lineDashOffset=pe(w.lineDashOffset,0),r.lineJoin=pe(w.lineJoin,"miter"),r.lineWidth=T,r.strokeStyle=pe(w.strokeStyle,a),r.setLineDash(pe(w.lineDash,[])),o.usePointStyle){const C={radius:y*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:T},P=l.xPlus(M,g/2),O=E+f;TO(r,C,P,O,o.pointStyleWidth&&g)}else{const C=E+Math.max((d-y)/2,0),P=l.leftForLtr(M,g),O=Js(w.borderRadius);r.beginPath(),Object.values(O).some(R=>R!==0)?du(r,{x:P,y:C,w:g,h:y,radius:O}):r.rect(P,C,g,y),r.fill(),T!==0&&r.stroke()}r.restore()},v=function(M,E,w){wo(r,w.text,M,E+x/2,c,{strikethrough:w.hidden,textAlign:l.textAlign(w.textAlign)})},S=this.isHorizontal(),A=this._computeTitleHeight();S?p={x:Wt(s,this.left+u,this.right-i[0]),y:this.top+u+A,line:0}:p={x:this.left+u,y:Wt(s,this.top+A+u,this.bottom-n[0].height),line:0},OO(this.ctx,e.textDirection);const D=x+u;this.legendItems.forEach((M,E)=>{r.strokeStyle=M.fontColor,r.fillStyle=M.fontColor;const w=r.measureText(M.text).width,T=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),C=g+f+w;let P=p.x,O=p.y;l.setWidth(this.width),S?E>0&&P+C+u>this.right&&(O=p.y+=D,p.line++,P=p.x=Wt(s,this.left+u,this.right-i[p.line])):E>0&&O+D>this.bottom&&(P=p.x=P+n[p.line].width+u,p.line++,O=p.y=Wt(s,this.top+A+u,this.bottom-n[p.line].height));const R=l.x(P);if(_(R,O,M),P=f8(T,P+g+f,S?P+C:this.right,e.rtl),v(l.x(P),O,M),S)p.x+=C+u;else if(typeof M.text!="string"){const Y=c.lineHeight;p.y+=iD(M,Y)+u}else p.y+=D}),DO(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=mt(n.font),r=Qt(n.padding);if(!n.display)return;const s=ba(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Wt(e.align,d,this.right-f);else{const g=this.columnSizes.reduce((y,x)=>Math.max(y,x.height),0);u=c+Wt(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=Wt(a,d,d+f);o.textAlign=s.textAlign(uw(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,wo(o,n.text,p,u,i)}_computeTitleHeight(){const e=this.options.title,n=mt(e.font),i=Qt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(er(e,this.left,this.right)&&er(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],er(e,r.left,r.left+r.width)&&er(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!QK(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=qK(r,i);r&&!s&&Me(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Me(n.onHover,[e,i,this],this)}else i&&Me(n.onClick,[e,i,this],this)}}function GK(t,e,n,i,r){const s=KK(i,t,e,n),o=YK(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function KK(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function YK(t,e,n){let i=t;return typeof e.text!="string"&&(i=iD(e,n)),i}function iD(t,e){const n=t.text?t.text.length:0;return e*n}function QK(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var rD={id:"legend",_element:WS,start(t,e,n){const i=t.legend=new WS({ctx:t.ctx,options:n,chart:t});Kt.configure(t,i,n),Kt.addBox(t,i)},stop(t){Kt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Kt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Qt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ww extends vr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=ze(i.text)?i.text.length:1;this._padding=Qt(i.padding);const s=r*mt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Wt(a,i,s),d=n+e,c=s-i):(o.position==="left"?(u=i+e,d=Wt(a,r,n),l=Ue*-.5):(u=s-e,d=Wt(a,n,r),l=Ue*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=mt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);wo(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:uw(n.align),textBaseline:"middle",translation:[o,a]})}}function XK(t,e){const n=new ww({ctx:t.ctx,options:e,chart:t});Kt.configure(t,n,e),Kt.addBox(t,n),t.titleBlock=n}var sD={id:"title",_element:ww,start(t,e,n){XK(t,n)},stop(t){const e=t.titleBlock;Kt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Kt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rd=new WeakMap;var JK={id:"subtitle",start(t,e,n){const i=new ww({ctx:t.ctx,options:n,chart:t});Kt.configure(t,i,n),Kt.addBox(t,i),rd.set(t,i)},stop(t){Kt.removeBox(t,rd.get(t)),rd.delete(t)},beforeUpdate(t,e,n){const i=rd.get(t);Kt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ic={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=kv(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function gi(t,e){return e&&(ze(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function ZK(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function HS(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=mt(e.bodyFont),c=mt(e.titleFont),u=mt(e.footerFont),d=s.length,f=r.length,p=i.length,g=Qt(e.padding);let y=g.height,x=0,_=i.reduce((A,D)=>A+D.before.length+D.lines.length+D.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),_){const A=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*A+(_-p)*l.lineHeight+(_-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const S=function(A){x=Math.max(x,n.measureText(A).width+v)};return n.save(),n.font=c.string,ke(t.title,S),n.font=l.string,ke(t.beforeBody.concat(t.afterBody),S),v=e.displayColors?o+2+e.boxPadding:0,ke(i,A=>{ke(A.before,S),ke(A.lines,S),ke(A.after,S)}),v=0,n.font=u.string,ke(t.footer,S),n.restore(),x+=g.width,{width:x,height:y}}function eY(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function tY(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function nY(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),tY(c,t,e,n)&&(c="center"),c}function qS(t,e,n){const i=n.yAlign||e.yAlign||eY(t,n);return{xAlign:n.xAlign||e.xAlign||nY(t,e,n,i),yAlign:i}}function iY(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function rY(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function GS(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=Js(o);let g=iY(e,a);const y=rY(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+r:a==="right"&&(g+=Math.max(d,p)+r),{x:xt(g,0,i.width-e.width),y:xt(y,0,i.height-e.height)}}function sd(t,e,n){const i=Qt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function KS(t){return gi([],zi(t))}function sY(t,e,n){return ws(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function YS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const oD={beforeTitle:Ui,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ui,beforeBody:Ui,beforeLabel:Ui,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ge(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ui,afterBody:Ui,beforeFooter:Ui,footer:Ui,afterFooter:Ui};function on(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?oD[e].call(n,i):r}class Vv extends vr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new VO(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=sY(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=on(i,"beforeTitle",this,e),s=on(i,"title",this,e),o=on(i,"afterTitle",this,e);let a=[];return a=gi(a,zi(r)),a=gi(a,zi(s)),a=gi(a,zi(o)),a}getBeforeBody(e,n){return KS(on(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return ke(e,s=>{const o={before:[],lines:[],after:[]},a=YS(i,s);gi(o.before,zi(on(a,"beforeLabel",this,s))),gi(o.lines,on(a,"label",this,s)),gi(o.after,zi(on(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return KS(on(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=on(i,"beforeFooter",this,e),s=on(i,"footer",this,e),o=on(i,"afterFooter",this,e);let a=[];return a=gi(a,zi(r)),a=gi(a,zi(s)),a=gi(a,zi(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(ZK(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),ke(a,u=>{const d=YS(e.callbacks,u);r.push(on(d,"labelColor",this,u)),s.push(on(d,"labelPointStyle",this,u)),o.push(on(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=ic[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=HS(this,i),c=Object.assign({},a,l),u=qS(this.chart,i,c),d=GS(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Js(a),{x:f,y:p}=e,{width:g,height:y}=n;let x,_,v,S,A,D;return s==="center"?(A=p+y/2,r==="left"?(x=f,_=x-o,S=A+o,D=A-o):(x=f+g,_=x+o,S=A-o,D=A+o),v=x):(r==="left"?_=f+Math.max(l,u)+o:r==="right"?_=f+g-Math.max(c,d)-o:_=this.caretX,s==="top"?(S=p,A=S-o,x=_-o,v=_+o):(S=p+y,A=S+o,x=_+o,v=_-o),D=S),{x1:x,x2:_,x3:v,y1:S,y2:A,y3:D}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=ba(i.rtl,this.x,this.width);for(e.x=sd(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=mt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=mt(s.bodyFont),d=sd(this,"left",s),f=r.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+p;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=r.leftForLtr(f,c)+c/2,_=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Av(e,y,x,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Av(e,y,x,_)}else{e.lineWidth=we(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(f,c),x=r.leftForLtr(r.xPlus(f,1),c-2),_=Js(o.borderRadius);Object.values(_).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,du(e,{x:y,y:g,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),du(e,{x,y:g+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,g,c,l),e.strokeRect(y,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=mt(i.bodyFont);let f=d.lineHeight,p=0;const g=ba(i.rtl,this.x,this.width),y=function(w){n.fillText(w,g.x(e.x+p),e.y+f/2),e.y+=f+s},x=g.textAlign(o);let _,v,S,A,D,M,E;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=sd(this,x,i),n.fillStyle=i.bodyColor,ke(this.beforeBody,y),p=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,A=0,M=r.length;A<M;++A){for(_=r[A],v=this.labelTextColors[A],n.fillStyle=v,ke(_.before,y),S=_.lines,a&&S.length&&(this._drawColorBox(n,e,A,g,i),f=Math.max(d.lineHeight,l)),D=0,E=S.length;D<E;++D)y(S[D]),f=d.lineHeight;ke(_.after,y)}p=0,f=d.lineHeight,ke(this.afterBody,y),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=ba(i.rtl,this.x,this.width);for(e.x=sd(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=mt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=Js(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=ic[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=HS(this,e),l=Object.assign({},o,this._size),c=qS(n,e,l),u=GS(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Qt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),OO(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),DO(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!zf(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!zf(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=ic[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}Z(Vv,"positioners",ic);var aD={id:"tooltip",_element:Vv,positioners:ic,afterInit(t,e,n){n&&(t.tooltip=new Vv({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},oY=Object.freeze({__proto__:null,Colors:bK,Decimation:SK,Filler:HK,Legend:rD,SubTitle:JK,Title:sD,Tooltip:aD});const aY=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function lY(t,e,n,i){const r=t.indexOf(e);if(r===-1)return aY(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const cY=(t,e)=>t===null?null:xt(Math.round(t),0,e);function QS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Qf extends Po{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ge(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:lY(i,e,pe(n,e),this._addedLabels),cY(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return QS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Z(Qf,"id","category"),Z(Qf,"defaults",{ticks:{callback:QS}});function uY(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,p=s||1,g=u-1,{min:y,max:x}=e,_=!ge(o),v=!ge(a),S=!ge(c),A=(x-y)/(d+1);let D=HT((x-y)/g/p)*p,M,E,w,T;if(D<1e-14&&!_&&!v)return[{value:y},{value:x}];T=Math.ceil(x/D)-Math.floor(y/D),T>g&&(D=HT(T*D/g/p)*p),ge(l)||(M=Math.pow(10,l),D=Math.ceil(D*M)/M),r==="ticks"?(E=Math.floor(y/D)*D,w=Math.ceil(x/D)*D):(E=y,w=x),_&&v&&s&&o8((a-o)/s,D/1e3)?(T=Math.round(Math.min((a-o)/D,u)),D=(a-o)/T,E=o,w=a):S?(E=_?o:E,w=v?a:w,T=c-1,D=(w-E)/T):(T=(w-E)/D,Ec(T,Math.round(T),D/1e3)?T=Math.round(T):T=Math.ceil(T));const C=Math.max(qT(D),qT(E));M=Math.pow(10,ge(l)?C:l),E=Math.round(E*M)/M,w=Math.round(w*M)/M;let P=0;for(_&&(f&&E!==o?(n.push({value:o}),E<o&&P++,Ec(Math.round((E+P*D)*M)/M,o,XS(o,A,t))&&P++):E<o&&P++);P<T;++P){const O=Math.round((E+P*D)*M)/M;if(v&&O>a)break;n.push({value:O})}return v&&f&&w!==a?n.length&&Ec(n[n.length-1].value,a,XS(a,A,t))?n[n.length-1].value=a:n.push({value:a}):(!v||w===a)&&n.push({value:w}),n}function XS(t,e,{horizontal:n,minRotation:i}){const r=Jn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Xf extends Po{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Di(r),c=Di(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(r," ticks. Limiting to 1000.")),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=uY(r,s);return e.bounds==="ticks"&&mO(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Hu(e,this.chart.options.locale,this.options.ticks.format)}}class Jf extends Xf{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ze(e)?e:0,this.max=Ze(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Jn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Z(Jf,"id","linear"),Z(Jf,"defaults",{ticks:{callback:nm.formatters.numeric}});const pu=t=>Math.floor(zr(t)),Os=(t,e)=>Math.pow(10,pu(t)+e);function JS(t){return t/Math.pow(10,pu(t))===1}function ZS(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function hY(t,e){const n=e-t;let i=pu(n);for(;ZS(t,e,i)>10;)i++;for(;ZS(t,e,i)<10;)i--;return Math.min(i,pu(t))}function dY(t,{min:e,max:n}){e=wn(t.min,e);const i=[],r=pu(e);let s=hY(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),f=wn(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:JS(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),f=Math.round((l+u+d*Math.pow(10,s))*o)/o;const p=wn(t.max,f);return i.push({value:p,major:JS(p),significand:d}),i}class Fv extends Po{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Xf.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ze(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ze(e)?Math.max(0,e):null,this.max=Ze(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ze(this._userMin)&&(this.min=e===Os(this.min,0)?Os(this.min,-1):Os(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Os(i,-1)),o(Os(r,1)))),i<=0&&s(Os(r,-1)),r<=0&&o(Os(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=dY(n,this);return e.bounds==="ticks"&&mO(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Hu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=zr(e),this._valueRange=zr(this.max)-zr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(zr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Z(Fv,"id","logarithmic"),Z(Fv,"defaults",{ticks:{callback:nm.formatters.logarithmic,major:{enabled:!0}}});function $v(t){const e=t.ticks;if(e.display&&t.display){const n=Qt(e.backdropPadding);return pe(e.font&&e.font.size,We.font.size)+n.height}return 0}function fY(t,e,n){return n=ze(n)?n:[n],{w:x8(t,e.string,n),h:n.length*e.lineHeight}}function e1(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function pY(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ue/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),d=mt(c.font),f=fY(t.ctx,d,t._pointLabels[l]);i[l]=f;const p=xn(t.getIndexAngle(l)+a),g=Math.round(lw(p)),y=e1(g,u.x,f.w,0,180),x=e1(g,u.y,f.h,90,270);mY(n,e,p,y,x)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=vY(t,i,r)}function mY(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function gY(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(lw(xn(l.angle+rt))),u=bY(l.y,a.h,c),d=_Y(c),f=wY(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function yY(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(nr({x:n,y:i},e)||nr({x:n,y:s},e)||nr({x:r,y:i},e)||nr({x:r,y:s},e))}function vY(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:$v(s)/2,additionalAngle:o?Ue/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const d=gY(t,u,l);i.push(d),a==="auto"&&(d.visible=yY(d,c),d.visible&&(c=d))}return i}function _Y(t){return t===0||t===180?"center":t<180?"left":"right"}function wY(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function bY(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function EY(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!ge(a)){const l=Js(e.borderRadius),c=Qt(e.backdropPadding);t.fillStyle=a;const u=i-c.left,d=r-c.top,f=s-i+c.width,p=o-r+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),du(t,{x:u,y:d,w:f,h:p,radius:l}),t.fill()):t.fillRect(u,d,f,p)}}function xY(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));EY(n,o,s);const a=mt(o.font),{x:l,y:c,textAlign:u}=s;wo(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function lD(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,je);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function TY(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),lD(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function SY(t,e,n){return ws(t,{label:n,index:e,type:"pointLabel"})}class rc extends Xf{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Qt($v(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ze(e)&&!isNaN(e)?e:0,this.max=Ze(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$v(this.options))}generateTickLabels(e){Xf.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=Me(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?pY(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=je/(this._pointLabels.length||1),i=this.options.startAngle||0;return xn(e*n+Jn(i))}getDistanceFromCenterForValue(e){if(ge(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ge(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return SY(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-rt+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),lD(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&xY(this,o),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(d),p=r.setContext(f),g=s.setContext(f);TY(this,p,l,o,g)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=mt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Qt(c.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}wo(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}Z(rc,"id","radialLinear"),Z(rc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:nm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Z(rc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Z(rc,"descriptors",{angleLines:{_fallback:"grid"}});const om={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dn=Object.keys(om);function t1(t,e){return t-e}function n1(t,e){if(ge(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ze(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(ja(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function i1(t,e,n,i){const r=dn.length;for(let s=dn.indexOf(t);s<r-1;++s){const o=om[dn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return dn[s]}return dn[r-1]}function IY(t,e,n,i,r){for(let s=dn.length-1;s>=dn.indexOf(n);s--){const o=dn[s];if(om[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return dn[n?dn.indexOf(n):0]}function CY(t){for(let e=dn.indexOf(t)+1,n=dn.length;e<n;++e)if(om[dn[e]].common)return dn[e]}function r1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=cw(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function kY(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function s1(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:kY(t,i,r,n)}class mu extends Po{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new $7._date(e.adapters.date);r.init(n),bc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:n1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Ze(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Ze(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=u8(r,s,o);return this._unit=n.unit||(i.autoSkip?i1(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):IY(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:CY(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),s1(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=xt(n,0,o),i=xt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||i1(s.minUnit,n,i,this._getLabelCapacity(n)),a=pe(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ja(l)||l===!0,u={};let d=n,f,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<i;f=+e.add(f,a,o),p++)r1(u,f,g);return(f===i||r.bounds==="ticks"||p===1)&&r1(u,f,g),Object.keys(u).sort(t1).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Me(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=i[n],p=c&&d&&f&&f.major;return this._adapter.format(e,r||(p?d:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Jn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,s1(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(n1(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return vO(e.sort(t1))}}Z(mu,"id","time"),Z(mu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function od(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=tr(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=tr(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class jv extends mu{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=od(n,this.min),this._tableRange=od(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(od(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return od(this._table,i*this._tableRange+this._minPos,!0)}}Z(jv,"id","timeseries"),Z(jv,"defaults",mu.defaults);var PY=Object.freeze({__proto__:null,CategoryScale:Qf,LinearScale:Jf,LogarithmicScale:Fv,RadialLinearScale:rc,TimeScale:mu,TimeSeriesScale:jv});const AY=[F7,pK,oY,PY],cD="label";function o1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function RY(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function uD(t,e){t.labels=e}function hD(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cD;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function OY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cD;const n={labels:[],datasets:[]};return uD(n,t.labels),hD(n,t.datasets,e),n}function DY(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,p=j.useRef(null),g=j.useRef(null),y=()=>{p.current&&(g.current=new Gu(p.current,{type:o,data:OY(a,s),options:l&&{...l},plugins:c}),o1(e,g.current))},x=()=>{o1(e,null),g.current&&(g.current.destroy(),g.current=null)};return j.useEffect(()=>{!r&&g.current&&l&&RY(g.current,l)},[r,l]),j.useEffect(()=>{!r&&g.current&&uD(g.current.config.data,a.labels)},[r,a.labels]),j.useEffect(()=>{!r&&g.current&&a.datasets&&hD(g.current.config.data,a.datasets,s)},[r,a.datasets]),j.useEffect(()=>{g.current&&(r?(x(),setTimeout(y)):g.current.update(d))},[r,l,a.labels,a.datasets,d]),j.useEffect(()=>{g.current&&(x(),setTimeout(y))},[o]),j.useEffect(()=>(y(),()=>x()),[]),W.createElement("canvas",{ref:p,role:"img",height:n,width:i,...f},u)}const MY=j.forwardRef(DY);function dD(t,e){return Gu.register(e),j.forwardRef((n,i)=>W.createElement(MY,{...n,ref:i,type:t}))}const LY=dD("line",Ic),Bg=dD("bar",Sc);async function NY(t,e){const n=An(yt(et,"vehiculosPagados"),st("fechaPago",">=",t),st("fechaPago","<=",e)),i=await St(n);let r=0,s=0;return i.forEach(o=>{const a=o.data(),l=a.timestamp.toDate(),u=(a.fechaPago.toDate().getTime()-l.getTime())/(1e3*60*60);r+=u,s++}),s?r/s:0}async function VY(t,e){const n=An(yt(et,"vehiculosPagados"),st("fechaPago",">=",t),st("fechaPago","<=",e)),i=await St(n);let r=0;return i.forEach(s=>{const o=s.data();r+=o.costoPagadoCOP}),r}async function FY(t,e){const n=An(yt(et,"vehiculosPagados"),st("fechaPago",">=",t),st("fechaPago","<=",e)),i=await St(n);let r=Array(24).fill(0),s=Array(24).fill(0);return i.forEach(o=>{const a=o.data(),l=a.timestamp.toDate(),c=a.fechaPago.toDate(),u=l.getHours(),d=c.getHours();r[u]++,s[d]++}),{entryHoursCount:r,exitHoursCount:s}}async function $Y(t,e){const n=An(yt(et,"vehiculosPagados"),st("fechaPago",">=",t),st("fechaPago","<=",e)),i=await St(n),r=100;let s=0;return i.forEach(a=>{s++}),s/r*100}async function jY(t,e){const n=An(yt(et,"vehiculosPagados"),st("fechaPago",">=",t),st("fechaPago","<=",e)),i=await St(n),r={};i.forEach(l=>{const c=l.data(),u=c.timestamp.toDate().toISOString().split("T")[0],d=c.fechaPago.toDate().toISOString().split("T")[0];r[u]||(r[u]={entradas:0,salidas:0}),r[u].entradas++,r[d]||(r[d]={entradas:0,salidas:0}),r[d].salidas++});const s=Object.keys(r),o=s.map(l=>r[l].entradas),a=s.map(l=>r[l].salidas);return{labels:s,entries:o,exits:a}}async function UY(t,e,n){const i=An(yt(et,"vehiculosPagados"),st("fechaPago",">=",t),st("fechaPago","<=",e)),r=await St(i),s={};r.forEach(l=>{const c=l.data(),u=c.fechaPago.toDate();let d;switch(n){case"day":d=u.toISOString().split("T")[0];break;case"week":const f=new Date(u);f.setDate(u.getDate()-(u.getDay()+6)%7);const p=new Date(f);p.setDate(f.getDate()+6),d=f.toISOString().split("T")[0],"Lun ".concat(ad(f)," - Dom ").concat(ad(p));break;case"month":d="".concat(u.getFullYear(),"-").concat(u.getMonth()+1),new Date(u.getFullYear(),u.getMonth(),1).toLocaleString("default",{month:"long"});break;default:d=u.toISOString().split("T")[0]}s[d]||(s[d]=0),s[d]+=c.costoPagadoCOP});const o=Object.keys(s).map(l=>{if(n==="week"){const c=new Date(l),u=new Date(c);return u.setDate(c.getDate()+6),"Lun ".concat(ad(c)," - Dom ").concat(ad(u))}return l}),a=Object.values(s);return{labels:o,income:a}}function ad(t){const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0");return"".concat(e,"/").concat(n)}async function BY(t,e,n){const i=An(yt(et,"vehiculosPagados"),st("fechaPago",">=",t),st("fechaPago","<=",e)),r=await St(i),s=100,o={},a=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),l=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));let c=new Date(a);for(;c<=l;){let f;switch(n){case"day":f=c.toISOString().split("T")[0],c.setUTCDate(c.getUTCDate()+1);break;case"week":const p=new Date(c);p.setUTCDate(c.getUTCDate()-(c.getUTCDay()+6)%7),f=p.toISOString().split("T")[0],c.setUTCDate(c.getUTCDate()+7);break;case"month":const g=c.getUTCFullYear(),y=(c.getUTCMonth()+1).toString().padStart(2,"0");f="".concat(g,"-").concat(y),c.setUTCMonth(c.getUTCMonth()+1);break;default:throw new Error("Período no válido")}o[f]||(o[f]=0)}r.forEach(f=>{const g=f.data().fechaPago.toDate();let y;switch(n){case"day":y=g.toISOString().split("T")[0];break;case"week":const x=new Date(g);x.setUTCDate(g.getUTCDate()-(g.getUTCDay()+6)%7),y=x.toISOString().split("T")[0];break;case"month":y="".concat(g.getUTCFullYear(),"-").concat((g.getUTCMonth()+1).toString().padStart(2,"0"));break;default:y=g.toISOString().split("T")[0]}o[y]!==void 0&&o[y]++});const u=Object.keys(o).map(f=>{if(n==="week"){const p=new Date(f),g=new Date(p);return g.setUTCDate(p.getUTCDate()+6),"Lun ".concat(a1(p)," - Dom ").concat(a1(g))}return f}),d=Object.values(o).map(f=>f/s*100);return{labels:u,occupancy:d}}function a1(t){const e=String(t.getUTCDate()).padStart(2,"0"),n=String(t.getUTCMonth()+1).padStart(2,"0");return"".concat(e,"/").concat(n)}const zY="_container_1vj07_7",WY="_title_1vj07_23",HY="_filters_1vj07_37",qY="_dateInput_1vj07_75",GY="_periodSelect_1vj07_77",KY="_tabs_1vj07_95",YY="_tab_1vj07_95",QY="_activeTab_1vj07_113",XY="_tabContent_1vj07_155",JY="_chartContainer_1vj07_181",ZY="_metricsContainer_1vj07_195",eQ="_metricCard_1vj07_209",tQ="_themeToggle_1vj07_251",Oe={container:zY,title:WY,filters:HY,dateInput:qY,periodSelect:GY,tabs:KY,tab:YY,activeTab:QY,tabContent:XY,chartContainer:JY,metricsContainer:ZY,metricCard:eQ,themeToggle:tQ};Gu.register(Qf,Jf,Pc,kc,ir,sD,aD,rD);const nQ=()=>{const[t,e]=j.useState(0),[n,i]=j.useState(0),[r,s]=j.useState({entryHoursCount:Array(24).fill(0),exitHoursCount:Array(24).fill(0)}),[o,a]=j.useState(0),[l,c]=j.useState({labels:[],entries:[],exits:[]}),[u,d]=j.useState({labels:[],income:[]}),[f,p]=j.useState({labels:[],occupancy:[]}),[g,y]=j.useState("day"),[x,_]=j.useState("day"),[v,S]=j.useState("light"),[A,D]=j.useState(()=>{const G=new Date;return G.setDate(1),G}),[M,E]=j.useState(new Date),[w,T]=j.useState("flujo");j.useEffect(()=>{const G=window.matchMedia("(prefers-color-scheme: dark)"),Q=ie=>{S(ie.matches?"dark":"light"),document.body.setAttribute("data-theme",ie.matches?"dark":"light")};return Q(G),G.addEventListener("change",Q),()=>G.removeEventListener("change",Q)},[]),j.useEffect(()=>{async function G(){try{const Q=await NY(A,M),ie=await VY(A,M),U=await FY(A,M),B=await $Y(A,M),$=await jY(A,M),X=await UY(A,M,g),q=await BY(A,M,x);e(Q),i(ie),s(U),a(B),c($),d(X),p(q)}catch(Q){console.error("Error fetching data:",Q)}}G()},[A,M,g,x]);const C={labels:Array.from({length:24},(G,Q)=>"".concat(Q,":00")),datasets:[{label:"Entradas",data:r.entryHoursCount,backgroundColor:v==="light"?"rgba(75, 192, 192, 0.6)":"rgba(75, 192, 192, 0.8)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Salidas",data:r.exitHoursCount,backgroundColor:v==="light"?"rgba(153, 102, 255, 0.6)":"rgba(153, 102, 255, 0.8)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]},P={labels:l.labels,datasets:[{label:"Entradas",data:l.entries,borderColor:v==="light"?"rgba(75, 192, 192, 1)":"rgba(75, 192, 192, 0.8)",backgroundColor:v==="light"?"rgba(75, 192, 192, 0.2)":"rgba(75, 192, 192, 0.4)",fill:!0,tension:.3},{label:"Salidas",data:l.exits,borderColor:v==="light"?"rgba(153, 102, 255, 1)":"rgba(153, 102, 255, 0.8)",backgroundColor:v==="light"?"rgba(153, 102, 255, 0.2)":"rgba(153, 102, 255, 0.4)",fill:!0,tension:.3}]},O={labels:u.labels,datasets:[{label:"Ingresos (".concat(g==="day"?"Día":g==="week"?"Semana":"Mes",")"),data:u.income,backgroundColor:v==="light"?"rgba(255, 99, 132, 0.6)":"rgba(255, 99, 132, 0.8)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]},R={labels:f.labels,datasets:[{label:"Ocupación (".concat(x==="day"?"Día":x==="week"?"Semana":"Mes",")"),data:f.occupancy,backgroundColor:v==="light"?"rgba(54, 162, 235, 0.6)":"rgba(54, 162, 235, 0.8)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},Y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:v==="light"?"#333":"#fff"}}},scales:{x:{grid:{color:v==="light"?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"},ticks:{color:v==="light"?"#333":"#fff"}},y:{grid:{color:v==="light"?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"},ticks:{color:v==="light"?"#333":"#fff"},beginAtZero:!0}}};return I.jsxs("div",{className:Oe.container,"data-theme":v,children:[I.jsx(Uu,{}),I.jsx("h1",{className:Oe.title,children:"Dashboard de Análisis"}),I.jsxs("div",{className:Oe.metricsContainer,children:[I.jsxs("div",{className:Oe.metricCard,children:[I.jsx("h3",{children:"Tiempo promedio de estadía"}),I.jsxs("p",{children:[t.toFixed(2)," min"]})]}),I.jsxs("div",{className:Oe.metricCard,children:[I.jsx("h3",{children:"Ingresos totales"}),I.jsxs("p",{children:["$",n.toLocaleString()]})]}),I.jsxs("div",{className:Oe.metricCard,children:[I.jsx("h3",{children:"Tasa de ocupación"}),I.jsxs("p",{children:[o.toFixed(2),"%"]})]})]}),I.jsxs("div",{className:Oe.filters,children:[I.jsxs("label",{children:["Fecha de Inicio:",I.jsx("input",{type:"date",className:Oe.dateInput,value:A.toISOString().split("T")[0],onChange:G=>D(new Date(G.target.value))})]}),I.jsxs("label",{children:["Fecha de Fin:",I.jsx("input",{type:"date",className:Oe.dateInput,value:M.toISOString().split("T")[0],onChange:G=>E(new Date(G.target.value))})]})]}),I.jsxs("div",{className:Oe.tabs,children:[I.jsx("button",{className:w==="flujo"?Oe.activeTab:Oe.tab,onClick:()=>T("flujo"),children:"Flujo de Vehículos"}),I.jsx("button",{className:w==="ocupacion"?Oe.activeTab:Oe.tab,onClick:()=>T("ocupacion"),children:"Ocupación"}),I.jsx("button",{className:w==="ingresos"?Oe.activeTab:Oe.tab,onClick:()=>T("ingresos"),children:"Ingresos"}),I.jsx("button",{className:w==="horas"?Oe.activeTab:Oe.tab,onClick:()=>T("horas"),children:"Horas Pico"})]}),I.jsxs("div",{className:Oe.tabContent,children:[w==="flujo"&&I.jsxs(I.Fragment,{children:[I.jsx("h2",{children:"Flujo de Vehículos"}),I.jsx("div",{className:Oe.chartContainer,children:I.jsx(LY,{data:P,options:{...Y,scales:{...Y.scales,y:{...Y.scales.y,beginAtZero:!0}}}})})]}),w==="ocupacion"&&I.jsxs(I.Fragment,{children:[I.jsx("h2",{children:"Ocupación del Parqueadero"}),I.jsx("div",{className:Oe.filters,children:I.jsxs("label",{children:["Período:",I.jsxs("select",{className:Oe.periodSelect,value:x,onChange:G=>_(G.target.value),children:[I.jsx("option",{value:"day",children:"Día"}),I.jsx("option",{value:"week",children:"Semana"}),I.jsx("option",{value:"month",children:"Mes"})]})]})}),I.jsx("div",{className:Oe.chartContainer,children:I.jsx(Bg,{data:R,options:{...Y,scales:{...Y.scales,y:{...Y.scales.y,beginAtZero:!0,max:100}}}})})]}),w==="ingresos"&&I.jsxs(I.Fragment,{children:[I.jsx("h2",{children:"Ingresos"}),I.jsx("div",{className:Oe.filters,children:I.jsxs("label",{children:["Período:",I.jsxs("select",{className:Oe.periodSelect,value:g,onChange:G=>y(G.target.value),children:[I.jsx("option",{value:"day",children:"Día"}),I.jsx("option",{value:"week",children:"Semana"}),I.jsx("option",{value:"month",children:"Mes"})]})]})}),I.jsx("div",{className:Oe.chartContainer,children:I.jsx(Bg,{data:O,options:{...Y,scales:{...Y.scales,y:{...Y.scales.y,beginAtZero:!0}}}})})]}),w==="horas"&&I.jsxs(I.Fragment,{children:[I.jsx("h2",{children:"Horas Pico"}),I.jsx("div",{className:Oe.chartContainer,children:I.jsx(Bg,{data:C,options:{...Y,scales:{...Y.scales,y:{...Y.scales.y,beginAtZero:!0}}}})})]})]})]})},Wo={"pagoCliente-container":"_pagoCliente-container_107sg_7","pagoCliente-titulo":"_pagoCliente-titulo_107sg_21","pagoCliente-lista":"_pagoCliente-lista_107sg_33","pagoCliente-item":"_pagoCliente-item_107sg_43","pagoCliente-imagen":"_pagoCliente-imagen_107sg_59","pagoCliente-info":"_pagoCliente-info_107sg_77"},iQ=()=>{const[t,e]=j.useState([]),[n,i]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const o=oi().currentUser;if(!o){console.error("Usuario no autenticado");return}const a=yt(et,"vehiculosPagados"),l=An(a,st("emailPagador","==",o.email)),d=(await St(l)).docs.map(f=>({id:f.id,...f.data()})).sort((f,p)=>{const g=f.fechaPago.toDate();return p.fechaPago.toDate().getTime()-g.getTime()});e(d)}catch(s){console.error("Error obteniendo vehículos pagados:",s)}finally{i(!1)}})()},[]),n?I.jsx("p",{children:"Cargando información..."}):t.length===0?I.jsx("p",{children:"No tienes vehículos registrados como pagados."}):I.jsxs("div",{className:Wo["pagoCliente-container"],children:[I.jsx(X0,{}),I.jsx("h2",{className:Wo["pagoCliente-titulo"],children:"Vehículos Pagados"}),I.jsx("ul",{className:Wo["pagoCliente-lista"],children:t.map(r=>{var s,o;return I.jsxs("li",{className:Wo["pagoCliente-item"],children:[I.jsx("img",{src:r.imageUrl,alt:"Vehículo con placa ".concat(r.placa),className:Wo["pagoCliente-imagen"]}),I.jsxs("div",{className:Wo["pagoCliente-info"],children:[I.jsxs("p",{children:[I.jsx("strong",{children:"Placa:"})," ",r.placa]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Fecha de Pago:"})," ",(s=r.fechaPago)==null?void 0:s.toDate().toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Costo Pagado (COP):"})," $",(o=r.costoPagadoCOP)==null?void 0:o.toLocaleString("es-CO")]})]})]},r.id)})})]})};Gu.register(...AY);const rQ=oi(el),sQ=()=>{const[t,e]=j.useState(null),[n,i]=j.useState(!1);return j.useEffect(()=>{const r=LV(rQ,async s=>{if(s){const o=await BC(s);i(!!o.claims.admin),e(s)}else e(null),i(!1)});return()=>r()},[]),j.useEffect(()=>{document.title="Estacionamiento U"},[]),I.jsx(W$,{children:I.jsxs(B$,{children:[I.jsx(pi,{path:"/",exact:!0,component:mi}),I.jsx(pi,{path:"/admin",render:()=>t?I.jsx(_H,{correoUsuario:t.email}):I.jsx(mi,{})}),I.jsx(pi,{path:"/cliente",render:()=>t?I.jsx(bq,{correoUsuario:t.email}):I.jsx(mi,{})}),I.jsx(pi,{path:"/perfil",render:()=>t?I.jsx(Eq,{correoUsuario:t.email}):I.jsx(mi,{})}),I.jsx(pi,{path:"/cars",render:()=>t?I.jsx(DR,{}):I.jsx(mi,{})}),I.jsx(pi,{path:"/empleado",render:()=>t?I.jsx(xq,{}):I.jsx(mi,{})}),I.jsx(pi,{path:"/admiusers",render:()=>t?I.jsx(Tq,{}):I.jsx(mi,{})}),I.jsx(pi,{path:"/admiparking",render:()=>t?I.jsx(Iq,{}):I.jsx(mi,{})}),I.jsx(pi,{path:"/analytic",render:()=>t?I.jsx(nQ,{}):I.jsx(mi,{})}),I.jsx(pi,{path:"/pagocliente",render:()=>t?I.jsx(iQ,{}):I.jsx(mi,{})})]})})},oQ=document.getElementById("root"),aQ=bC(oQ);aQ.render(I.jsx(W.StrictMode,{children:I.jsx(sQ,{})}));export{OR as W,cQ as __vite_legacy_guard,Q3 as a,pQ as c,mQ as g};
