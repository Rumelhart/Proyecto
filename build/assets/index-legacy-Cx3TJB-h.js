System.register([],(function(e,t){"use strict";return{execute:function(){var n=document.createElement("style");function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}n.textContent='@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap";.busqueda-vehiculos-container{min-height:100vh;background:var(--background-gradient);display:flex;flex-direction:column}.busqueda-vehiculos-container .titulo-busqueda{text-align:center;font-size:24px;margin:20px 0;color:var(--text-color)}.busqueda-vehiculos-container .search-container{max-width:1200px;width:100%;padding:20px;margin:0 auto;flex:1;display:flex;flex-direction:column}.busqueda-vehiculos-container .search-input{width:100%;padding:12px 15px;font-size:16px;border:1px solid var(--border-color);border-radius:8px;margin-bottom:20px;background-color:var(--card-bg-color);color:var(--text-color);box-sizing:border-box;transition:border-color .3s ease,box-shadow .3s ease}.busqueda-vehiculos-container .search-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px rgba(0,123,255,.25)}.busqueda-vehiculos-container .result-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:0 10px}.busqueda-vehiculos-container .list-container{background-color:var(--card-bg-color);border-radius:12px;box-shadow:0 4px 6px rgba(0,0,0,.1);overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;max-width:100%;margin:0 auto;border:1px solid var(--border-color)}.busqueda-vehiculos-container .list-container:hover{transform:translateY(-5px);box-shadow:0 8px 15px rgba(0,0,0,.15)}.busqueda-vehiculos-container .list-item{padding:20px;display:flex;flex-direction:column;align-items:center;text-align:center}.busqueda-vehiculos-container .image-container{width:100%;max-width:250px;height:180px;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:8px;margin-bottom:15px;background-color:#f5f5f5}.busqueda-vehiculos-container .list-item img{width:100%;height:100%;object-fit:cover;border-radius:8px}.busqueda-vehiculos-container .list-item .details{width:100%;box-sizing:border-box;text-align:left}.busqueda-vehiculos-container .list-item p{margin:8px 0;font-size:14px;color:var(--text-color);word-wrap:break-word;line-height:1.4}.busqueda-vehiculos-container .list-item p strong{color:var(--primary-color)}.busqueda-vehiculos-container .pagination{display:flex;justify-content:center;align-items:center;margin-top:30px;padding:0 10px;gap:15px}.busqueda-vehiculos-container .pagination button{background-color:var(--primary-color);color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;transition:background-color .3s ease,transform .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.busqueda-vehiculos-container .pagination button:disabled{background-color:var(--disabled-button-bg-color);cursor:not-allowed;opacity:.7}.busqueda-vehiculos-container .pagination button:hover:not(:disabled){background-color:var(--primary-dark-color);transform:translateY(-2px)}.busqueda-vehiculos-container .pagination span{font-size:16px;color:var(--text-color);font-weight:500;min-width:100px;text-align:center}@media (max-width: 768px){.busqueda-vehiculos-container .titulo-busqueda{font-size:20px}.busqueda-vehiculos-container .result-container{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.busqueda-vehiculos-container .image-container{max-width:200px;height:150px}.busqueda-vehiculos-container .list-item p{font-size:13px}}@media (max-width: 480px){.busqueda-vehiculos-container .titulo-busqueda{font-size:18px;margin:15px 0}.busqueda-vehiculos-container .search-container{padding:15px}.busqueda-vehiculos-container .result-container{grid-template-columns:1fr}.busqueda-vehiculos-container .pagination{flex-direction:row;gap:10px}.busqueda-vehiculos-container .pagination button{padding:8px 15px;font-size:13px}.busqueda-vehiculos-container .pagination span{font-size:14px}}.hamburguesa-menu{position:fixed;top:20px;right:20px;z-index:1000}.hamburguesa-menu-icon{font-size:30px;cursor:pointer}.hamburguesa-menu-links{display:none;list-style:none;padding:0;margin:0;position:absolute;top:40px;right:0;background:#333;color:#fff;z-index:1000}.hamburguesa-menu-links.show{display:block}.hamburguesa-menu-links li{padding:10px}.hamburguesa-menu-links li a{color:#fff;text-decoration:none}.home-container{--bg-color: #f5f7fa;--text-color: #2d3748;--card-bg: #ffffff;--primary: #3182ce;--primary-hover: #2c5282;--border: #e2e8f0;--success-bg: #f0fff4;--success-text: #2f855a;--error-bg: #fff5f5;--error-text: #c53030;position:relative;min-height:100vh;background:linear-gradient(135deg,#f8f9fa,#e9ecef);font-family:Segoe UI,system-ui,sans-serif;isolation:isolate}@media (prefers-color-scheme: dark){.home-container{--bg-color: #1a202c;--text-color: #f7fafc;--card-bg: #2d3748;--primary: #63b3ed;--primary-hover: #4299e1;--border: #4a5568;--success-bg: #1c4532;--success-text: #9ae6b4;--error-bg: #742a2a;--error-text: #feb2b2;background:linear-gradient(135deg,#212529,#343a40)}}.home-container:before{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background:inherit;z-index:-1}.home-container .home-content{position:relative;max-width:1200px;margin:0 auto;padding:2rem;z-index:1}.home-container .home-header{text-align:center;margin-bottom:2rem}.home-container .home-header h2{font-size:1.8rem;color:var(--text-color)}.home-container .home-upload-container{background:var(--card-bg);border-radius:12px;padding:2rem;box-shadow:0 2px 10px rgba(0,0,0,.1);max-width:600px;margin:0 auto;border:1px solid var(--border)}.home-container .home-image-preview{width:100%;max-height:300px;object-fit:contain;border-radius:8px;margin-bottom:1.5rem;border:2px solid var(--border)}.home-container .home-file-input{width:90%;padding:1rem;margin-bottom:1.5rem;border:2px dashed var(--border);border-radius:8px;background:transparent;color:var(--text-color)}.home-container .home-upload-btn{background:var(--primary);color:#fff;border:none;padding:.8rem 1.5rem;border-radius:8px;font-size:1rem;cursor:pointer;width:100%;transition:background .2s}.home-container .home-upload-btn:hover{background:var(--primary-hover)}.home-container .home-upload-btn:disabled{opacity:.7;cursor:not-allowed}.home-container .home-registration-message{padding:1rem;border-radius:8px;margin:1rem 0;text-align:center}.home-container .home-registration-message.success{background:var(--success-bg);color:var(--success-text)}.home-container .home-registration-message.error{background:var(--error-bg);color:var(--error-text)}@media (max-width: 768px){.home-container .home-content{padding:1rem}.home-container .home-upload-container{padding:1.5rem}}.container{display:flex;align-items:center;justify-content:center;width:100vw;height:100vh;padding:20px;box-sizing:border-box;position:relative;overflow:hidden}.card{background:rgba(255,255,255,.1);padding:20px;border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,.2);width:100%;max-width:400px;text-align:center}.estilo-profile{width:100%;max-width:150px;height:auto;margin-bottom:20px;border-radius:50%;box-shadow:0 4px 8px rgba(0,0,0,.2)}.form-container{display:flex;flex-direction:column;gap:10px}.cajatexto{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:16px;transition:border-color .3s ease,box-shadow .3s ease}.cajatexto:focus{border-color:#007bff;box-shadow:0 0 8px rgba(0,123,255,.5)}.btnform,.google-btn{padding:10px;width:100%;font-size:16px;cursor:pointer;border-radius:5px;border:none;transition:background-color .3s ease,transform .2s ease}.btnform{background-color:#007bff;color:#fff}.btnform:hover{background-color:#0056b3;transform:translateY(-2px)}.google-btn{background-color:#db4437;color:#fff;display:flex;align-items:center;justify-content:center;gap:8px}.google-btn:hover{background-color:#c9302c}.google-icon{width:20px;height:20px}.auth-options{margin-top:20px}.toggle-btn{background-color:transparent;color:#007bff;border:1px solid #007bff}.toggle-btn:hover{background-color:#007bff;color:#fff}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:1000}.modal{background-color:#fff;border-radius:10px;box-shadow:0 4px 6px rgba(0,0,0,.1);width:100%;max-width:400px;overflow:hidden}.modal-header{padding:16px;background-color:#9d0000;color:#fff;display:flex;justify-content:space-between;align-items:center}.modal-header h3{margin:0;font-size:1.25rem}.close-button{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer}.close-button:hover{color:#ccc}.modal-body{padding:16px}.modal-body p{margin:0 0 16px;font-size:.9rem;color:#555}.modal-body input{width:100%;padding:8px;border:1px solid #ddd;border-radius:5px;font-size:1rem}.modal-body input:focus{border-color:#007bff;outline:none}.modal-footer{padding:16px;background-color:#f9f9f9;display:flex;justify-content:flex-end;gap:8px}.btn-primary{background-color:#007bff;color:#fff;border:none;padding:8px 16px;border-radius:5px;cursor:pointer;font-size:1rem}.btn-primary:hover{background-color:#0056b3}.btn-secondary{background-color:#6c757d;color:#fff;border:none;padding:8px 16px;border-radius:5px;cursor:pointer;font-size:1rem}.btn-secondary:hover{background-color:#5a6268}.hamburguesa-menu-links{display:none;list-style-type:none;background-color:#fff;border:1px solid #ccc;border-radius:8px;position:absolute;top:60px;right:10px;box-shadow:0 4px 8px rgba(0,0,0,.3);transition:all .3s ease}.hamburguesa-menu-links.show{flex-direction:column;align-items:flex-start}.hamburguesa-menu-links li{margin:5px 0}.hamburguesa-menu-links li a{padding:10px 20px;display:block;color:#333;text-decoration:none;font-size:16px;transition:background-color .3s ease,color .3s ease}.hamburguesa-menu-links li a:hover{background-color:#f0f0f0;color:#333}@media (prefers-color-scheme: dark){.hamburguesa-menu-links{background-color:#333;border:1px solid #444}.hamburguesa-menu-links li a{color:#fff}.hamburguesa-menu-links li a:hover{background-color:#555;color:#ddd}.hamburguesa-menu-icon{color:#fff;background-color:rgba(255,255,255,.1)}.hamburguesa-menu-icon:hover{background-color:rgba(255,255,255,.2)}}.hamburguesa-menu-icon{width:40px;height:40px;cursor:pointer;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:rgba(0,0,0,.1);box-shadow:0 2px 5px rgba(0,0,0,.2);transition:background-color .3s ease,transform .3s ease;border:none;padding:0}.hamburguesa-menu-icon .hamburguesa-menu-icon:hover{background-color:rgba(0,0,0,.2);transform:scale(1.1)}@media (prefers-color-scheme: dark){.hamburguesa-menu-icon .hamburguesa-menu-icon{background-color:rgba(255,255,255,.1)}.hamburguesa-menu-icon .hamburguesa-menu-icon:hover{background-color:rgba(255,255,255,.2)}}.hamburguesa-menu-icon .hamburguesa-menu-links li a{padding:10px 20px;display:block;color:#333;text-decoration:none;font-size:16px;transition:background-color .3s ease,color .3s ease;position:relative}.hamburguesa-menu-icon .hamburguesa-menu-links li a:after{content:"";position:absolute;width:0;height:3px;background-color:#4caf50;bottom:0;left:0;transition:width .3s ease}.hamburguesa-menu-icon .hamburguesa-menu-links li a.selected:after{width:100%}.hamburguesa-menu-icon .hamburguesa-menu-links li a:hover:after{width:100%}@media (prefers-color-scheme: dark){.hamburguesa-menu-icon .hamburguesa-menu-links li a{color:#fff}.hamburguesa-menu-icon .hamburguesa-menu-links li a:after{background-color:#45a049}}:root{--bg: #ffffff;--fg: #000000;--spot-bg: #e9ecef}@media (prefers-color-scheme: dark){:root{--bg: #1e1e1e;--fg: #f5f5f5;--spot-bg: #333333}}.containercliente{padding:10px;width:100%;box-sizing:border-box;background:var(--bg);color:var(--fg)}h1{font-size:1.5rem;text-align:center;margin:15px 0}.search-input{width:100%;padding:12px;margin:15px 0;border:2px solid #007bff;border-radius:8px;font-size:1rem;background:var(--bg);color:var(--fg)}.list-container{display:flex;flex-direction:column;gap:12px}.list-item{background:var(--bg);border-radius:10px;padding:15px;box-shadow:0 2px 6px rgba(0,0,0,.1);display:grid;grid-template-columns:1fr;gap:12px;color:var(--fg)}.image-wrapper{width:100%;height:180px;border-radius:8px;overflow:hidden}.vehicle-image{width:100%;height:100%;object-fit:cover}.vehicle-info{display:flex;flex-direction:column;gap:8px}.info-row{display:flex;justify-content:space-between;font-size:.9rem}.label{color:#666;min-width:30%}.value{color:var(--fg);font-weight:500}.map-section{margin:25px 0;width:100%}.parking-map-wrapper{width:100%;padding:10px 0;box-sizing:border-box}.parking-map-container{display:flex;flex-direction:column;gap:20px;width:100%}.parking-block{background:var(--bg);padding:15px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.1);width:100%;box-sizing:border-box;color:var(--fg)}.block-title{font-size:1.2rem;text-align:center;margin:0 0 15px}.spots-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(50px,1fr));gap:6px}.parking-spot{aspect-ratio:1;background:var(--spot-bg);border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600;color:var(--fg)}.pagination-container{display:flex;justify-content:center;gap:10px;margin:20px 0}.pagination-button{padding:8px 16px;font-size:.9rem;background:var(--bg);color:var(--fg);border:1px solid #ccc;border-radius:6px}@media (min-width: 768px){.containercliente{max-width:1200px;padding:20px;margin:0 auto}.list-item{grid-template-columns:150px 1fr}.image-wrapper{height:120px}.parking-map-container{flex-direction:row;gap:20px;width:auto}.parking-block{min-width:450px;padding:20px}.spots-grid{grid-template-columns:repeat(10,1fr)}.pagination-button{padding:10px 20px;font-size:1rem}}.list-item.selected{border:2px solid #007bff;background:#f0f8ff;color:#000}@media (prefers-color-scheme: dark){.list-item.selected{background:#2a2a2a;border:2px solid #66b2ff;color:#f5f5f5}}.parking-spot.active-spot{background:gold;box-shadow:0 0 0 2px #ff6b6b}.ubicacion-button{display:block;width:100%;max-width:300px;margin:16px auto;padding:12px 20px;font-size:1rem;background-color:#007bff;color:#fff;border:none;border-radius:8px;cursor:pointer;text-align:center}.ubicacion-button:hover{background-color:#0056b3}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000;padding:10px}.modal-content{display:flex;flex-direction:column;align-items:center;background:var(--bg);color:var(--fg);border-radius:12px;padding:20px;width:90vw;max-width:600px;max-height:90vh;overflow-y:auto;box-sizing:border-box}.cerrar-modal-button{display:block;margin:16px auto 0;padding:8px 16px;background:#e53935;color:#fff;border:none;border-radius:6px;cursor:pointer}.cerrar-modal-button:hover{background:#b71c1c}.paypal-button-wrapper{display:flex;justify-content:center;margin:20px 0}._clientePanel_u3x6g_1{max-width:100%;overflow-x:hidden;display:flex;flex-direction:column;align-items:center;padding:20px;position:relative;min-height:100vh;box-sizing:border-box}._perfilFoto_u3x6g_25{width:50px;height:50px;border-radius:50%;position:absolute;top:20px;left:20px;object-fit:cover;max-width:100%}._correo_u3x6g_47{word-break:break-word;overflow-wrap:break-word;text-align:center;margin-top:80px;color:inherit}._button_u3x6g_63{color:#000;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease;min-width:120px;font-size:16px;text-align:center;margin-top:20px;background-color:#007bff;color:#fff}._button_u3x6g_63:hover{background-color:#0056b3}@media (prefers-color-scheme: dark){._button_u3x6g_63{background-color:#1e90ff;color:#fff}._clientePanel_u3x6g_1{background-color:#121212;color:#fff}._correo_u3x6g_47{color:#fff}}._containercliente_u3x6g_133{display:flex;align-items:center;flex-direction:column;min-height:100vh;background-color:#f0f0f0;background:url(../assets/fondo.jpg) no-repeat center center fixed;background-size:cover;text-align:center;padding:20px;box-sizing:border-box}@media (max-width: 768px){._perfilFoto_u3x6g_25{width:40px;height:40px;top:10px;left:10px}._correo_u3x6g_47{margin-top:60px}._button_u3x6g_63{padding:8px 16px;font-size:14px}}body,html{margin:0;padding:0;height:100%;font-family:Poppins,sans-serif}.perfil-container{width:100%;height:100vh;margin:0;padding:20px;background:linear-gradient(rgba(175,0,23,.827),rgba(0,0,0,.5)),url(../assets/fondo.jpg) no-repeat center center fixed;background-size:cover;color:#fff;box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:center}@media (prefers-color-scheme: dark){.perfil-container{background:linear-gradient(rgba(50,0,10,.827),rgba(0,0,0,.8)),url(../assets/fondo.jpg) no-repeat center center fixed;background-size:cover}}.profile-pic{display:block;width:150px;height:150px;border-radius:50%;margin:0 auto 20px;object-fit:cover;border:3px solid #fff;box-shadow:0 4px 8px rgba(0,0,0,.2)}.email{font-weight:700;margin-bottom:10px;text-align:center;font-size:18px}.form-group{margin-bottom:20px;width:100%;max-width:400px}label{display:block;font-weight:700;margin-bottom:5px;font-size:16px}input[type=text]{width:100%;padding:12px;border:1px solid #ccc;border-radius:8px;box-sizing:border-box;font-size:16px;transition:border-color .3s ease,box-shadow .3s ease}input[type=text]:focus{border-color:#007bff;box-shadow:0 0 8px rgba(0,123,255,.5);outline:none}.file-input-container{position:relative;width:100%;max-width:400px;margin-bottom:20px}.file-input-container input[type=file]{display:none}.file-input-label{display:block;width:100%;padding:12px;background-color:#007bff;color:#fff;text-align:center;border-radius:8px;cursor:pointer;font-size:16px;transition:background-color .3s ease}.file-input-label:hover{background-color:#0056b3}.btn-save{background-color:#28a745;color:#fff;padding:12px 20px;border:none;border-radius:8px;cursor:pointer;font-size:16px;width:100%;max-width:400px;transition:background-color .3s ease}.btn-save:hover{background-color:#218838}.mensaje-exito{color:#28a745;text-align:center;margin-top:10px;font-size:16px}.mensaje-error{color:#dc3545;text-align:center;margin-top:10px;font-size:16px}:root{--container-bg-color: #f9f9f9;--text-color: #000;--input-bg-color: #fff;--input-text-color: #000;--list-item-bg-color: #ffffff;--list-item-hover-bg-color: #f0f0f0;--selected-bg-color: #d9edf7;--selected-border-color: #bce8f1;--confirm-section-bg-color: #f9f9f9}@media (prefers-color-scheme: dark){:root{--container-bg-color: #333;--text-color: #f0f0f0;--input-bg-color: #555;--input-text-color: #f0f0f0;--list-item-bg-color: #444;--list-item-hover-bg-color: #555;--selected-bg-color: #555;--selected-border-color: #888;--confirm-section-bg-color: #333}}.eps-container{margin:20px;padding:20px;border:1px solid #ccc;border-radius:8px;background-color:var(--container-bg-color);color:var(--text-color)}.eps-sign-out-button{background-color:#ff4d4d;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;float:right}.eps-sign-out-button:hover{background-color:#f33}.eps-input{width:100%;padding:10px;margin-top:20px;margin-bottom:20px;border:1px solid #ccc;border-radius:4px;font-size:16px;background-color:var(--input-bg-color);color:var(--input-text-color)}.eps-list-container{margin-top:20px;max-height:400px;overflow-y:auto}.eps-list-item{display:flex;align-items:center;padding:10px;margin-bottom:10px;border:1px solid #ddd;border-radius:4px;background-color:var(--list-item-bg-color);color:var(--text-color);cursor:pointer;transition:background-color .3s ease}.eps-list-item:hover{background-color:var(--list-item-hover-bg-color)}.eps-selected{background-color:var(--selected-bg-color);border-color:var(--selected-border-color)}.eps-image-container{flex-shrink:0;margin-right:20px}.eps-image{width:80px;height:80px;object-fit:cover;border-radius:4px}.eps-details{flex-grow:1}.eps-detail-text{margin:0;font-size:14px}.eps-confirm-section{margin-top:20px;padding:20px;border-top:1px solid #ddd;background-color:var(--confirm-section-bg-color);color:var(--text-color)}.eps-confirm-button{background-color:#28a745;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;margin-top:10px}.eps-confirm-button:hover{background-color:#218838}.user-management-container{padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.1);max-width:100%;overflow-x:auto;margin:0 auto}.user-management-container h2{font-size:24px;margin-bottom:20px;color:var(--text-color);text-align:center}.user-tableU{width:100%;border-collapse:collapse;max-width:100%;table-layout:fixed}.user-tableU th,.user-tableU td{padding:12px 15px;text-align:left;border-bottom:1px solid var(--border-color);font-size:16px;color:var(--text-color);word-wrap:break-word;overflow:hidden;text-overflow:ellipsis}.user-tableU select{width:100%;padding:8px;font-size:16px;border-radius:4px;border:1px solid var(--border-color);background-color:var(--select-bg-color);color:var(--select-text-color);transition:border-color .3s ease,box-shadow .3s ease}.user-tableU select:focus{border-color:var(--focus-border-color);box-shadow:0 0 8px var(--focus-border-color);outline:none}.save-changes-button{margin-top:20px;padding:12px 24px;font-size:18px;background-color:var(--button-bg-color);color:var(--button-text-color);border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease,transform .3s ease;width:100%;max-width:300px;margin-left:auto;margin-right:auto}.save-changes-button:hover{background-color:var(--button-hover-bg-color);transform:scale(1.05)}:root{--background-color: #fff;--text-color: #333;--border-color: #ccc;--select-bg-color: #f9f9f9;--select-text-color: #333;--focus-border-color: #007bff;--button-bg-color: #007bff;--button-text-color: #fff;--button-hover-bg-color: #0056b3}@media (prefers-color-scheme: dark){:root{--background-color: #333;--text-color: #fff;--border-color: #555;--select-bg-color: #444;--select-text-color: #fff;--focus-border-color: #66b2ff;--button-bg-color: #66b2ff;--button-text-color: #000;--button-hover-bg-color: #3382cc}}@media (max-width: 768px){.user-management-container{padding:15px}.user-management-container h2{font-size:20px}.user-tableU th,.user-tableU td{padding:8px 10px;font-size:14px}.user-tableU select{font-size:14px}.save-changes-button{font-size:16px;padding:10px 20px}}@media (max-width: 480px){.user-management-container{padding:10px}.user-management-container h2{font-size:18px}.user-tableU th,.user-tableU td{padding:6px 8px;font-size:12px}.user-tableU select{font-size:12px}.save-changes-button{font-size:14px;padding:8px 16px}.user-tableU th:nth-child(3),.user-tableU td:nth-child(3),.user-tableU th:nth-child(4),.user-tableU td:nth-child(4){display:none}}:root{--background-color: #f4f4f4;--text-color: #333;--card-background: #ffffff;--card-border: #ddd;--card-shadow: rgba(0, 0, 0, .1);--input-border: #3498db;--input-focus-border: #2980b9;--placeholder-color: #888;--primary-color: #1976d2;--primary-hover: #1565c0;--success-color: #e8f5e9;--success-border: #c8e6c9;--danger-color: #ffebee;--danger-border: #ffcdd2;--warning-color: #fff3cd;--warning-border: #ffc107;--spot-text: #555;--spot-placa: #d32f2f}@media (prefers-color-scheme: dark){:root{--background-color: #1a1a1a;--text-color: #f4f4f4;--card-background: #2c3e50;--card-border: #34495e;--card-shadow: rgba(0, 0, 0, .3);--input-border: #2980b9;--input-focus-border: #3498db;--placeholder-color: #bbb;--success-color: #1e3a1e;--success-border: #2d4d2d;--danger-color: #3a1e1e;--danger-border: #4d2d2d;--warning-color: #3a3a1e;--warning-border: #4d4d2d;--spot-text: #ccc;--spot-placa: #ff6b6b}}.admin-parking-container{all:initial;display:block;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:var(--background-color);min-height:100vh;padding:20px;box-sizing:border-box;color:var(--text-color)}.admin-parking-container h1{text-align:center;color:var(--text-color);margin-bottom:20px;font-size:2rem;font-weight:600;letter-spacing:.5px}.admin-controls{display:flex;gap:15px;margin-bottom:20px;align-items:center;flex-wrap:wrap}.admin-parking-search{flex:1;min-width:250px;padding:12px 15px;border:2px solid var(--input-border);border-radius:8px;font-size:16px;outline:none;transition:all .3s ease;box-sizing:border-box;background-color:var(--card-background);color:var(--text-color)}.admin-parking-search::placeholder{color:var(--placeholder-color);opacity:.7}.admin-parking-search:focus{border-color:var(--input-focus-border);box-shadow:0 0 0 3px rgba(52,152,219,.3)}.toggle-map-button,.view-mode-button,.focus-vehicle-button{padding:12px 20px;background:var(--primary-color);color:#fff;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;font-weight:500;white-space:nowrap}.toggle-map-button:hover,.view-mode-button:hover,.focus-vehicle-button:hover{background:var(--primary-hover);transform:translateY(-2px)}.toggle-map-button:disabled,.view-mode-button:disabled,.focus-vehicle-button:disabled{background:#95a5a6;cursor:not-allowed;transform:none}.admin-parking-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.admin-parking-item{background-color:var(--card-background);border:1px solid var(--card-border);border-radius:12px;padding:15px;box-shadow:0 4px 6px var(--card-shadow);transition:all .3s ease;display:flex;flex-direction:column;cursor:pointer}.admin-parking-item:hover{transform:translateY(-5px);box-shadow:0 6px 12px var(--card-shadow)}.admin-parking-item.selected-item{border:2px solid var(--warning-border);background-color:var(--warning-color)}.admin-parking-image-container{position:relative;border-radius:8px;overflow:hidden;margin-bottom:15px}.admin-parking-image{width:100%;height:180px;object-fit:cover;transition:transform .3s ease}.admin-parking-image-container:hover .admin-parking-image{transform:scale(1.03)}.admin-parking-zoom-icon{position:absolute;bottom:15px;right:15px;background-color:rgba(0,0,0,.7);color:#fff;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;font-size:16px;transition:all .3s ease}.admin-parking-zoom-icon:hover{background-color:rgba(0,0,0,.9);transform:scale(1.1)}.vehicle-info-admin{padding:0 5px}.vehicle-info-admin p{margin:8px 0;color:var(--text-color);font-size:15px;line-height:1.4}.vehicle-info-admin strong{color:var(--text-color);font-weight:600}.admin-parking-empty{text-align:center;color:var(--placeholder-color);font-size:1.1rem;margin:40px 0;grid-column:1 / -1}.admin-parking-modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.9);display:flex;justify-content:center;align-items:center;z-index:1000;opacity:0;pointer-events:none;transition:opacity .3s ease}.admin-parking-modal.active{opacity:1;pointer-events:all}.admin-parking-modal-content{position:relative;max-width:90%;max-height:90%}.admin-parking-modal-image{max-width:100%;max-height:80vh;object-fit:contain;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,.5)}.close-modal-button{position:absolute;top:-40px;right:0;background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;transition:transform .2s ease}.close-modal-button:hover{transform:rotate(90deg)}.map-view-container{background-color:var(--card-background);border-radius:12px;padding:20px;box-shadow:0 4px 6px var(--card-shadow);margin-bottom:20px}.parking-map-admin{display:grid;grid-template-columns:1fr;gap:30px}.parking-block-admin{background-color:var(--card-background);border:1px solid var(--card-border);border-radius:12px;padding:15px;box-shadow:0 2px 4px var(--card-shadow)}.parking-block-admin h3{margin:0 0 15px;color:var(--text-color);text-align:center;font-size:1.3rem}.spots-grid-admin{display:grid;gap:8px;padding:5px;background-color:var(--background-color);border-radius:8px}.spot-admin{position:relative;aspect-ratio:1;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:6px;font-size:11px;cursor:pointer;transition:all .2s ease}.spot-admin.available-spot{background-color:var(--success-color);border:1px solid var(--success-border)}.spot-admin.occupied-spot{background-color:var(--danger-color);border:1px solid var(--danger-border)}.spot-admin.selected-spot{background-color:var(--warning-color);border:2px solid var(--warning-border);box-shadow:0 0 0 3px rgba(255,193,7,.3);animation:pulse 1.5s infinite}.spot-number-admin{font-weight:700;color:var(--spot-text)}.spot-placa-admin{margin-top:3px;font-size:9px;font-weight:700;color:var(--spot-placa);max-width:100%;overflow:hidden;text-overflow:ellipsis}.spot-selected-indicator{position:absolute;top:4px;right:4px;width:10px;height:10px;background-color:var(--warning-border);border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.3)}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.03)}to{transform:scale(1)}}.selected-vehicle-info{background-color:var(--card-background);border-left:4px solid var(--warning-border);border-radius:8px;padding:20px;margin-top:20px;box-shadow:0 2px 4px var(--card-shadow)}.selected-vehicle-info h3{margin-top:0;color:var(--text-color);border-bottom:1px solid var(--card-border);padding-bottom:10px}@media (max-width: 768px){.admin-controls{flex-direction:column;align-items:stretch}.admin-parking-list,.parking-map-admin{grid-template-columns:1fr}.spots-grid-admin{grid-template-columns:repeat(auto-fill,minmax(40px,1fr))}}@media (max-width: 480px){.admin-parking-container{padding:15px}.admin-parking-container h1{font-size:1.5rem}.spot-number-admin{font-size:9px}.spot-placa-admin{font-size:7px}}._container_1so80_1{padding:20px;background-color:var(--bg-color);color:var(--text-color);min-height:100vh;transition:all .3s ease}._title_1so80_17{color:var(--primary-color);margin-bottom:24px;text-align:center}._filters_1so80_29{display:flex;gap:16px;margin-bottom:20px;flex-wrap:wrap;align-items:center;padding:12px;background-color:var(--card-bg);border-radius:8px;border:1px solid var(--border-color)}._filters_1so80_29 label{display:flex;flex-direction:column;gap:4px;font-weight:500}._dateInput_1so80_67,._periodSelect_1so80_69{padding:8px 12px;border-radius:4px;border:1px solid var(--border-color);background-color:var(--bg-color);color:var(--text-color)}._tabs_1so80_87{display:flex;gap:8px;margin-bottom:20px;border-bottom:1px solid var(--border-color);padding-bottom:8px}._tab_1so80_87,._activeTab_1so80_105{padding:8px 16px;border-radius:4px;cursor:pointer;border:none;background-color:transparent;color:var(--text-color);transition:all .2s ease}._tab_1so80_87:hover{background-color:var(--card-bg)}._activeTab_1so80_105{background-color:var(--primary-color);color:#fff;font-weight:700}._tabContent_1so80_145{background-color:var(--card-bg);padding:20px;border-radius:8px;border:1px solid var(--border-color);margin-bottom:20px}._tabContent_1so80_145 h2{color:var(--secondary-color);margin-bottom:16px}._chartContainer_1so80_171{height:400px;margin-top:20px;position:relative}._metricsContainer_1so80_183{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-bottom:24px}._metricCard_1so80_197{background-color:var(--card-bg);border-radius:8px;padding:16px;border:1px solid var(--border-color);text-align:center}._metricCard_1so80_197 h3{color:var(--accent-color);margin-bottom:8px;font-size:1rem}._metricCard_1so80_197 p{font-size:1.5rem;font-weight:700;margin:0}._themeToggle_1so80_237{position:fixed;top:20px;right:20px;z-index:100;background-color:var(--primary-color);color:#fff;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.2)}._pagoCliente-container_1p2nx_3{padding:16px;background-color:#f7f9fc;min-height:100vh;font-family:Segoe UI,sans-serif;box-sizing:border-box}._pagoCliente-titulo_1p2nx_19{font-size:2rem;margin-bottom:16px;color:#2c3e50;text-align:center}._pagoCliente-lista_1p2nx_33{list-style:none;padding:0;margin:0}._pagoCliente-item_1p2nx_45{display:flex;flex-direction:column;align-items:center;background-color:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);padding:12px;margin-bottom:20px}._pagoCliente-imagen_1p2nx_67{width:100%;max-width:100%;height:auto;border-radius:8px;object-fit:cover;margin-bottom:12px}._pagoCliente-info_1p2nx_85{width:100%;text-align:center}._pagoCliente-info_1p2nx_85 p{margin:4px 0;font-size:1rem;color:#333}@media (prefers-color-scheme: dark){._pagoCliente-container_1p2nx_3{background-color:#121212}._pagoCliente-titulo_1p2nx_19{color:#fff}._pagoCliente-item_1p2nx_45{background-color:#1e1e1e;color:#fff;box-shadow:0 2px 6px rgba(255,255,255,.05)}._pagoCliente-info_1p2nx_85 p{color:#e0e0e0}}@media (max-width: 768px){._pagoCliente-titulo_1p2nx_19{font-size:1.5rem}._pagoCliente-info_1p2nx_85 p{font-size:.95rem}._pagoCliente-item_1p2nx_45{padding:10px}}\n',document.head.appendChild(n);var i={exports:{}},o={},s={exports:{}},a={},l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator,w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function k(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||w}function E(){}function S(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||w}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=k.prototype;var T=S.prototype=new E;T.constructor=S,x(T,k.prototype),T.isPureReactComponent=!0;var C=Array.isArray,I=Object.prototype.hasOwnProperty,P={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)I.call(t,r)&&!A.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:l,type:e,key:o,ref:s,props:i,_owner:P.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var N=/\/+/g;function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case l:case c:s=!0}}if(s)return i=i(s=e),e=""===r?"."+D(s,0):r,C(i)?(n="",null!=e&&(n=e.replace(N,"$&/")+"/"),M(i,t,n,"",(function(e){return e}))):null!=i&&(R(i)&&(i=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=""===r?".":r+":",C(e))for(var a=0;a<e.length;a++){var u=r+D(o=e[a],a);s+=M(o,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=v&&e[v]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),a=0;!(o=e.next()).done;)s+=M(o=o.value,t,n,u=r+D(o,a++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function L(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},$={transition:null},U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:$,ReactCurrentOwner:P};function z(){throw Error("act(...) is not supported in production builds of React.")}a.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},a.Component=k,a.Fragment=u,a.Profiler=d,a.PureComponent=S,a.StrictMode=h,a.Suspense=m,a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,a.act=z,a.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=x({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=P.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)I.call(t,c)&&!A.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==a?a[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:l,type:e.type,key:i,ref:o,props:r,_owner:s}},a.createContext=function(e){return(e={$$typeof:p,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},a.createElement=O,a.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},a.createRef=function(){return{current:null}},a.forwardRef=function(e){return{$$typeof:g,render:e}},a.isValidElement=R,a.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:j}},a.memo=function(e,t){return{$$typeof:b,type:e,compare:void 0===t?null:t}},a.startTransition=function(e){var t=$.transition;$.transition={};try{e()}finally{$.transition=t}},a.unstable_act=z,a.useCallback=function(e,t){return F.current.useCallback(e,t)},a.useContext=function(e){return F.current.useContext(e)},a.useDebugValue=function(){},a.useDeferredValue=function(e){return F.current.useDeferredValue(e)},a.useEffect=function(e,t){return F.current.useEffect(e,t)},a.useId=function(){return F.current.useId()},a.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},a.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},a.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},a.useMemo=function(e,t){return F.current.useMemo(e,t)},a.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},a.useRef=function(e){return F.current.useRef(e)},a.useState=function(e){return F.current.useState(e)},a.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},a.useTransition=function(){return F.current.useTransition()},a.version="18.3.1",s.exports=a;var V=s.exports;const B=r(V);
/**
             * @license React
             * react-jsx-runtime.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */var H=V,W=Symbol.for("react.element"),q=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,G=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q={key:!0,ref:!0,__self:!0,__source:!0};function Y(e,t,n){var r,i={},o=null,s=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(s=t.ref),t)K.call(t,r)&&!Q.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:W,type:e,key:o,ref:s,props:i,_owner:G.current}}o.Fragment=q,o.jsx=Y,o.jsxs=Y,i.exports=o;var X=i.exports,J={exports:{}},Z={},ee={exports:{}},te={};
/**
             * @license React
             * scheduler.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,m="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function w(e){if(g=!1,v(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(c);null!==t&&N(w,t.startTime-e)}}function x(t,i){p=!1,g&&(g=!1,b(S),S=-1),f=!0;var o=d;try{for(v(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!I());){var s=h.callback;if("function"==typeof s){h.callback=null,d=h.priorityLevel;var a=s(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?h.callback=a:h===n(l)&&r(l),v(i)}else r(l);h=n(l)}if(null!==h)var u=!0;else{var m=n(c);null!==m&&N(w,m.startTime-i),u=!1}return u}finally{h=null,d=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,E=null,S=-1,T=5,C=-1;function I(){return!(e.unstable_now()-C<T)}function P(){if(null!==E){var t=e.unstable_now();C=t;var n=!0;try{n=E(!0,t)}finally{n?_():(k=!1,E=null)}}else k=!1}if("function"==typeof y)_=function(){y(P)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=P,_=function(){O.postMessage(null)}}else _=function(){m(P,0)};function R(e){E=e,k||(k=!0,_())}function N(t,n){S=m((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,R(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,o){var s=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(r.sortIndex=o,t(c,r),null===n(l)&&r===n(c)&&(g?(b(S),S=-1):g=!0,N(w,o-s))):(r.sortIndex=a,t(l,r),p||f||(p=!0,R(x))),r},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(te),ee.exports=te;var ne=ee.exports,re=V,ie=ne;
/**
             * @license React
             * react-dom.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var se=new Set,ae={};function le(e,t){ce(e,t),ce(e+"Capture",t)}function ce(e,t){for(ae[e]=t,e=0;e<t.length;e++)se.add(t[e])}var ue=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),he=Object.prototype.hasOwnProperty,de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe={},pe={};function ge(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){me[e]=new ge(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];me[t]=new ge(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){me[e]=new ge(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){me[e]=new ge(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){me[e]=new ge(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){me[e]=new ge(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){me[e]=new ge(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){me[e]=new ge(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){me[e]=new ge(e,5,!1,e.toLowerCase(),null,!1,!1)}));var be=/[\-:]([a-z])/g;function ye(e){return e[1].toUpperCase()}function ve(e,t,n,r){var i=me.hasOwnProperty(t)?me[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!he.call(pe,e)||!he.call(fe,e)&&(de.test(e)?pe[e]=!0:(fe[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,ye);me[t]=new ge(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,ye);me[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,ye);me[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){me[e]=new ge(e,1,!1,e.toLowerCase(),null,!1,!1)})),me.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){me[e]=new ge(e,1,!1,e.toLowerCase(),null,!0,!0)}));var we=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=Symbol.for("react.element"),_e=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),Te=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),De=Symbol.iterator;function Me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=De&&e[De]||e["@@iterator"])?e:null}var Le,je=Object.assign;function Fe(e){if(void 0===Le)try{throw Error()}catch(rb){var t=rb.stack.trim().match(/\n( *(at )?)/);Le=t&&t[1]||""}return"\n"+Le+e}var $e=!1;function Ue(e,t){if(!e||$e)return"";$e=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(ub){var r=ub}Reflect.construct(e,[],t)}else{try{t.call()}catch(ub){r=ub}e.call(t.prototype)}else{try{throw Error()}catch(ub){r=ub}e()}}catch(ub){if(ub&&r&&"string"==typeof ub.stack){for(var i=ub.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{$e=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fe(e):""}function ze(e){switch(e.tag){case 5:return Fe(e.type);case 16:return Fe("Lazy");case 13:return Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 2:case 15:return e=Ue(e.type,!1);case 11:return e=Ue(e.type.render,!1);case 1:return e=Ue(e.type,!0);default:return""}}function Ve(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ke:return"Fragment";case _e:return"Portal";case Se:return"Profiler";case Ee:return"StrictMode";case Pe:return"Suspense";case Ae:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ce:return(e.displayName||"Context")+".Consumer";case Te:return(e._context.displayName||"Context")+".Provider";case Ie:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Oe:return null!==(t=e.displayName||null)?t:Ve(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return Ve(e(t))}catch(rb){}}return null}function Be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(t);case 8:return t===Ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function He(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function We(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function qe(e){e._valueTracker||(e._valueTracker=function(e){var t=We(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=We(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ge(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(hy){return e.body}}function Qe(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ye(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=He(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Xe(e,t){null!=(t=t.checked)&&ve(e,"checked",t,!1)}function Je(e,t){Xe(e,t);var n=He(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?et(e,t.type,n):t.hasOwnProperty("defaultValue")&&et(e,t.type,He(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ze(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function et(e,t,n){"number"===t&&Ge(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tt=Array.isArray;function nt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+He(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function rt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(oe(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function it(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(oe(92));if(tt(n)){if(1<n.length)throw Error(oe(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:He(n)}}function ot(e,t){var n=He(t.value),r=He(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function st(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function at(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?at(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ct,ut,ht=(ut=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ct.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(e,t)}))}:ut);function dt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ft.hasOwnProperty(e)&&ft[e]?(""+t).trim():t+"px"}function mt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ft).forEach((function(e){pt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ft[t]=ft[e]}))}));var bt=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(e,t){if(t){if(bt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(oe(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(oe(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(oe(62))}}function vt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function xt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _t=null,kt=null,Et=null;function St(e){if(e=wo(e)){if("function"!=typeof _t)throw Error(oe(280));var t=e.stateNode;t&&(t=_o(t),_t(e.stateNode,e.type,t))}}function Tt(e){kt?Et?Et.push(e):Et=[e]:kt=e}function Ct(){if(kt){var e=kt,t=Et;if(Et=kt=null,St(e),t)for(e=0;e<t.length;e++)St(t[e])}}function It(e,t){return e(t)}function Pt(){}var At=!1;function Ot(e,t,n){if(At)return e(t,n);At=!0;try{return It(e,t,n)}finally{At=!1,(null!==kt||null!==Et)&&(Pt(),Ct())}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=_o(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(oe(231,t,typeof n));return n}var Nt=!1;if(ue)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ut){Nt=!1}function Mt(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(hb){this.onError(hb)}}var Lt=!1,jt=null,Ft=!1,$t=null,Ut={onError:function(e){Lt=!0,jt=e}};function zt(e,t,n,r,i,o,s,a,l){Lt=!1,jt=null,Mt.apply(Ut,arguments)}function Vt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Bt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ht(e){if(Vt(e)!==e)throw Error(oe(188))}function Wt(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Vt(e)))throw Error(oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ht(i),e;if(o===r)return Ht(i),t;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(3!==n.tag)throw Error(oe(188));return n.stateNode.current===n?e:t}(e),null!==e?qt(e):null}function qt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qt(e);if(null!==t)return t;e=e.sibling}return null}var Kt=ie.unstable_scheduleCallback,Gt=ie.unstable_cancelCallback,Qt=ie.unstable_shouldYield,Yt=ie.unstable_requestPaint,Xt=ie.unstable_now,Jt=ie.unstable_getCurrentPriorityLevel,Zt=ie.unstable_ImmediatePriority,en=ie.unstable_UserBlockingPriority,tn=ie.unstable_NormalPriority,nn=ie.unstable_LowPriority,rn=ie.unstable_IdlePriority,on=null,sn=null,an=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ln(e)/cn|0)|0},ln=Math.log,cn=Math.LN2,un=64,hn=4194304;function dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dn(a):0!=(o&=s)&&(r=dn(o))}else 0!=(s=n&~i)?r=dn(s):0!==o&&(r=dn(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-an(t)),r|=e[n],t&=~i;return r}function pn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gn(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mn(){var e=un;return!(4194240&(un<<=1))&&(un=64),e}function bn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-an(t)]=n}function vn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-an(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wn=0;function xn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var _n,kn,En,Sn,Tn,Cn=!1,In=[],Pn=null,An=null,On=null,Rn=new Map,Nn=new Map,Dn=[],Mn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ln(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(t.pointerId)}}function jn(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=wo(t))&&kn(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fn(e){var t=vo(e.target);if(null!==t){var n=Vt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Bt(n)))return e.blockedOn=t,void Tn(e.priority,(function(){En(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $n(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&kn(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,t.shift()}return!0}function Un(e,t,n){$n(e)&&n.delete(t)}function zn(){Cn=!1,null!==Pn&&$n(Pn)&&(Pn=null),null!==An&&$n(An)&&(An=null),null!==On&&$n(On)&&(On=null),Rn.forEach(Un),Nn.forEach(Un)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,Cn||(Cn=!0,ie.unstable_scheduleCallback(ie.unstable_NormalPriority,zn)))}function Bn(e){function t(t){return Vn(t,e)}if(0<In.length){Vn(In[0],e);for(var n=1;n<In.length;n++){var r=In[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pn&&Vn(Pn,e),null!==An&&Vn(An,e),null!==On&&Vn(On,e),Rn.forEach(t),Nn.forEach(t),n=0;n<Dn.length;n++)(r=Dn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&null===(n=Dn[0]).blockedOn;)Fn(n),null===n.blockedOn&&Dn.shift()}var Hn=we.ReactCurrentBatchConfig,Wn=!0;function qn(e,t,n,r){var i=wn,o=Hn.transition;Hn.transition=null;try{wn=1,Gn(e,t,n,r)}finally{wn=i,Hn.transition=o}}function Kn(e,t,n,r){var i=wn,o=Hn.transition;Hn.transition=null;try{wn=4,Gn(e,t,n,r)}finally{wn=i,Hn.transition=o}}function Gn(e,t,n,r){if(Wn){var i=Yn(e,t,n,r);if(null===i)Hi(e,t,r,Qn,n),Ln(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pn=jn(Pn,e,t,n,r,i),!0;case"dragenter":return An=jn(An,e,t,n,r,i),!0;case"mouseover":return On=jn(On,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rn.set(o,jn(Rn.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nn.set(o,jn(Nn.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ln(e,r),4&t&&-1<Mn.indexOf(e)){for(;null!==i;){var o=wo(i);if(null!==o&&_n(o),null===(o=Yn(e,t,n,r))&&Hi(e,t,r,Qn,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hi(e,t,r,null,n)}}var Qn=null;function Yn(e,t,n,r){if(Qn=null,null!==(e=vo(e=xt(r))))if(null===(t=Vt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Bt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qn=e,null}function Xn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case en:return 4;case tn:case nn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Jn=null,Zn=null,er=null;function tr(){if(er)return er;var e,t,n=Zn,r=n.length,i="value"in Jn?Jn.value:Jn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return er=i.slice(e,1<t?1-t:void 0)}function nr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ir(){return!1}function or(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:ir,this.isPropagationStopped=ir,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,ar,lr,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=or(cr),hr=je({},cr,{view:0,detail:0}),dr=or(hr),fr=je({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(sr=e.screenX-lr.screenX,ar=e.screenY-lr.screenY):ar=sr=0,lr=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),pr=or(fr),gr=or(je({},fr,{dataTransfer:0})),mr=or(je({},hr,{relatedTarget:0})),br=or(je({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=je({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vr=or(yr),wr=or(je({},cr,{data:0})),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Sr(){return Er}var Tr=je({},hr,{key:function(e){if(e.key){var t=xr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_r[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?nr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=or(Tr),Ir=or(je({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=or(je({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Ar=or(je({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=je({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=or(Or),Nr=[9,13,27,32],Dr=ue&&"CompositionEvent"in window,Mr=null;ue&&"documentMode"in document&&(Mr=document.documentMode);var Lr=ue&&"TextEvent"in window&&!Mr,jr=ue&&(!Dr||Mr&&8<Mr&&11>=Mr),Fr=String.fromCharCode(32),$r=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vr=!1,Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Br[e.type]:"textarea"===t}function Wr(e,t,n,r){Tt(r),0<(t=qi(t,"onChange")).length&&(n=new ur("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qr=null,Kr=null;function Gr(e){Fi(e,0)}function Qr(e){if(Ke(xo(e)))return e}function Yr(e,t){if("change"===e)return t}var Xr=!1;if(ue){var Jr;if(ue){var Zr="oninput"in document;if(!Zr){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zr="function"==typeof ei.oninput}Jr=Zr}else Jr=!1;Xr=Jr&&(!document.documentMode||9<document.documentMode)}function ti(){qr&&(qr.detachEvent("onpropertychange",ni),Kr=qr=null)}function ni(e){if("value"===e.propertyName&&Qr(Kr)){var t=[];Wr(t,Kr,e,xt(e)),Ot(Gr,t)}}function ri(e,t,n){"focusin"===e?(ti(),Kr=n,(qr=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ii(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Kr)}function oi(e,t){if("click"===e)return Qr(t)}function si(e,t){if("input"===e||"change"===e)return Qr(t)}var ai="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function li(e,t){if(ai(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!he.call(t,i)||!ai(e[i],t[i]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,r=ci(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ci(r)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Ge();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(ib){n=!1}if(!n)break;t=Ge((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=di(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==r&&fi(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ui(n,o);var s=ui(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=ue&&"documentMode"in document&&11>=document.documentMode,mi=null,bi=null,yi=null,vi=!1;function wi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vi||null==mi||mi!==Ge(r)||(r="selectionStart"in(r=mi)&&fi(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yi&&li(yi,r)||(yi=r,0<(r=qi(bi,"onSelect")).length&&(t=new ur("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mi)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},ki={},Ei={};function Si(e){if(ki[e])return ki[e];if(!_i[e])return e;var t,n=_i[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ei)return ki[e]=n[t];return e}ue&&(Ei=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);var Ti=Si("animationend"),Ci=Si("animationiteration"),Ii=Si("animationstart"),Pi=Si("transitionend"),Ai=new Map,Oi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){Ai.set(e,t),le(t,[e])}for(var Ni=0;Ni<Oi.length;Ni++){var Di=Oi[Ni];Ri(Di.toLowerCase(),"on"+(Di[0].toUpperCase()+Di.slice(1)))}Ri(Ti,"onAnimationEnd"),Ri(Ci,"onAnimationIteration"),Ri(Ii,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Pi,"onTransitionEnd"),ce("onMouseEnter",["mouseout","mouseover"]),ce("onMouseLeave",["mouseout","mouseover"]),ce("onPointerEnter",["pointerout","pointerover"]),ce("onPointerLeave",["pointerout","pointerover"]),le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),le("onBeforeInput",["compositionend","keypress","textInput","paste"]),le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function ji(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,a,l){if(zt.apply(this,arguments),Lt){if(!Lt)throw Error(oe(198));var c=jt;Lt=!1,jt=null,Ft||(Ft=!0,$t=c)}}(r,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ji(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ji(i,a,c),o=l}}}if(Ft)throw e=$t,Ft=!1,$t=null,e}function $i(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Bi(t,e,2,!1),n.add(r))}function Ui(e,t,n){var r=0;t&&(r|=4),Bi(n,e,r,t)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[zi]){e[zi]=!0,se.forEach((function(t){"selectionchange"!==t&&(Li.has(t)||Ui(t,!1,e),Ui(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zi]||(t[zi]=!0,Ui("selectionchange",!1,t))}}function Bi(e,t,n,r){switch(Xn(t)){case 1:var i=qn;break;case 4:i=Kn;break;default:i=Gn}n=i.bind(null,t,n,e),i=void 0,!Nt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hi(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vo(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ot((function(){var r=o,i=xt(n),s=[];e:{var a=Ai.get(e);if(void 0!==a){var l=ur,c=e;switch(e){case"keypress":if(0===nr(n))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pr;break;case Ti:case Ci:case Ii:l=br;break;case Pi:l=Ar;break;case"scroll":l=dr;break;case"wheel":l=Rr;break;case"copy":case"cut":case"paste":l=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ir}var u=!!(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&null!=(g=Rt(p,d))&&u.push(Wi(p,g,f))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===wt||!(c=n.relatedTarget||n.fromElement)||!vo(c)&&!c[go])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vo(c):null)&&(c!==(h=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pr,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ir,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:xo(l),f=null==c?a:xo(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,vo(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Ki(f))p++;for(f=0,g=d;g;g=Ki(g))f++;for(;0<p-f;)u=Ki(u),p--;for(;0<f-p;)d=Ki(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Gi(s,a,l,u,!1),null!==c&&null!==h&&Gi(s,h,c,u,!0)}if("select"===(l=(a=r?xo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yr;else if(Hr(a))if(Xr)m=si;else{m=ii;var b=ri}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=oi);switch(m&&(m=m(e,r))?Wr(s,m,n,i):(b&&b(e,a,r),"focusout"===e&&(b=a._wrapperState)&&b.controlled&&"number"===a.type&&et(a,"number",a.value)),b=r?xo(r):window,e){case"focusin":(Hr(b)||"true"===b.contentEditable)&&(mi=b,bi=r,yi=null);break;case"focusout":yi=bi=mi=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,wi(s,n,i);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":wi(s,n,i)}var y;if(Dr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Vr?Ur(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(jr&&"ko"!==n.locale&&(Vr||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vr&&(y=tr()):(Zn="value"in(Jn=i)?Jn.value:Jn.textContent,Vr=!0)),0<(b=qi(r,v)).length&&(v=new wr(v,e,null,n,i),s.push({event:v,listeners:b}),(y||null!==(y=zr(n)))&&(v.data=y))),(y=Lr?function(e,t){switch(e){case"compositionend":return zr(t);case"keypress":return 32!==t.which?null:($r=!0,Fr);case"textInput":return(e=t.data)===Fr&&$r?null:e;default:return null}}(e,n):function(e,t){if(Vr)return"compositionend"===e||!Dr&&Ur(e,t)?(e=tr(),er=Zn=Jn=null,Vr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jr&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=qi(r,"onBeforeInput")).length&&(i=new wr("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Fi(s,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Rt(e,n))&&r.unshift(Wi(e,o,i)),null!=(o=Rt(e,t))&&r.push(Wi(e,o,i))),e=e.return}return r}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gi(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Rt(n,o))&&s.unshift(Wi(n,l,a)):i||null!=(l=Rt(n,o))&&s.push(Wi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qi=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function Xi(e){return("string"==typeof e?e:""+e).replace(Qi,"\n").replace(Yi,"")}function Ji(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error(oe(425))}function Zi(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,io="function"==typeof clearTimeout?clearTimeout:void 0,oo="function"==typeof Promise?Promise:void 0,so="function"==typeof queueMicrotask?queueMicrotask:void 0!==oo?function(e){return oo.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bn(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,go="__reactContainer$"+ho,mo="__reactEvents$"+ho,bo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function vo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[fo]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(oe(33))}function _o(e){return e[po]||null}var ko=[],Eo=-1;function So(e){return{current:e}}function To(e){0>Eo||(e.current=ko[Eo],ko[Eo]=null,Eo--)}function Co(e,t){Eo++,ko[Eo]=e.current,e.current=t}var Io={},Po=So(Io),Ao=So(!1),Oo=Io;function Ro(e,t){var n=e.type.contextTypes;if(!n)return Io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function No(e){return null!=(e=e.childContextTypes)}function Do(){To(Ao),To(Po)}function Mo(e,t,n){if(Po.current!==Io)throw Error(oe(168));Co(Po,t),Co(Ao,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(oe(108,Be(e)||"Unknown",i));return je({},n,r)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,Oo=Po.current,Co(Po,e),Co(Ao,Ao.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(oe(169));n?(e=Lo(e,t,Oo),r.__reactInternalMemoizedMergedChildContext=e,To(Ao),To(Po),Co(Po,e)):To(Ao),Co(Ao,n)}var $o=null,Uo=!1,zo=!1;function Vo(e){null===$o?$o=[e]:$o.push(e)}function Bo(){if(!zo&&null!==$o){zo=!0;var e=0,t=wn;try{var n=$o;for(wn=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$o=null,Uo=!1}catch(ob){throw null!==$o&&($o=$o.slice(e+1)),Kt(Zt,Bo),ob}finally{wn=t,zo=!1}}return null}var Ho=[],Wo=0,qo=null,Ko=0,Go=[],Qo=0,Yo=null,Xo=1,Jo="";function Zo(e,t){Ho[Wo++]=Ko,Ho[Wo++]=qo,qo=e,Ko=t}function es(e,t,n){Go[Qo++]=Xo,Go[Qo++]=Jo,Go[Qo++]=Yo,Yo=e;var r=Xo;e=Jo;var i=32-an(r)-1;r&=~(1<<i),n+=1;var o=32-an(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xo=1<<32-an(t)+i|n<<i|r,Jo=o+e}else Xo=1<<o|n<<i|r,Jo=e}function ts(e){null!==e.return&&(Zo(e,1),es(e,1,0))}function ns(e){for(;e===qo;)qo=Ho[--Wo],Ho[Wo]=null,Ko=Ho[--Wo],Ho[Wo]=null;for(;e===Yo;)Yo=Go[--Qo],Go[Qo]=null,Jo=Go[--Qo],Go[Qo]=null,Xo=Go[--Qo],Go[Qo]=null}var rs=null,is=null,os=!1,ss=null;function as(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,is=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,is=null,!0);default:return!1}}function cs(e){return!(!(1&e.mode)||128&e.flags)}function us(e){if(os){var t=is;if(t){var n=t;if(!ls(e,t)){if(cs(e))throw Error(oe(418));t=co(n.nextSibling);var r=rs;t&&ls(e,t)?as(r,n):(e.flags=-4097&e.flags|2,os=!1,rs=e)}}else{if(cs(e))throw Error(oe(418));e.flags=-4097&e.flags|2,os=!1,rs=e}}}function hs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function ds(e){if(e!==rs)return!1;if(!os)return hs(e),os=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=is)){if(cs(e))throw fs(),Error(oe(418));for(;t;)as(e,t),t=co(t.nextSibling)}if(hs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=rs?co(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=is;e;)e=co(e.nextSibling)}function ps(){is=rs=null,os=!1}function gs(e){null===ss?ss=[e]:ss.push(e)}var ms=we.ReactCurrentBatchConfig;function bs(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(oe(284));if(!n._owner)throw Error(oe(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===ke?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===Re&&vs(o)===t.type)?((r=i(t,n.props)).ref=bs(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=bs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case xe:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=bs(e,null,t),n.return=e,n;case _e:return(t=Fu(t,e.mode,n)).return=e,t;case Re:return h(e,(0,t._init)(t._payload),n)}if(tt(t)||Me(t))return(t=Mu(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case xe:return n.key===i?l(e,t,n,r):null;case _e:return n.key===i?c(e,t,n,r):null;case Re:return d(e,t,(i=n._init)(n._payload),r)}if(tt(n)||Me(n))return null!==i?null:u(e,t,n,r,null);ys(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case xe:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _e:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Re:return f(e,t,n,(0,r._init)(r._payload),i)}if(tt(r)||Me(r))return u(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function p(i,s,a,l){for(var c=null,u=null,p=s,g=s=0,m=null;null!==p&&g<a.length;g++){p.index>g?(m=p,p=null):m=p.sibling;var b=d(i,p,a[g],l);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),s=o(b,s,g),null===u?c=b:u.sibling=b,u=b,p=m}if(g===a.length)return n(i,p),os&&Zo(i,g),c;if(null===p){for(;g<a.length;g++)null!==(p=h(i,a[g],l))&&(s=o(p,s,g),null===u?c=p:u.sibling=p,u=p);return os&&Zo(i,g),c}for(p=r(i,p);g<a.length;g++)null!==(m=f(p,i,g,a[g],l))&&(e&&null!==m.alternate&&p.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&p.forEach((function(e){return t(i,e)})),os&&Zo(i,g),c}function g(i,s,a,l){var c=Me(a);if("function"!=typeof c)throw Error(oe(150));if(null==(a=c.call(a)))throw Error(oe(151));for(var u=c=null,p=s,g=s=0,m=null,b=a.next();null!==p&&!b.done;g++,b=a.next()){p.index>g?(m=p,p=null):m=p.sibling;var y=d(i,p,b.value,l);if(null===y){null===p&&(p=m);break}e&&p&&null===y.alternate&&t(i,p),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y,p=m}if(b.done)return n(i,p),os&&Zo(i,g),c;if(null===p){for(;!b.done;g++,b=a.next())null!==(b=h(i,b.value,l))&&(s=o(b,s,g),null===u?c=b:u.sibling=b,u=b);return os&&Zo(i,g),c}for(p=r(i,p);!b.done;g++,b=a.next())null!==(b=f(p,i,g,b.value,l))&&(e&&null!==b.alternate&&p.delete(null===b.key?g:b.key),s=o(b,s,g),null===u?c=b:u.sibling=b,u=b);return e&&p.forEach((function(e){return t(i,e)})),os&&Zo(i,g),c}return function e(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===ke&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case xe:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===ke){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===Re&&vs(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=bs(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===ke?((o=Mu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Du(a.type,a.key,a.props,null,r.mode,l)).ref=bs(r,o,a),l.return=r,r=l)}return s(r);case _e:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(a,r.mode,l)).return=r,r=o}return s(r);case Re:return e(r,o,(u=a._init)(a._payload),l)}if(tt(a))return p(r,o,a,l);if(Me(a))return g(r,o,a,l);ys(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=ju(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xs=ws(!0),_s=ws(!1),ks=So(null),Es=null,Ss=null,Ts=null;function Cs(){Ts=Ss=Es=null}function Is(e){var t=ks.current;To(ks),e._currentValue=t}function Ps(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){Es=e,Ts=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(vl=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Es)throw Error(oe(308));Ss=e,Es.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Rs=null;function Ns(e){null===Rs?Rs=[e]:Rs.push(e)}function Ds(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ns(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ic){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return null===(i=r.interleaved)?(t.next=t,Ns(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vn(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ls=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=g.payload)?p.call(f,h,d):p))break e;h=je({},h,d);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Lc|=s,e.lanes=s,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(oe(191,i));i.call(r)}}}var Ws={},qs=So(Ws),Ks=So(Ws),Gs=So(Ws);function Qs(e){if(e===Ws)throw Error(oe(174));return e}function Ys(e,t){switch(Co(Gs,t),Co(Ks,e),Co(qs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lt(null,"");break;default:t=lt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(qs),Co(qs,t)}function Xs(){To(qs),To(Ks),To(Gs)}function Js(e){Qs(Gs.current);var t=Qs(qs.current),n=lt(t,e.type);t!==n&&(Co(Ks,e),Co(qs,n))}function Zs(e){Ks.current===e&&(To(qs),To(Ks))}var ea=So(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=we.ReactCurrentDispatcher,oa=we.ReactCurrentBatchConfig,sa=0,aa=null,la=null,ca=null,ua=!1,ha=!1,da=0,fa=0;function pa(){throw Error(oe(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,o){if(sa=o,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:el,e=n(r,i),ha){o=0;do{if(ha=!1,da=0,25<=o)throw Error(oe(301));o+=1,ca=la=null,t.updateQueue=null,ia.current=tl,e=n(r,i)}while(ha)}if(ia.current=Ja,t=null!==la&&null!==la.next,sa=0,ca=la=aa=null,ua=!1,t)throw Error(oe(300));return e}function ba(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?aa.memoizedState=ca=e:ca=ca.next=e,ca}function va(){if(null===la){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?aa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(oe(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?aa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"==typeof t?t(e):t}function xa(e){var t=va(),n=t.queue;if(null===n)throw Error(oe(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((sa&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,aa.lanes|=u,Lc|=u}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=a,ai(r,t.memoizedState)||(vl=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,aa.lanes|=o,Lc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=va(),n=t.queue;if(null===n)throw Error(oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ai(o,t.memoizedState)||(vl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ka(){}function Ea(e,t){var n=aa,r=va(),i=t(),o=!ai(r.memoizedState,i);if(o&&(r.memoizedState=i,vl=!0),r=r.queue,La(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Oa(9,Ta.bind(null,n,r,i,t),void 0,null),null===Pc)throw Error(oe(349));30&sa||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Pa(e)}function Ca(e,t,n){return n((function(){Ia(t)&&Pa(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(ib){return!0}}function Pa(e){var t=Ms(e,1);null!==t&&nu(t,e,1,-1)}function Aa(e){var t=ya();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return va().memoizedState}function Na(e,t,n,r){var i=ya();aa.flags|=e,i.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=va();r=void 0===r?null:r;var o=void 0;if(null!==la){var s=la.memoizedState;if(o=s.destroy,null!==r&&ga(r,s.deps))return void(i.memoizedState=Oa(t,n,o,r))}aa.flags|=e,i.memoizedState=Oa(1|t,n,o,r)}function Ma(e,t){return Na(8390656,8,e,t)}function La(e,t){return Da(2048,8,e,t)}function ja(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function $a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!=n?n.concat([e]):null,Da(4,4,$a.bind(null,t,e),n)}function za(){}function Va(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 21&sa?(ai(n,t)||(n=mn(),aa.lanes|=n,Lc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vl=!0),e.memoizedState=n)}function Wa(e,t){var n=wn;wn=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{wn=n,oa.transition=r}}function qa(){return va().memoizedState}function Ka(e,t,n){var r=tu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e)?Ya(t,n):null!==(n=Ds(e,t,n,r))&&(nu(n,e,r,eu()),Xa(n,t,r))}function Ga(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ai(a,s)){var l=t.interleaved;return null===l?(i.next=i,Ns(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(ub){}null!==(n=Ds(e,t,i,r))&&(nu(n,e,r,i=eu()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){ha=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vn(e,n)}}var Ja={readContext:Os,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Os,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Na(4194308,4,$a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Aa,useDebugValue:za,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Wa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ya();if(os){if(void 0===n)throw Error(oe(407));n=n()}else{if(n=t(),null===Pc)throw Error(oe(349));30&sa||Sa(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ma(Ca.bind(null,r,o,e),[e]),r.flags|=2048,Oa(9,Ta.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ya(),t=Pc.identifierPrefix;if(os){var n=Jo;t=":"+t+"R"+(n=(Xo&~(1<<32-an(Xo)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:Os,useCallback:Va,useContext:Os,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:ja,useLayoutEffect:Fa,useMemo:Ba,useReducer:xa,useRef:Ra,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(e){return Ha(va(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],va().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1},tl={readContext:Os,useCallback:Va,useContext:Os,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:ja,useLayoutEffect:Fa,useMemo:Ba,useReducer:_a,useRef:Ra,useState:function(){return _a(wa)},useDebugValue:za,useDeferredValue:function(e){var t=va();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[_a(wa)[0],va().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=je({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:je({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return!!(e=e._reactInternals)&&Vt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=$s(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Us(e,o,i))&&(nu(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=$s(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Us(e,o,i))&&(nu(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=$s(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nu(t,e,r,n),zs(t,e,r))}};function ol(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&li(n,r)&&li(i,o))}function sl(e,t,n){var r=!1,i=Io,o=t.contextType;return"object"==typeof o&&null!==o?o=Os(o):(i=No(t)?Oo:Po.current,o=(r=null!=(r=t.contextTypes))?Ro(e,i):Io),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function al(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},js(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Os(o):(o=No(t)?Oo:Po.current,i.context=Ro(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(rl(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&il.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function cl(e,t){try{var n="",r=t;do{n+=ze(r),r=r.return}while(r);var i=n}catch(sb){i="\nError generating stack: "+sb.message+"\n"+sb.stack}return{value:e,source:t,stack:i,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hl(e,t){try{console.error(t.value)}catch(rb){setTimeout((function(){throw rb}))}}var dl="function"==typeof WeakMap?WeakMap:Map;function fl(e,t,n){(n=$s(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,Wc=r),hl(0,t)},n}function pl(e,t,n){(n=$s(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hl(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){hl(0,t),"function"!=typeof r&&(null===qc?qc=new Set([this]):qc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function ml(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bl(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=$s(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e)}var yl=we.ReactCurrentOwner,vl=!1;function wl(e,t,n,r){t.child=null===e?_s(t,null,n,r):xs(t,e.child,n,r)}function xl(e,t,n,r,i){n=n.render;var o=t.ref;return As(t,i),r=ma(e,t,n,r,o,i),n=ba(),null===e||vl?(os&&n&&ts(t),t.flags|=1,wl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function _l(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Ru(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,kl(e,t,o,r,i))}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,r)&&e.ref===t.ref)return Hl(e,t,i)}return t.flags|=1,(e=Nu(o,r)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(li(o,r)&&e.ref===t.ref){if(vl=!1,t.pendingProps=r=o,!(e.lanes&i))return t.lanes=e.lanes,Hl(e,t,i);131072&e.flags&&(vl=!0)}}return Tl(e,t,n,r,i)}function El(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Co(Nc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Co(Nc,Rc),Rc|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Co(Nc,Rc),Rc|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Co(Nc,Rc),Rc|=r;return wl(e,t,i,n),t.child}function Sl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tl(e,t,n,r,i){var o=No(n)?Oo:Po.current;return o=Ro(t,o),As(t,i),n=ma(e,t,n,r,o,i),r=ba(),null===e||vl?(os&&r&&ts(t),t.flags|=1,wl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function Cl(e,t,n,r,i){if(No(n)){var o=!0;jo(t)}else o=!1;if(As(t,i),null===t.stateNode)Bl(e,t),sl(t,n,r),ll(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?Os(c):Ro(t,c=No(n)?Oo:Po.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&al(t,s,r,c),Ls=!1;var d=t.memoizedState;s.state=d,Bs(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ao.current||Ls?("function"==typeof u&&(rl(t,n,u,r),l=t.memoizedState),(a=Ls||ol(t,n,a,r,d,l,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:nl(t.type,a),s.props=c,h=t.pendingProps,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Os(l):Ro(t,l=No(n)?Oo:Po.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&al(t,s,r,l),Ls=!1,d=t.memoizedState,s.state=d,Bs(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ao.current||Ls?("function"==typeof f&&(rl(t,n,f,r),p=t.memoizedState),(c=Ls||ol(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Il(e,t,n,r,o,i)}function Il(e,t,n,r,i,o){Sl(e,t);var s=!!(128&t.flags);if(!r&&!s)return i&&Fo(t,n,!1),Hl(e,t,o);r=t.stateNode,yl.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xs(t,e.child,null,o),t.child=xs(t,null,a,o)):wl(e,t,a,o),t.memoizedState=r.state,i&&Fo(t,n,!0),t.child}function Pl(e){var t=e.stateNode;t.pendingContext?Mo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(0,t.context,!1),Ys(e,t.containerInfo)}function Al(e,t,n,r,i){return ps(),gs(i),t.flags|=256,wl(e,t,n,r),t.child}var Ol,Rl,Nl,Dl,Ml={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function jl(e,t,n){var r,i=t.pendingProps,o=ea.current,s=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Co(ea,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},1&i||null===s?s=Lu(a,i,0,null):(s.childLanes=0,s.pendingProps=a),e=Mu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ll(n),t.memoizedState=Ml,e):Fl(t,a));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,$l(e,t,s,r=ul(Error(oe(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(o=Mu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,1&t.mode&&xs(t,e.child,null,s),t.child.memoizedState=Ll(s),t.memoizedState=Ml,o);if(!(1&t.mode))return $l(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var a=r.dgst;return r=a,$l(e,t,s,r=ul(o=Error(oe(419)),r,void 0))}if(a=!!(s&e.childLanes),vl||a){if(null!==(r=Pc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|s)?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ms(e,i),nu(r,e,i,-1))}return gu(),$l(e,t,s,r=ul(Error(oe(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,is=co(i.nextSibling),rs=t,os=!0,ss=null,null!==e&&(Go[Qo++]=Xo,Go[Qo++]=Jo,Go[Qo++]=Yo,Xo=e.id,Jo=e.overflow,Yo=t),(t=Fl(t,r.children)).flags|=4096,t)}(e,t,a,i,r,o,n);if(s){s=i.fallback,a=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&a||t.child===o?(i=Nu(o,l)).subtreeFlags=14680064&o.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?s=Nu(r,s):(s=Mu(s,a,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=null===(a=e.child.memoizedState)?Ll(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Ml,i}return e=(s=e.child).sibling,i=Nu(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fl(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $l(e,t,n,r){return null!==r&&gs(r),xs(t,e.child,null,n),(e=Fl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ps(e.return,t,n)}function zl(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wl(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,n,t);else if(19===e.tag)Ul(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Co(ea,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zl(t,!0,n,null,o);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Bl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(oe(153));if(null!==t.child){for(n=Nu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wl(e,t){if(!os)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kl(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ql(t),null;case 1:case 17:return No(t.type)&&Do(),ql(t),null;case 3:return r=t.stateNode,Xs(),To(Ao),To(Po),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ss&&(su(ss),ss=null))),Rl(e,t),ql(t),null;case 5:Zs(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Nl(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(oe(166));return ql(t),null}if(e=Qs(qs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fo]=t,r[po]=o,e=!!(1&t.mode),n){case"dialog":$i("cancel",r),$i("close",r);break;case"iframe":case"object":case"embed":$i("load",r);break;case"video":case"audio":for(i=0;i<Mi.length;i++)$i(Mi[i],r);break;case"source":$i("error",r);break;case"img":case"image":case"link":$i("error",r),$i("load",r);break;case"details":$i("toggle",r);break;case"input":Ye(r,o),$i("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$i("invalid",r);break;case"textarea":it(r,o),$i("invalid",r)}for(var s in yt(n,o),i=null,o)if(o.hasOwnProperty(s)){var a=o[s];"children"===s?"string"==typeof a?r.textContent!==a&&(!0!==o.suppressHydrationWarning&&Ji(r.textContent,a,e),i=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(!0!==o.suppressHydrationWarning&&Ji(r.textContent,a,e),i=["children",""+a]):ae.hasOwnProperty(s)&&null!=a&&"onScroll"===s&&$i("scroll",r)}switch(n){case"input":qe(r),Ze(r,o,!0);break;case"textarea":qe(r),st(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Zi)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=at(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fo]=t,e[po]=r,Ol(e,t,!1,!1),t.stateNode=e;e:{switch(s=vt(n,r),n){case"dialog":$i("cancel",e),$i("close",e),i=r;break;case"iframe":case"object":case"embed":$i("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mi.length;i++)$i(Mi[i],e);i=r;break;case"source":$i("error",e),i=r;break;case"img":case"image":case"link":$i("error",e),$i("load",e),i=r;break;case"details":$i("toggle",e),i=r;break;case"input":Ye(e,r),i=Qe(e,r),$i("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),$i("invalid",e);break;case"textarea":it(e,r),i=rt(e,r),$i("invalid",e)}for(o in yt(n,i),a=i)if(a.hasOwnProperty(o)){var l=a[o];"style"===o?mt(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&ht(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&dt(e,l):"number"==typeof l&&dt(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(ae.hasOwnProperty(o)?null!=l&&"onScroll"===o&&$i("scroll",e):null!=l&&ve(e,o,l,s))}switch(n){case"input":qe(e),Ze(e,r,!1);break;case"textarea":qe(e),st(e);break;case"option":null!=r.value&&e.setAttribute("value",""+He(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?nt(e,!!r.multiple,o,!1):null!=r.defaultValue&&nt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ql(t),null;case 6:if(e&&null!=t.stateNode)Dl(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(oe(166));if(n=Qs(Gs.current),Qs(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(o=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:Ji(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(r.nodeValue,n,!!(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return ql(t),null;case 13:if(To(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(os&&null!==is&&1&t.mode&&!(128&t.flags))fs(),ps(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(oe(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(oe(317));o[fo]=t}else ps(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ql(t),o=!1}else null!==ss&&(su(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Dc&&(Dc=3):gu())),null!==t.updateQueue&&(t.flags|=4),ql(t),null);case 4:return Xs(),Rl(e,t),null===e&&Vi(t.stateNode.containerInfo),ql(t),null;case 10:return Is(t.type._context),ql(t),null;case 19:if(To(ea),null===(o=t.memoizedState))return ql(t),null;if(r=!!(128&t.flags),null===(s=o.rendering))if(r)Wl(o,!1);else{if(0!==Dc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=ta(e))){for(t.flags|=128,Wl(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Co(ea,1&ea.current|2),t.child}e=e.sibling}null!==o.tail&&Xt()>Vc&&(t.flags|=128,r=!0,Wl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!os)return ql(t),null}else 2*Xt()-o.renderingStartTime>Vc&&1073741824!==n&&(t.flags|=128,r=!0,Wl(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,n=ea.current,Co(ea,r?1&n|2:1&n),t):(ql(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Rc)&&(ql(t),6&t.subtreeFlags&&(t.flags|=8192)):ql(t),null;case 24:case 25:return null}throw Error(oe(156,t.tag))}function Gl(e,t){switch(ns(t),t.tag){case 1:return No(t.type)&&Do(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),To(Ao),To(Po),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(To(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(oe(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(ea),null;case 4:return Xs(),null;case 10:return Is(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Ol=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rl=function(){},Nl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(qs.current);var o,s=null;switch(n){case"input":i=Qe(e,i),r=Qe(e,r),s=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":i=rt(e,i),r=rt(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zi)}for(c in yt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(ae.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(null!=l||null!=a))if("style"===c)if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(ae.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&$i("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Dl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ql=!1,Yl=!1,Xl="function"==typeof WeakSet?WeakSet:Set,Jl=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(ib){Eu(e,t,ib)}else n.current=null}function ec(e,t,n){try{n()}catch(ib){Eu(e,t,ib)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[mo],delete t[bo],delete t[yo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zi));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}var uc=null,hc=!1;function dc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(sn&&"function"==typeof sn.onCommitFiberUnmount)try{sn.onCommitFiberUnmount(on,n)}catch(tP){}switch(n.tag){case 5:Yl||Zl(n,t);case 6:var r=uc,i=hc;uc=null,dc(e,t,n),hc=i,null!==(uc=r)&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Bn(e)):lo(uc,n.stateNode));break;case 4:r=uc,i=hc,uc=n.stateNode.containerInfo,hc=!0,dc(e,t,n),uc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Yl&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(2&o||4&o)&&ec(n,t,s),i=i.next}while(i!==r)}dc(e,t,n);break;case 1:if(!Yl&&(Zl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(tP){Eu(n,t,tP)}dc(e,t,n);break;case 21:dc(e,t,n);break;case 22:1&n.mode?(Yl=(r=Yl)||null!==n.memoizedState,dc(e,t,n),Yl=r):dc(e,t,n);break;default:dc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xl),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:uc=a.stateNode,hc=!1;break e;case 3:case 4:uc=a.stateNode.containerInfo,hc=!0;break e}a=a.return}if(null===uc)throw Error(oe(160));fc(o,s,i),uc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(ub){Eu(i,t,ub)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),bc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(mb){Eu(e,e.return,mb)}try{nc(5,e,e.return)}catch(mb){Eu(e,e.return,mb)}}break;case 1:gc(t,e),bc(e),512&r&&null!==n&&Zl(n,n.return);break;case 5:if(gc(t,e),bc(e),512&r&&null!==n&&Zl(n,n.return),32&e.flags){var i=e.stateNode;try{dt(i,"")}catch(mb){Eu(e,e.return,mb)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===o.type&&null!=o.name&&Xe(i,o),vt(a,s);var c=vt(a,o);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];"style"===u?mt(i,h):"dangerouslySetInnerHTML"===u?ht(i,h):"children"===u?dt(i,h):ve(i,u,h,c)}switch(a){case"input":Je(i,o);break;case"textarea":ot(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?nt(i,!!o.multiple,f,!1):d!==!!o.multiple&&(null!=o.defaultValue?nt(i,!!o.multiple,o.defaultValue,!0):nt(i,!!o.multiple,o.multiple?[]:"",!1))}i[po]=o}catch(mb){Eu(e,e.return,mb)}}break;case 6:if(gc(t,e),bc(e),4&r){if(null===e.stateNode)throw Error(oe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(mb){Eu(e,e.return,mb)}}break;case 3:if(gc(t,e),bc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bn(t.containerInfo)}catch(mb){Eu(e,e.return,mb)}break;case 4:default:gc(t,e),bc(e);break;case 13:gc(t,e),bc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zc=Xt())),4&r&&pc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Yl=(c=Yl)||u,gc(t,e),Yl=c):gc(t,e),bc(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(Jl=e,u=e.child;null!==u;){for(h=Jl=u;null!==Jl;){switch(f=(d=Jl).child,d.tag){case 0:case 11:case 14:case 15:nc(4,d,d.return);break;case 1:Zl(d,d.return);var p=d.stateNode;if("function"==typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(mb){Eu(r,n,mb)}}break;case 5:Zl(d,d.return);break;case 22:if(null!==d.memoizedState){xc(h);continue}}null!==f?(f.return=d,Jl=f):xc(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,c?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(a=h.stateNode,s=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=gt("display",s))}catch(mb){Eu(e,e.return,mb)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(mb){Eu(e,e.return,mb)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),bc(e),4&r&&pc(e);case 21:}}function bc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),cc(e,ac(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lc(e,ac(e),o);break;default:throw Error(oe(161))}}catch(cb){Eu(e,e.return,cb)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Jl=e,vc(e)}function vc(e,t,n){for(var r=!!(1&e.mode);null!==Jl;){var i=Jl,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ql;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Yl;a=Ql;var c=Yl;if(Ql=s,(Yl=l)&&!c)for(Jl=i;null!==Jl;)l=(s=Jl).child,22===s.tag&&null!==s.memoizedState?_c(i):null!==l?(l.return=s,Jl=l):_c(i);for(;null!==o;)Jl=o,vc(o),o=o.sibling;Jl=i,Ql=a,Yl=c}wc(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Jl=o):wc(e)}}function wc(e){for(;null!==Jl;){var t=Jl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Yl||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,s,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Bn(h)}}}break;default:throw Error(oe(163))}Yl||512&t.flags&&ic(t)}catch(gb){Eu(t,t.return,gb)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function xc(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function _c(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(cb){Eu(t,n,cb)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(cb){Eu(t,i,cb)}}var o=t.return;try{ic(t)}catch(cb){Eu(t,o,cb)}break;case 5:var s=t.return;try{ic(t)}catch(cb){Eu(t,s,cb)}}}catch(cb){Eu(t,t.return,cb)}if(t===e){Jl=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Jl=a;break}Jl=t.return}}var kc,Ec=Math.ceil,Sc=we.ReactCurrentDispatcher,Tc=we.ReactCurrentOwner,Cc=we.ReactCurrentBatchConfig,Ic=0,Pc=null,Ac=null,Oc=0,Rc=0,Nc=So(0),Dc=0,Mc=null,Lc=0,jc=0,Fc=0,$c=null,Uc=null,zc=0,Vc=1/0,Bc=null,Hc=!1,Wc=null,qc=null,Kc=!1,Gc=null,Qc=0,Yc=0,Xc=null,Jc=-1,Zc=0;function eu(){return 6&Ic?Xt():-1!==Jc?Jc:Jc=Xt()}function tu(e){return 1&e.mode?2&Ic&&0!==Oc?Oc&-Oc:null!==ms.transition?(0===Zc&&(Zc=mn()),Zc):0!==(e=wn)?e:e=void 0===(e=window.event)?16:Xn(e.type):1}function nu(e,t,n,r){if(50<Yc)throw Yc=0,Xc=null,Error(oe(185));yn(e,n,r),2&Ic&&e===Pc||(e===Pc&&(!(2&Ic)&&(jc|=n),4===Dc&&au(e,Oc)),ru(e,r),1===n&&0===Ic&&!(1&t.mode)&&(Vc=Xt()+500,Uo&&Bo()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-an(o),a=1<<s,l=i[s];-1===l?a&n&&!(a&r)||(i[s]=pn(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=fn(e,e===Pc?Oc:0);if(0===r)null!==n&&Gt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Gt(n),1===t)0===e.tag?function(e){Uo=!0,Vo(e)}(lu.bind(null,e)):Vo(lu.bind(null,e)),so((function(){!(6&Ic)&&Bo()})),n=null;else{switch(xn(r)){case 1:n=Zt;break;case 4:n=en;break;case 16:default:n=tn;break;case 536870912:n=rn}n=Pu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jc=-1,Zc=0,6&Ic)throw Error(oe(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=fn(e,e===Pc?Oc:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=mu(e,r);else{t=r;var i=Ic;Ic|=2;var o=pu();for(Pc===e&&Oc===t||(Bc=null,Vc=Xt()+500,du(e,t));;)try{yu();break}catch(tP){fu(e,tP)}Cs(),Sc.current=o,Ic=i,null!==Ac?t=0:(Pc=null,Oc=0,t=Dc)}if(0!==t){if(2===t&&0!==(i=gn(e))&&(r=i,t=ou(e,i)),1===t)throw n=Mc,du(e,0),au(e,r),ru(e,Xt()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ai(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=mu(e,r),2===t&&(o=gn(e),0!==o&&(r=o,t=ou(e,o))),1!==t)))throw n=Mc,du(e,0),au(e,r),ru(e,Xt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:case 5:xu(e,Uc,Bc);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=zc+500-Xt())){if(0!==fn(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ro(xu.bind(null,e,Uc,Bc),t);break}xu(e,Uc,Bc);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-an(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ec(r/1960))-r)){e.timeoutHandle=ro(xu.bind(null,e,Uc,Bc),r);break}xu(e,Uc,Bc);break;default:throw Error(oe(329))}}}return ru(e,Xt()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=$c;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Uc,Uc=n,null!==t&&su(t)),e}function su(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function au(e,t){for(t&=~Fc,t&=~jc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-an(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(6&Ic)throw Error(oe(327));_u();var t=fn(e,0);if(!(1&t))return ru(e,Xt()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=gn(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Mc,du(e,0),au(e,t),ru(e,Xt()),n;if(6===n)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Uc,Bc),ru(e,Xt()),null}function cu(e,t){var n=Ic;Ic|=1;try{return e(t)}finally{0===(Ic=n)&&(Vc=Xt()+500,Uo&&Bo())}}function uu(e){null!==Gc&&0===Gc.tag&&!(6&Ic)&&_u();var t=Ic;Ic|=1;var n=Cc.transition,r=wn;try{if(Cc.transition=null,wn=1,e)return e()}finally{wn=r,Cc.transition=n,!(6&(Ic=t))&&Bo()}}function hu(){Rc=Nc.current,To(Nc)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,io(n)),null!==Ac)for(n=Ac.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Do();break;case 3:Xs(),To(Ao),To(Po),ra();break;case 5:Zs(r);break;case 4:Xs();break;case 13:case 19:To(ea);break;case 10:Is(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Pc=e,Ac=e=Nu(e.current,null),Oc=Rc=t,Dc=0,Mc=null,Fc=jc=Lc=0,Uc=$c=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Rs=null}return e}function fu(e,t){for(;;){var n=Ac;try{if(Cs(),ia.current=Ja,ua){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(sa=0,ca=la=aa=null,ha=!1,da=0,Tc.current=null,null===n||null===n.return){Dc=1,Mc=t,Ac=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Oc,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=a,h=u.tag;if(!(1&u.mode||0!==h&&11!==h&&15!==h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ml(s);if(null!==f){f.flags&=-257,bl(f,s,a,0,t),1&f.mode&&gl(o,c,t),l=c;var p=(t=f).updateQueue;if(null===p){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}if(!(1&t)){gl(o,c,t),gu();break e}l=Error(oe(426))}else if(os&&1&a.mode){var m=ml(s);if(null!==m){!(65536&m.flags)&&(m.flags|=256),bl(m,s,a,0,t),gs(cl(l,a));break e}}o=l=cl(l,a),4!==Dc&&(Dc=2),null===$c?$c=[o]:$c.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,fl(0,l,t));break e;case 1:a=l;var b=o.type,y=o.stateNode;if(!(128&o.flags||"function"!=typeof b.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==qc&&qc.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,pl(o,a,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(v){t=v,Ac===n&&null!==n&&(Ac=n=n.return);continue}break}}function pu(){var e=Sc.current;return Sc.current=Ja,null===e?Ja:e}function gu(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Pc||!(268435455&Lc)&&!(268435455&jc)||au(Pc,Oc)}function mu(e,t){var n=Ic;Ic|=2;var r=pu();for(Pc===e&&Oc===t||(Bc=null,du(e,t));;)try{bu();break}catch(ob){fu(e,ob)}if(Cs(),Ic=n,Sc.current=r,null!==Ac)throw Error(oe(261));return Pc=null,Oc=0,Dc}function bu(){for(;null!==Ac;)vu(Ac)}function yu(){for(;null!==Ac&&!Qt();)vu(Ac)}function vu(e){var t=kc(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?wu(e):Ac=t,Tc.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Gl(n,t)))return n.flags&=32767,void(Ac=n);if(null===e)return Dc=6,void(Ac=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Kl(n,t,Rc)))return void(Ac=n);if(null!==(t=t.sibling))return void(Ac=t);Ac=t=e}while(null!==t);0===Dc&&(Dc=5)}function xu(e,t,n){var r=wn,i=Cc.transition;try{Cc.transition=null,wn=1,function(e,t,n,r){do{_u()}while(null!==Gc);if(6&Ic)throw Error(oe(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-an(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===Pc&&(Ac=Pc=null,Oc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kc||(Kc=!0,Pu(tn,(function(){return _u(),null}))),o=!!(15990&n.flags),15990&n.subtreeFlags||o){o=Cc.transition,Cc.transition=null;var s=wn;wn=1;var a=Ic;Ic|=4,Tc.current=null,function(e,t){if(eo=Wn,fi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(qy){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(a=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++c===i&&(a=s),d===o&&++u===r&&(l=s),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wn=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:nl(t.type,g),m);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(oe(163))}}catch(qy){Eu(t,t.return,qy)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}p=tc,tc=!1}(e,n),mc(n,e),pi(to),Wn=!!eo,to=eo=null,e.current=n,yc(n),Yt(),Ic=a,wn=s,Cc.transition=o}else e.current=n;if(Kc&&(Kc=!1,Gc=e,Qc=i),0===(o=e.pendingLanes)&&(qc=null),function(e){if(sn&&"function"==typeof sn.onCommitFiberRoot)try{sn.onCommitFiberRoot(on,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=Wc,Wc=null,e;!!(1&Qc)&&0!==e.tag&&_u(),1&(o=e.pendingLanes)?e===Xc?Yc++:(Yc=0,Xc=e):Yc=0,Bo()}(e,t,n,r)}finally{Cc.transition=i,wn=r}return null}function _u(){if(null!==Gc){var e=xn(Qc),t=Cc.transition,n=wn;try{if(Cc.transition=null,wn=16>e?16:e,null===Gc)var r=!1;else{if(e=Gc,Gc=null,Qc=0,6&Ic)throw Error(oe(331));var i=Ic;for(Ic|=4,Jl=e.current;null!==Jl;){var o=Jl,s=o.child;if(16&Jl.flags){var a=o.deletions;if(null!==a){for(var l=0;l<a.length;l++){var c=a[l];for(Jl=c;null!==Jl;){var u=Jl;switch(u.tag){case 0:case 11:case 15:nc(8,u,o)}var h=u.child;if(null!==h)h.return=u,Jl=h;else for(;null!==Jl;){var d=(u=Jl).sibling,f=u.return;if(oc(u),u===c){Jl=null;break}if(null!==d){d.return=f,Jl=d;break}Jl=f}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Jl=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,Jl=s;else e:for(;null!==Jl;){if(2048&(o=Jl).flags)switch(o.tag){case 0:case 11:case 15:nc(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,Jl=b;break e}Jl=o.return}}var y=e.current;for(Jl=y;null!==Jl;){var v=(s=Jl).child;if(2064&s.subtreeFlags&&null!==v)v.return=s,Jl=v;else e:for(s=y;null!==Jl;){if(2048&(a=Jl).flags)try{switch(a.tag){case 0:case 11:case 15:rc(9,a)}}catch(x){Eu(a,a.return,x)}if(a===s){Jl=null;break e}var w=a.sibling;if(null!==w){w.return=a.return,Jl=w;break e}Jl=a.return}}if(Ic=i,Bo(),sn&&"function"==typeof sn.onPostCommitFiberRoot)try{sn.onPostCommitFiberRoot(on,e)}catch(x){}r=!0}return r}finally{wn=n,Cc.transition=t}}return!1}function ku(e,t,n){e=Us(e,t=fl(0,t=cl(n,t),1),1),t=eu(),null!==e&&(yn(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===qc||!qc.has(r))){t=Us(t,e=pl(t,e=cl(n,e),1),1),e=eu(),null!==t&&(yn(t,1,e),ru(t,e));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Pc===e&&(Oc&n)===n&&(4===Dc||3===Dc&&(130023424&Oc)===Oc&&500>Xt()-zc?du(e,0):Fc|=n),ru(e,t)}function Tu(e,t){0===t&&(1&e.mode?(t=hn,!(130023424&(hn<<=1))&&(hn=4194304)):t=1);var n=eu();null!==(e=Ms(e,t))&&(yn(e,t,n),ru(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}null!==r&&r.delete(t),Tu(e,n)}function Pu(e,t){return Kt(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Au(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Ru(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ke:return Mu(n.children,i,o,t);case Ee:s=8,i|=8;break;case Se:return(e=Ou(12,n,t,2|i)).elementType=Se,e.lanes=o,e;case Pe:return(e=Ou(13,n,t,i)).elementType=Pe,e.lanes=o,e;case Ae:return(e=Ou(19,n,t,i)).elementType=Ae,e.lanes=o,e;case Ne:return Lu(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Te:s=10;break e;case Ce:s=9;break e;case Ie:s=11;break e;case Oe:s=14;break e;case Re:s=16,r=null;break e}throw Error(oe(130,null==e?e:typeof e,""))}return(t=Ou(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=Ne,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bn(0),this.expirationTimes=bn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,o,s,a,l){return e=new $u(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ou(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(o),e}function zu(e){if(!e)return Io;e:{if(Vt(e=e._reactInternals)!==e||1!==e.tag)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(oe(171))}if(1===e.tag){var n=e.type;if(No(n))return Lo(e,n,t)}return t}function Vu(e,t,n,r,i,o,s,a,l){return(e=Uu(n,r,!0,e,0,o,0,a,l)).context=zu(null),n=e.current,(o=$s(r=eu(),i=tu(n))).callback=null!=t?t:null,Us(n,o,i),e.current.lanes=i,yn(e,i,r),ru(e,r),e}function Bu(e,t,n,r){var i=t.current,o=eu(),s=tu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=$s(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,s))&&(nu(e,i,s,o),zs(e,i,s)),s}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}kc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ao.current)vl=!0;else{if(!(e.lanes&n||128&t.flags))return vl=!1,function(e,t,n){switch(t.tag){case 3:Pl(t),ps();break;case 5:Js(t);break;case 1:No(t.type)&&jo(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Co(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Co(ea,1&ea.current),t.flags|=128,null):n&t.child.childLanes?jl(e,t,n):(Co(ea,1&ea.current),null!==(e=Hl(e,t,n))?e.sibling:null);Co(ea,1&ea.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Vl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Co(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,El(e,t,n)}return Hl(e,t,n)}(e,t,n);vl=!!(131072&e.flags)}else vl=!1,os&&1048576&t.flags&&es(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var i=Ro(t,Po.current);As(t,n),i=ma(null,t,r,e,i,n);var o=ba();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(o=!0,jo(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,js(t),i.updater=il,t.stateNode=i,i._reactInternals=t,ll(t,r,e,n),t=Il(null,t,r,!0,o,n)):(t.tag=0,os&&o&&ts(t),wl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===Ie)return 11;if(e===Oe)return 14}return 2}(r),e=nl(r,e),i){case 0:t=Tl(null,t,r,e,n);break e;case 1:t=Cl(null,t,r,e,n);break e;case 11:t=xl(null,t,r,e,n);break e;case 14:t=_l(null,t,r,nl(r.type,e),n);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 3:e:{if(Pl(t),null===e)throw Error(oe(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),Bs(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Al(e,t,r,n,i=cl(Error(oe(423)),t));break e}if(r!==i){t=Al(e,t,r,n,i=cl(Error(oe(424)),t));break e}for(is=co(t.stateNode.containerInfo.firstChild),rs=t,os=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Hl(e,t,n);break e}wl(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,no(r,i)?s=null:null!==o&&no(r,o)&&(t.flags|=32),Sl(e,t),wl(e,t,s,n),t.child;case 6:return null===e&&us(t),null;case 13:return jl(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):wl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 7:return wl(e,t,t.pendingProps,n),t.child;case 8:case 12:return wl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Co(ks,r._currentValue),r._currentValue=s,null!==o)if(ai(o.value,s)){if(o.children===i.children&&!Ao.current){t=Hl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var a=o.dependencies;if(null!==a){s=o.child;for(var l=a.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=$s(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ps(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(oe(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ps(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}wl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,As(t,n),r=r(i=Os(i)),t.flags|=1,wl(e,t,r,n),t.child;case 14:return i=nl(r=t.type,t.pendingProps),_l(e,t,r,i=nl(r.type,i),n);case 15:return kl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nl(r,i),Bl(e,t),t.tag=1,No(r)?(e=!0,jo(t)):e=!1,As(t,n),sl(t,r,i),ll(t,r,i,n),Il(null,t,r,!0,e,n);case 19:return Vl(e,t,n);case 22:return El(e,t,n)}throw Error(oe(156,t.tag))};var Ku="function"==typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Hu(s);a.call(e)}}Bu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Hu(s);o.call(e)}}var s=Vu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=s,e[go]=s.current,Vi(8===e.nodeType?e.parentNode:e),uu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Hu(l);a.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[go]=l.current,Vi(8===e.nodeType?e.parentNode:e),uu((function(){Bu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(s)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(oe(409));Bu(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu((function(){Bu(null,e,null,null)})),t[go]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&0!==t&&t<Dn[n].priority;n++);Dn.splice(n,0,e),0===n&&Fn(e)}},_n=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dn(t.pendingLanes);0!==n&&(vn(t,1|n),ru(t,Xt()),!(6&Ic)&&(Vc=Xt()+500,Bo()))}break;case 13:uu((function(){var t=Ms(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},kn=function(e){if(13===e.tag){var t=Ms(e,134217728);null!==t&&nu(t,e,134217728,eu()),qu(e,134217728)}},En=function(e){if(13===e.tag){var t=tu(e),n=Ms(e,t);null!==n&&nu(n,e,t,eu()),qu(e,t)}},Sn=function(){return wn},Tn=function(e,t){var n=wn;try{return wn=e,t()}finally{wn=n}},_t=function(e,t,n){switch(t){case"input":if(Je(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_o(r);if(!i)throw Error(oe(90));Ke(r),Je(r,i)}}}break;case"textarea":ot(e,n);break;case"select":null!=(t=n.value)&&nt(e,!!n.multiple,t,!1)}},It=cu,Pt=uu;var eh={usingClientEntryPoint:!1,Events:[wo,xo,_o,Tt,Ct,cu]},th={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nh={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Wt(e))?null:e.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{on=rh.inject(nh),sn=rh}catch(ut){}}Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,Z.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(oe(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_e,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},Z.createRoot=function(e,t){if(!Yu(e))throw Error(oe(299));var n=!1,r="",i=Ku;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[go]=t.current,Vi(8===e.nodeType?e.parentNode:e),new Gu(t)},Z.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(oe(188));throw e=Object.keys(e).join(","),Error(oe(268,e))}return e=null===(e=Wt(t))?null:e.stateNode},Z.flushSync=function(e){return uu(e)},Z.hydrate=function(e,t,n){if(!Xu(t))throw Error(oe(200));return Zu(null,e,t,!0,n)},Z.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(oe(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ku;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,s),e[go]=t.current,Vi(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},Z.render=function(e,t,n){if(!Xu(t))throw Error(oe(200));return Zu(null,e,t,!1,n)},Z.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(oe(40));return!!e._reactRootContainer&&(uu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},Z.unstable_batchedUpdates=cu,Z.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(oe(200));if(null==e||void 0===e._reactInternals)throw Error(oe(38));return Zu(e,t,n,!1,r)},Z.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(GI){console.error(GI)}}(),J.exports=Z;var ih,oh=J.exports,sh=oh;ih=sh.createRoot,sh.hydrateRoot;var ah={};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const lh=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lh(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new uh;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uh extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hh=function(e){return function(e){const t=lh(e);return ch.encodeByteArray(t,!0)}(e).replace(/\./g,"")},dh=function(e){try{return ch.decodeString(e,!0)}catch(ob){console.error("base64Decode failed: ",ob)}return null},fh=()=>
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */().__FIREBASE_DEFAULTS__,ph=()=>{try{return fh()||(()=>{if("undefined"==typeof process||void 0===ah)return;const e=ah.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ob){return}const t=e&&dh(e[1]);return t&&JSON.parse(t)})()}catch(ob){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ob}`)}},gh=e=>{var t,n;return null===(n=null===(t=ph())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},mh=e=>{const t=gh(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},bh=()=>{var e;return null===(e=ph())||void 0===e?void 0:e.config},yh=e=>{var t;return null===(t=ph())||void 0===t?void 0:t[`_${e}`]};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class vh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function wh(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[hh(JSON.stringify({alg:"none",type:"JWT"})),hh(JSON.stringify(o)),""].join(".")}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function xh(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _h(){return!function(){var e;const t=null===(e=ph())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ob){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class kh extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,kh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eh.prototype.create)}}class Eh{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(Sh,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new kh(r,s,n)}}const Sh=/\{\$([^}]+)}/g;function Th(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ch(n)&&Ch(o)){if(!Th(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ch(e){return null!==e&&"object"==typeof e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Ih(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ph(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ah(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Oh{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Rh),void 0===r.error&&(r.error=Rh),void 0===r.complete&&(r.complete=Rh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ob){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ob){"undefined"!=typeof console&&console.error&&console.error(ob)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Rh(){}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Nh(e){return e&&e._delegate?e._delegate:e}class Dh{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Mh="[DEFAULT]";
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Lh{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new vh;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ob){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ob){if(r)return null;throw ob}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e))try{this.getOrInitializeService({instanceIdentifier:Mh})}catch(ob){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ob){}}}}clearInstance(e=Mh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Mh){return this.instances.has(e)}getOptions(e=Mh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&o.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Mh?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=Mh){return this.component?this.component.multipleInstances?e:Mh:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class jh{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Lh(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var Fh;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fh||(Fh={}));const $h={debug:Fh.DEBUG,verbose:Fh.VERBOSE,info:Fh.INFO,warn:Fh.WARN,error:Fh.ERROR,silent:Fh.SILENT},Uh=Fh.INFO,zh={[Fh.DEBUG]:"log",[Fh.VERBOSE]:"log",[Fh.INFO]:"info",[Fh.WARN]:"warn",[Fh.ERROR]:"error"},Vh=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=zh[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Bh{constructor(e){this.name=e,this._logLevel=Uh,this._logHandler=Vh,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fh))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$h[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fh.DEBUG,...e),this._logHandler(this,Fh.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fh.VERBOSE,...e),this._logHandler(this,Fh.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fh.INFO,...e),this._logHandler(this,Fh.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fh.WARN,...e),this._logHandler(this,Fh.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fh.ERROR,...e),this._logHandler(this,Fh.ERROR,...e)}}const Hh=(e,t)=>t.some((t=>e instanceof t));let Wh,qh;const Kh=new WeakMap,Gh=new WeakMap,Qh=new WeakMap,Yh=new WeakMap,Xh=new WeakMap;let Jh={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gh.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qh.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return td(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Zh(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qh||(qh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(nd(this),t),td(Kh.get(this))}:function(...t){return td(e.apply(nd(this),t))}:function(t,...n){const r=e.call(nd(this),t,...n);return Qh.set(r,t.sort?t.sort():[t]),td(r)}}function ed(e){return"function"==typeof e?Zh(e):(e instanceof IDBTransaction&&function(e){if(Gh.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Gh.set(e,t)}(e),Hh(e,Wh||(Wh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Jh):e)}function td(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(td(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Kh.set(t,e)})).catch((()=>{})),Xh.set(t,e),t}(e);if(Yh.has(e))return Yh.get(e);const t=ed(e);return t!==e&&(Yh.set(e,t),Xh.set(t,e)),t}const nd=e=>Xh.get(e),rd=["get","getKey","getAll","getAllKeys","count"],id=["put","add","delete","clear"],od=new Map;function sd(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(od.get(t))return od.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=id.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rd.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return od.set(t,o),o}!function(e){Jh=e(Jh)}((e=>({...e,get:(t,n,r)=>sd(t,n)||e.get(t,n,r),has:(t,n)=>!!sd(t,n)||e.has(t,n)})));
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class ad{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const ld="@firebase/app",cd="0.10.8",ud=new Bh("@firebase/app"),hd="@firebase/app-compat",dd="@firebase/analytics-compat",fd="@firebase/analytics",pd="@firebase/app-check-compat",gd="@firebase/app-check",md="@firebase/auth",bd="@firebase/auth-compat",yd="@firebase/database",vd="@firebase/database-compat",wd="@firebase/functions",xd="@firebase/functions-compat",_d="@firebase/installations",kd="@firebase/installations-compat",Ed="@firebase/messaging",Sd="@firebase/messaging-compat",Td="@firebase/performance",Cd="@firebase/performance-compat",Id="@firebase/remote-config",Pd="@firebase/remote-config-compat",Ad="@firebase/storage",Od="@firebase/storage-compat",Rd="@firebase/firestore",Nd="@firebase/vertexai-preview",Dd="@firebase/firestore-compat",Md="firebase",Ld="[DEFAULT]",jd={[ld]:"fire-core",[hd]:"fire-core-compat",[fd]:"fire-analytics",[dd]:"fire-analytics-compat",[gd]:"fire-app-check",[pd]:"fire-app-check-compat",[md]:"fire-auth",[bd]:"fire-auth-compat",[yd]:"fire-rtdb",[vd]:"fire-rtdb-compat",[wd]:"fire-fn",[xd]:"fire-fn-compat",[_d]:"fire-iid",[kd]:"fire-iid-compat",[Ed]:"fire-fcm",[Sd]:"fire-fcm-compat",[Td]:"fire-perf",[Cd]:"fire-perf-compat",[Id]:"fire-rc",[Pd]:"fire-rc-compat",[Ad]:"fire-gcs",[Od]:"fire-gcs-compat",[Rd]:"fire-fst",[Dd]:"fire-fst-compat",[Nd]:"fire-vertex","fire-js":"fire-js",[Md]:"fire-js-all"},Fd=new Map,$d=new Map,Ud=new Map;function zd(e,t){try{e.container.addComponent(t)}catch(ob){ud.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,ob)}}function Vd(e){const t=e.name;if(Ud.has(t))return ud.debug(`There were multiple attempts to register component ${t}.`),!1;Ud.set(t,e);for(const n of Fd.values())zd(n,e);for(const n of $d.values())zd(n,e);return!0}function Bd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Hd(e){return void 0!==e.settings}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Wd=new Eh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class qd{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Dh("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wd.create("app-deleted",{appName:this._name})}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Kd="10.12.5";function Gd(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Ld,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Wd.create("bad-app-name",{appName:String(i)});if(n||(n=bh()),!n)throw Wd.create("no-options");const o=Fd.get(i);if(o){if(Th(n,o.options)&&Th(r,o.config))return o;throw Wd.create("duplicate-app",{appName:i})}const s=new jh(i);for(const l of Ud.values())s.addComponent(l);const a=new qd(n,r,s);return Fd.set(i,a),a}function Qd(e=Ld){const t=Fd.get(e);if(!t&&e===Ld&&bh())return Gd();if(!t)throw Wd.create("no-app",{appName:e});return t}function Yd(e,t,n){var r;let i=null!==(r=jd[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ud.warn(e.join(" "))}Vd(new Dh(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Xd="firebase-heartbeat-database",Jd=1,Zd="firebase-heartbeat-store";let ef=null;function tf(){return ef||(ef=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=td(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(td(s.result),e.oldVersion,e.newVersion,td(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Xd,Jd,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Zd)}catch(ob){console.warn(ob)}}}).catch((e=>{throw Wd.create("idb-open",{originalErrorMessage:e.message})}))),ef}async function nf(e,t){try{const n=(await tf()).transaction(Zd,"readwrite"),r=n.objectStore(Zd);await r.put(t,rf(e)),await n.done}catch(ob){if(ob instanceof kh)ud.warn(ob.message);else{const t=Wd.create("idb-set",{originalErrorMessage:null==ob?void 0:ob.message});ud.warn(t.message)}}}function rf(e){return`${e.name}!${e.options.appId}`}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class of{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new af(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sf();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=sf(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),lf(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lf(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function sf(){return(new Date).toISOString().substring(0,10)}class af{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(ob){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await tf()).transaction(Zd),n=await t.objectStore(Zd).get(rf(e));return await t.done,n}catch(ob){if(ob instanceof kh)ud.warn(ob.message);else{const t=Wd.create("idb-get",{originalErrorMessage:null==ob?void 0:ob.message});ud.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nf(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nf(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function lf(e){return hh(JSON.stringify({version:2,heartbeats:e})).length}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var cf;function uf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function hf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}cf="",Vd(new Dh("platform-logger",(e=>new ad(e)),"PRIVATE")),Vd(new Dh("heartbeat",(e=>new of(e)),"PRIVATE")),Yd(ld,cd,cf),Yd(ld,cd,"esm2017"),Yd("fire-js",""),"function"==typeof SuppressedError&&SuppressedError;const df=hf,ff=new Eh("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pf=new Bh("@firebase/auth");function gf(e,...t){pf.logLevel<=Fh.ERROR&&pf.error(`Auth (${Kd}): ${e}`,...t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function mf(e,...t){throw wf(e,...t)}function bf(e,...t){return wf(e,...t)}function yf(e,t,n){const r=Object.assign(Object.assign({},df()),{[t]:n});return new Eh("auth","Firebase",r).create(t,{appName:e.name})}function vf(e){return yf(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wf(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ff.create(e,...t)}function xf(e,t,...n){if(!e)throw wf(t,...n)}function _f(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gf(t),new Error(t)}function kf(e,t){e||_f(t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Ef(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Sf(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Tf(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==Sf()&&"https:"!==Sf()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Cf{constructor(e,t){this.shortDelay=e,this.longDelay=t,kf(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xh())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Tf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function If(e,t){kf(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Pf{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void _f("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void _f("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void _f("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Af={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Of=new Cf(3e4,6e4);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Rf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Nf(e,t,n,r,i={}){return Df(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Ih(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Pf.fetch()(Lf(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Df(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Af),t);try{const t=new Ff(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $f(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw $f(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw $f(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw $f(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw yf(e,a,s);mf(e,a)}}catch(ob){if(ob instanceof kh)throw ob;mf(e,"network-request-failed",{message:String(ob)})}}async function Mf(e,t,n,r,i={}){const o=await Nf(e,t,n,r,i);return"mfaPendingCredential"in o&&mf(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Lf(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?If(e.config,i):`${e.config.apiScheme}://${i}`}function jf(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ff{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(bf(this.auth,"network-request-failed"))),Of.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function $f(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bf(e,t,r);return i.customData._tokenResponse=n,i}function Uf(e){return void 0!==e&&void 0!==e.enterprise}class zf{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jf(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Vf(e,t){return Nf(e,"POST","/v1/accounts:lookup",t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Bf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ob){}}async function Hf(e,t=!1){const n=Nh(e),r=await n.getIdToken(t),i=qf(r);xf(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Bf(Wf(i.auth_time)),issuedAtTime:Bf(Wf(i.iat)),expirationTime:Bf(Wf(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}function Wf(e){return 1e3*Number(e)}function qf(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gf("JWT malformed, contained fewer than 3 sections"),null;try{const e=dh(n);return e?JSON.parse(e):(gf("Failed to decode base64 JWT payload"),null)}catch(ob){return gf("Caught error parsing JWT payload as JSON",null==ob?void 0:ob.toString()),null}}function Kf(e){const t=qf(e);return xf(t,"internal-error"),xf(void 0!==t.exp,"internal-error"),xf(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function Gf(e,t,n=!1){if(n)return t;try{return await t}catch(ob){throw ob instanceof kh&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(ob)&&e.auth.currentUser===e&&await e.auth.signOut(),ob}}class Qf{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ob){return void("auth/network-request-failed"===(null==ob?void 0:ob.code)&&this.schedule(!0))}this.schedule()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Yf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bf(this.lastLoginAt),this.creationTime=Bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function Xf(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Gf(e,Vf(n,{idToken:r}));xf(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Jf(o.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),u=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yf(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function Jf(e){return e.map((e=>{var{providerId:t}=e,n=uf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Zf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xf(e.idToken,"internal-error"),xf(void 0!==e.idToken,"internal-error"),xf(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Kf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xf(0!==e.length,"internal-error");const t=Kf(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(xf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Df(e,{},(async()=>{const n=Ih({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Lf(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Pf.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Zf;return n&&(xf("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(xf("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(xf("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zf,this.toJSON())}_performRefresh(){return _f("not implemented")}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function ep(e,t){xf("string"==typeof e||void 0===e,"internal-error",{appName:t})}class tp{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=uf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Gf(this,this.stsTokenManager.getToken(this.auth,e));return xf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Hf(this,e)}reload(){return async function(e){const t=Nh(e);await Xf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(xf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hd(this.auth.app))return Promise.reject(vf(this.auth));const e=await this.getIdToken();return await Gf(this,
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,t){return Nf(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:v,isAnonymous:w,providerData:x,stsTokenManager:_}=t;xf(y&&_,e,"internal-error");const k=Zf.fromJSON(this.name,_);xf("string"==typeof y,e,"internal-error"),ep(u,e.name),ep(h,e.name),xf("boolean"==typeof v,e,"internal-error"),xf("boolean"==typeof w,e,"internal-error"),ep(d,e.name),ep(f,e.name),ep(p,e.name),ep(g,e.name),ep(m,e.name),ep(b,e.name);const E=new tp({uid:y,auth:e,email:h,emailVerified:v,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:b});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new Zf;r.updateFromServerResponse(t);const i=new tp({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xf(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];xf(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Jf(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),s=new Zf;s.updateFromIdToken(n);const a=new tp({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Yf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(a,l),a}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const np=new Map;function rp(e){kf(e instanceof Function,"Expected a class definition");let t=np.get(e);return t?(kf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,np.set(e,t),t)}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ip{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ip.type="NONE";const op=ip;
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function sp(e,t,n){return`firebase:${e}:${t}:${n}`}class ap{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=sp(this.userKey,r.apiKey,i),this.fullPersistenceKey=sp("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tp._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ap(rp(op),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||rp(op);const o=sp(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=tp._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new ap(i,e,n)):new ap(i,e,n)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function lp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pp(t))return"Blackberry";if(gp(t))return"Webos";if(up(t))return"Safari";if((t.includes("chrome/")||hp(t))&&!t.includes("edge/"))return"Chrome";if(fp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function cp(e=xh()){return/firefox\//i.test(e)}function up(e=xh()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hp(e=xh()){return/crios\//i.test(e)}function dp(e=xh()){return/iemobile/i.test(e)}function fp(e=xh()){return/android/i.test(e)}function pp(e=xh()){return/blackberry/i.test(e)}function gp(e=xh()){return/webos/i.test(e)}function mp(e=xh()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bp(){return function(){const e=xh();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function yp(e=xh()){return mp(e)||fp(e)||gp(e)||pp(e)||/windows phone/i.test(e)||dp(e)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function vp(e,t=[]){let n;switch(e){case"Browser":n=lp(xh());break;case"Worker":n=`${lp(xh())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kd}/${r}`}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class wp{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(ob){r(ob)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ob){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==ob?void 0:ob.message})}}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class xp{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class _p{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ep(this),this.idTokenSubscription=new Ep(this),this.beforeStateQueue=new wp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ff,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rp(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ap.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ob){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Vf(this,{idToken:e}),n=await tp._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(GI){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",GI),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Hd(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ob){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(ob)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ob){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(ob){if("auth/network-request-failed"!==(null==ob?void 0:ob.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hd(this.app))return Promise.reject(vf(this));const t=e?Nh(e):null;return t&&xf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Hd(this.app)?Promise.reject(vf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hd(this.app)?Promise.reject(vf(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(rp(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Nf(e,"GET","/v2/passwordPolicy",Rf(e,t))}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this),t=new xp(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Eh("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Nf(e,"POST","/v2/accounts:revokeToken",Rf(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rp(e)||this._popupRedirectResolver;xf(t,this,"argument-error"),this.redirectPersistenceManager=await ap.create(this,[rp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(xf(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){pf.logLevel<=Fh.WARN&&pf.warn(`Auth (${Kd}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function kp(e){return Nh(e)}class Ep{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Oh(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return xf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let Sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tp(e){return Sp.loadJS(e)}class Cp{constructor(e){this.type="recaptcha-enterprise",this.auth=kp(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return Nf(e,"GET","/v2/recaptchaConfig",Rf(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new zf(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))}function r(t,n,r){const i=window.grecaptcha;Uf(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{n(this.auth).then((n=>{if(!t&&Uf(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=Sp.recaptchaEnterpriseScript;0!==t.length&&(t+=n),Tp(t).then((()=>{r(n,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function Ip(e,t,n,r=!1){const i=new Cp(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Pp(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ip(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ip(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Ap(e,t,n){const r=kp(e);xf(r._canInitEmulator,r,"emulator-config-failed"),xf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=Op(t),{host:o,port:s}=function(e){const t=Op(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Rp(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Rp(t)}}}(t),a=null===s?"":`:${s}`;r.config.emulator={url:`${i}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */()}function Op(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Np{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _f("not implemented")}_getIdTokenResponse(e){return _f("not implemented")}_linkToIdToken(e,t){return _f("not implemented")}_getReauthenticationResolver(e){return _f("not implemented")}}async function Dp(e,t){return Nf(e,"POST","/v1/accounts:signUp",t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function Mp(e,t){return Mf(e,"POST","/v1/accounts:signInWithPassword",Rf(e,t))}async function Lp(e,t){return Nf(e,"POST","/v1/accounts:sendOobCode",Rf(e,t))}async function jp(e,t){return Lp(e,t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Fp extends Np{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Fp(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Fp(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Pp(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Mp);case"emailLink":return async function(e,t){return Mf(e,"POST","/v1/accounts:signInWithEmailLink",Rf(e,t))}(e,{email:this._email,oobCode:this._password});default:mf(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Pp(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dp);case"emailLink":return async function(e,t){return Mf(e,"POST","/v1/accounts:signInWithEmailLink",Rf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:mf(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function $p(e,t){return Mf(e,"POST","/v1/accounts:signInWithIdp",Rf(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Up extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Up(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mf("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=uf(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Up(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return $p(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$p(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$p(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ih(t)}return e}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class zp{constructor(e){var t,n,r,i,o,s;const a=Ph(Ah(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);xf(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Ph(Ah(e)).link,n=t?Ph(Ah(t)).deep_link_id:null,r=Ph(Ah(e)).deep_link_id;return(r?Ph(Ah(r)).link:null)||r||n||t||e}(e);try{return new zp(t)}catch(n){return null}}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Vp{constructor(){this.providerId=Vp.PROVIDER_ID}static credential(e,t){return Fp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=zp.parseLink(t);return xf(n,"argument-error"),Fp._fromEmailAndCode(e,n.code,n.tenantId)}}Vp.PROVIDER_ID="password",Vp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Hp extends Bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Wp extends Hp{constructor(){super("facebook.com")}static credential(e){return Up._fromParams({providerId:Wp.PROVIDER_ID,signInMethod:Wp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wp.credentialFromTaggedObject(e)}static credentialFromError(e){return Wp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Wp.credential(e.oauthAccessToken)}catch(t){return null}}}Wp.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wp.PROVIDER_ID="facebook.com";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class qp extends Hp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Up._fromParams({providerId:qp.PROVIDER_ID,signInMethod:qp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qp.credentialFromTaggedObject(e)}static credentialFromError(e){return qp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return qp.credential(t,n)}catch(r){return null}}}qp.GOOGLE_SIGN_IN_METHOD="google.com",qp.PROVIDER_ID="google.com";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Kp extends Hp{constructor(){super("github.com")}static credential(e){return Up._fromParams({providerId:Kp.PROVIDER_ID,signInMethod:Kp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kp.credentialFromTaggedObject(e)}static credentialFromError(e){return Kp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Kp.credential(e.oauthAccessToken)}catch(t){return null}}}Kp.GITHUB_SIGN_IN_METHOD="github.com",Kp.PROVIDER_ID="github.com";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Gp extends Hp{constructor(){super("twitter.com")}static credential(e,t){return Up._fromParams({providerId:Gp.PROVIDER_ID,signInMethod:Gp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gp.credentialFromTaggedObject(e)}static credentialFromError(e){return Gp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Gp.credential(t,n)}catch(r){return null}}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function Qp(e,t){return Mf(e,"POST","/v1/accounts:signUp",Rf(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */Gp.TWITTER_SIGN_IN_METHOD="twitter.com",Gp.PROVIDER_ID="twitter.com";class Yp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await tp._fromIdTokenResponse(e,n,r),o=Xp(n);return new Yp({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Xp(n);return new Yp({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Xp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Jp extends kh{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Jp.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Jp(e,t,n,r)}}function Zp(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Jp._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function eg(e,t,n=!1){if(Hd(e.app))return Promise.reject(vf(e));const r="signIn",i=await Zp(e,r,t),o=await Yp._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function tg(e,t){return eg(kp(e),t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function ng(e){const t=kp(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rg(e,t){const n=Nh(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:i}=await async function(e,t){return Lp(e,t)}(n.auth,r);i!==e.email&&await e.reload()}function ig(e){return Nh(e).signOut()}const og="__sak";
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class sg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(og,"1"),this.storage.removeItem(og),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ag extends sg{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=xh();return up(e)||mp(e)}()&&function(){try{return!(!window||window===window.top)}catch(ob){return!1}}(),this.fallbackToPolling=yp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);bp()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ag.type="LOCAL";const lg=ag;
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class cg extends sg{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cg.type="SESSION";const ug=cg;
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class hg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new hg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function dg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */hg.receivers=[];class fg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=dg("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function pg(){return window}
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function gg(){return void 0!==pg().WorkerGlobalScope&&"function"==typeof pg().importScripts}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const mg="firebaseLocalStorageDb",bg="firebaseLocalStorage",yg="fbase_key";class vg{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function wg(e,t){return e.transaction([bg],t?"readwrite":"readonly").objectStore(bg)}function xg(){const e=indexedDB.open(mg,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(bg,{keyPath:yg})}catch(ob){n(ob)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(bg)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(mg);return new vg(e).toPromise()}(),t(await xg()))}))}))}async function _g(e,t,n){const r=wg(e,!0).put({[yg]:t,value:n});return new vg(r).toPromise()}function kg(e,t){const n=wg(e,!0).delete(t);return new vg(n).toPromise()}class Eg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await xg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ob){if(t++>3)throw ob;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hg._getInstance(gg()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new fg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await _g(e,og,"1"),await kg(e,og),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>_g(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=wg(e,!1).get(t),r=await new vg(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>kg(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=wg(e,!1).getAll();return new vg(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Eg.type="LOCAL";const Sg=Eg;new Cf(3e4,6e4);
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Tg extends Np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $p(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $p(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $p(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cg(e){return eg(e.auth,new Tg(e),e.bypassAuthState)}function Ig(e){const{auth:t,user:n}=e;return xf(n,t,"internal-error"),
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,t,n=!1){const{auth:r}=e;if(Hd(r.app))return Promise.reject(vf(r));const i="reauthenticate";try{const o=await Gf(e,Zp(r,i,t,e),n);xf(o.idToken,r,"internal-error");const s=qf(o.idToken);xf(s,r,"internal-error");const{sub:a}=s;return xf(e.uid===a,r,"user-mismatch"),Yp._forOperation(e,i,o)}catch(ob){throw"auth/user-not-found"===(null==ob?void 0:ob.code)&&mf(r,"user-mismatch"),ob}}(n,new Tg(e),e.bypassAuthState)}async function Pg(e){const{auth:t,user:n}=e;return xf(n,t,"internal-error"),async function(e,t,n=!1){const r=await Gf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yp._forOperation(e,"link",r)}(n,new Tg(e),e.bypassAuthState)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Ag{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ob){this.reject(ob)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(ob){this.reject(ob)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cg;case"linkViaPopup":case"linkViaRedirect":return Pg;case"reauthViaPopup":case"reauthViaRedirect":return Ig;default:mf(this.auth,"internal-error")}}resolve(e){kf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Og=new Cf(2e3,1e4);class Rg extends Ag{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Rg.currentPopupAction&&Rg.currentPopupAction.cancel(),Rg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xf(e,this.auth,"internal-error"),e}async onExecution(){kf(1===this.filter.length,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(bf(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(bf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(bf(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Og.get())};e()}}Rg.currentPopupAction=null;
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const Ng="pendingRedirect",Dg=new Map;class Mg extends Ag{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Dg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return sp(Ng,e.config.apiKey,e.name)}(t),r=function(e){return rp(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ob){e=()=>Promise.reject(ob)}Dg.set(this.auth._key(),e)}return this.bypassAuthState||Dg.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Lg(e,t){Dg.set(e._key(),t)}async function jg(e,t,n=!1){if(Hd(e.app))return Promise.reject(vf(e));const r=kp(e),i=
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e,t){return t?rp(t):(xf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new Mg(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Fg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ug(e);default:return!1}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ug(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($g(e))}saveEventToCache(e){this.cachedEventUids.add($g(e)),this.lastProcessedEventTime=Date.now()}}function $g(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ug({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const zg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vg=/^https?/;async function Bg(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Nf(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(Hg(r))return}catch(n){}mf(e,"unauthorized-domain")}function Hg(e){const t=Ef(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Vg.test(n))return!1;if(zg.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Wg=new Cf(3e4,6e4);function qg(){const e=pg().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Kg(e){return new Promise(((t,n)=>{var r,i,o;function s(){qg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qg(),n(bf(e,"network-request-failed"))},timeout:Wg.get()})}if(null===(i=null===(r=pg().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=pg().gapi)||void 0===o?void 0:o.load)){const t=function(e){return`__${e}${Math.floor(1e6*Math.random())}`}("iframefcb");return pg()[t]=()=>{gapi.load?s():n(bf(e,"network-request-failed"))},Tp(`${Sp.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Gg=null,e}))}let Gg=null;
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const Qg=new Cf(5e3,15e3),Yg="__/auth/iframe",Xg="emulator/auth/iframe",Jg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function em(e){const t=e.config;xf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?If(t,Xg):`https://${e.config.authDomain}/${Yg}`,r={apiKey:t.apiKey,appName:e.name,v:Kd},i=Zg.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ih(r).slice(1)}`}async function tm(e){const t=await function(e){return Gg=Gg||Kg(e),Gg}(e),n=pg().gapi;return xf(n,e,"internal-error"),t.open({where:document.body,url:em(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jg,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=bf(e,"network-request-failed"),o=pg().setTimeout((()=>{r(i)}),Qg.get());function s(){pg().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const nm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ob){}}}function im(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},nm),{width:r.toString(),height:i.toString(),top:o,left:s}),c=xh().toLowerCase();n&&(a=hp(c)?"_blank":n),cp(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=xh()){var t;return mp(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(t||"",a),new rm(null);const h=window.open(t||"",a,u);xf(h,e,"popup-blocked");try{h.focus()}catch(ob){}return new rm(h)}const om="__/auth/handler",sm="emulator/auth/handler",am=encodeURIComponent("fac");async function lm(e,t,n,r,i,o){xf(e.config.authDomain,e,"auth-domain-config-required"),xf(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Kd,eventId:i};if(t instanceof Bp){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))s[e]=t}if(t instanceof Hp){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${am}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?If(e,sm):`https://${e.authDomain}/${om}`}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)}?${Ih(a).slice(1)}${c}`}const cm="webStorageSupport",um=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ug,this._completeRedirectFn=jg,this._overrideRedirectResult=Lg}async _openPopup(e,t,n,r){var i;return kf(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),im(e,await lm(e,t,n,Ef(),r),dg())}async _openRedirect(e,t,n,r){return await this._originValidation(e),function(e){pg().location.href=e}(await lm(e,t,n,Ef(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(kf(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await tm(e),n=new Fg(e);return t.register("authEvent",(t=>(xf(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cm,{type:cm},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[cm];void 0!==i&&t(!!i),mf(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bg(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yp()||up()||mp()}};var hm="@firebase/auth",dm="1.7.6";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class fm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const pm=yh("authIdTokenMaxAge")||300;let gm=null;function mm(e=Qd()){const t=Bd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Bd(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Th(n.getOptions(),null!=t?t:{}))return e;mf(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:um,persistence:[Sg,lg,ug]}),r=yh("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>pm)return;const r=null==t?void 0:t.token;gm!==r&&(gm=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Nh(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Nh(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=gh("auth");return o&&Ap(n,`http://${o}`),n}var bm;function ym(e,t){return ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ym(e,t)}function vm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ym(e,t)}!function(e){Sp=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=bf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),bm="Browser",Vd(new Dh("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;xf(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:bm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vp(bm)},l=new _p(n,r,i,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rp);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Vd(new Dh("auth-internal",(e=>(e=>new fm(e))(kp(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yd(hm,dm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(bm)),Yd(hm,dm,"esm2017");var wm={exports:{}};function xm(){}function _m(){}_m.resetWarningCache=xm,wm.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_m,resetWarningCache:xm};return n.PropTypes=n,n}();const km=r(wm.exports);function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Em.apply(null,arguments)}function Sm(e){return"/"===e.charAt(0)}function Tm(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var Cm="Invariant failed";function Im(e,t){throw new Error(Cm)}function Pm(e){return"/"===e.charAt(0)?e:"/"+e}function Am(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Om(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Rm(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Nm(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=Em({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(ob){throw ob instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):ob}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&Sm(e),s=t&&Sm(t),a=o||s;if(e&&Sm(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,u=i.length;u>=0;u--){var h=i[u];"."===h?Tm(i,u):".."===h?(Tm(i,u),c++):c&&(Tm(i,u),c--)}if(!a)for(;c--;c)i.unshift("..");!a||""===i[0]||i[0]&&Sm(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Dm(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Mm=!("undefined"==typeof window||!window.document||!window.document.createElement);function Lm(e,t){t(window.confirm(e))}var jm="popstate",Fm="hashchange";function $m(){try{return window.history.state||{}}catch(ob){return{}}}function Um(e){void 0===e&&(e={}),Mm||Im();var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,s=void 0!==o&&o,a=i.getUserConfirmation,l=void 0===a?Lm:a,c=i.keyLength,u=void 0===c?6:c,h=e.basename?Om(Pm(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&(o=Am(o,h)),Nm(o,r,n)}function f(){return Math.random().toString(36).substr(2,u)}var p=Dm();function g(e){Em(C,e),C.length=t.length,p.notifyListeners(C.location,C.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||v(d(e.state))}function b(){v(d($m()))}var y=!1;function v(e){y?(y=!1,g()):p.confirmTransitionTo(e,"POP",l,(function(t){t?g({action:"POP",location:e}):function(e){var t=C.location,n=x.indexOf(t.key);-1===n&&(n=0);var r=x.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,k(i))}(e)}))}var w=d($m()),x=[w.key];function _(e){return h+Rm(e)}function k(e){t.go(e)}var E=0;function S(e){1===(E+=e)&&1===e?(window.addEventListener(jm,m),r&&window.addEventListener(Fm,b)):0===E&&(window.removeEventListener(jm,m),r&&window.removeEventListener(Fm,b))}var T=!1,C={length:t.length,action:"POP",location:w,createHref:_,push:function(e,r){var i="PUSH",o=Nm(e,r,f(),C.location);p.confirmTransitionTo(o,i,l,(function(e){if(e){var r=_(o),a=o.key,l=o.state;if(n)if(t.pushState({key:a,state:l},null,r),s)window.location.href=r;else{var c=x.indexOf(C.location.key),u=x.slice(0,c+1);u.push(o.key),x=u,g({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=Nm(e,r,f(),C.location);p.confirmTransitionTo(o,i,l,(function(e){if(e){var r=_(o),a=o.key,l=o.state;if(n)if(t.replaceState({key:a,state:l},null,r),s)window.location.replace(r);else{var c=x.indexOf(C.location.key);-1!==c&&(x[c]=o.key),g({action:i,location:o})}else window.location.replace(r)}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return T||(S(1),T=!0),function(){return T&&(T=!1,S(-1)),t()}},listen:function(e){var t=p.appendListener(e);return S(1),function(){S(-1),t()}}};return C}var zm={exports:{}},Vm=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};zm.exports=Jm,zm.exports.parse=Hm,zm.exports.compile=function(e,t){return qm(Hm(e,t),t)},zm.exports.tokensToFunction=qm,zm.exports.tokensToRegExp=Xm;var Bm=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Hm(e,t){for(var n,r=[],i=0,o=0,s="",a=t&&t.delimiter||"/";null!=(n=Bm.exec(e));){var l=n[0],c=n[1],u=n.index;if(s+=e.slice(o,u),o=u+l.length,c)s+=c[1];else{var h=e[o],d=n[2],f=n[3],p=n[4],g=n[5],m=n[6],b=n[7];s&&(r.push(s),s="");var y=null!=d&&null!=h&&h!==d,v="+"===m||"*"===m,w="?"===m||"*"===m,x=n[2]||a,_=p||g;r.push({name:f||i++,prefix:d||"",delimiter:x,optional:w,repeat:v,partial:y,asterisk:!!b,pattern:_?Gm(_):b?".*":"[^"+Km(x)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function Wm(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function qm(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",Ym(t)));return function(t,r){for(var i="",o=t||{},s=(r||{}).pretty?Wm:encodeURIComponent,a=0;a<e.length;a++){var l=e[a];if("string"!=typeof l){var c,u=o[l.name];if(null==u){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Vm(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<u.length;h++){if(c=s(u[h]),!n[a].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===h?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(u),!n[a].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function Km(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Gm(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Qm(e,t){return e.keys=t,e}function Ym(e){return e&&e.sensitive?"":"i"}function Xm(e,t,n){Vm(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"==typeof a)o+=Km(a);else{var l=Km(a.prefix),c="(?:"+a.pattern+")";t.push(a),a.repeat&&(c+="(?:"+l+c+")*"),o+=c=a.optional?a.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=Km(n.delimiter||"/"),h=o.slice(-u.length)===u;return r||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+u+"|$)",Qm(new RegExp("^"+o,Ym(n)),t)}function Jm(e,t,n){return Vm(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Qm(e,t)}(e,t):Vm(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(Jm(e[i],t,n).source);return Qm(new RegExp("(?:"+r.join("|")+")",Ym(n)),t)}(e,t,n):function(e,t,n){return Xm(Hm(e,n),t,n)}(e,t,n)}const Zm=r(zm.exports);var eb={exports:{}},tb={},nb="function"==typeof Symbol&&Symbol.for,rb=nb?Symbol.for("react.element"):60103,ib=nb?Symbol.for("react.portal"):60106,ob=nb?Symbol.for("react.fragment"):60107,sb=nb?Symbol.for("react.strict_mode"):60108,ab=nb?Symbol.for("react.profiler"):60114,lb=nb?Symbol.for("react.provider"):60109,cb=nb?Symbol.for("react.context"):60110,ub=nb?Symbol.for("react.async_mode"):60111,hb=nb?Symbol.for("react.concurrent_mode"):60111,db=nb?Symbol.for("react.forward_ref"):60112,fb=nb?Symbol.for("react.suspense"):60113,pb=nb?Symbol.for("react.suspense_list"):60120,gb=nb?Symbol.for("react.memo"):60115,mb=nb?Symbol.for("react.lazy"):60116,bb=nb?Symbol.for("react.block"):60121,yb=nb?Symbol.for("react.fundamental"):60117,vb=nb?Symbol.for("react.responder"):60118,wb=nb?Symbol.for("react.scope"):60119;function xb(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case rb:switch(e=e.type){case ub:case hb:case ob:case ab:case sb:case fb:return e;default:switch(e=e&&e.$$typeof){case cb:case db:case mb:case gb:case lb:return e;default:return t}}case ib:return t}}}function _b(e){return xb(e)===hb}function kb(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}tb.AsyncMode=ub,tb.ConcurrentMode=hb,tb.ContextConsumer=cb,tb.ContextProvider=lb,tb.Element=rb,tb.ForwardRef=db,tb.Fragment=ob,tb.Lazy=mb,tb.Memo=gb,tb.Portal=ib,tb.Profiler=ab,tb.StrictMode=sb,tb.Suspense=fb,tb.isAsyncMode=function(e){return _b(e)||xb(e)===ub},tb.isConcurrentMode=_b,tb.isContextConsumer=function(e){return xb(e)===cb},tb.isContextProvider=function(e){return xb(e)===lb},tb.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===rb},tb.isForwardRef=function(e){return xb(e)===db},tb.isFragment=function(e){return xb(e)===ob},tb.isLazy=function(e){return xb(e)===mb},tb.isMemo=function(e){return xb(e)===gb},tb.isPortal=function(e){return xb(e)===ib},tb.isProfiler=function(e){return xb(e)===ab},tb.isStrictMode=function(e){return xb(e)===sb},tb.isSuspense=function(e){return xb(e)===fb},tb.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===ob||e===hb||e===ab||e===sb||e===fb||e===pb||"object"==typeof e&&null!==e&&(e.$$typeof===mb||e.$$typeof===gb||e.$$typeof===lb||e.$$typeof===cb||e.$$typeof===db||e.$$typeof===yb||e.$$typeof===vb||e.$$typeof===wb||e.$$typeof===bb)},tb.typeOf=xb,eb.exports=tb;var Eb=eb.exports,Sb={};Sb[Eb.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sb[Eb.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Tb=1073741823,Cb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},Ib=B.createContext||function(e,t){var n,r,i,o="__create-react-context-"+(Cb[i="__global_unique_id__"]=(Cb[i]||0)+1)+"__",s=function(e){function n(){for(var t,n,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}vm(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(n="function"==typeof t?t(r,i):Tb,0!=(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(B.Component);s.childContextTypes=((n={})[o]=km.object.isRequired,n);var a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){e.observedBits&n&&e.setState({value:e.getValue()})},e}vm(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?Tb:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?Tb:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(B.Component);return a.contextTypes=((r={})[o]=km.object,r),{Provider:s,Consumer:a}},Pb=function(e){var t=Ib();return t.displayName=e,t},Ab=Pb("Router-History"),Ob=Pb("Router"),Rb=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}vm(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return B.createElement(Ob.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},B.createElement(Ab.Provider,{children:this.props.children||null,value:this.props.history}))},t}(B.Component);B.Component,B.Component;var Nb={},Db=1e4,Mb=0;function Lb(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,s=n.strict,a=void 0!==s&&s,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Nb[n]||(Nb[n]={});if(r[e])return r[e];var i=[],o={regexp:Zm(e,i,t),keys:i};return Mb<Db&&(r[e]=o,Mb++),o}(n,{end:o,strict:a,sensitive:c}),i=r.regexp,s=r.keys,l=i.exec(e);if(!l)return null;var u=l[0],h=l.slice(1),d=e===u;return o&&!d?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:d,params:s.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var jb=function(e){function t(){return e.apply(this,arguments)||this}return vm(t,e),t.prototype.render=function(){var e=this;return B.createElement(Ob.Consumer,null,(function(t){t||Im();var n=e.props.location||t.location,r=Em({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Lb(n.pathname,e.props):t.match}),i=e.props,o=i.children,s=i.component,a=i.render;return Array.isArray(o)&&function(e){return 0===B.Children.count(e)}(o)&&(o=null),B.createElement(Ob.Provider,{value:r},r.match?o?"function"==typeof o?o(r):o:s?B.createElement(s,r):a?a(r):null:"function"==typeof o?o(r):null)}))},t}(B.Component);B.Component;var Fb=function(e){function t(){return e.apply(this,arguments)||this}return vm(t,e),t.prototype.render=function(){var e=this;return B.createElement(Ob.Consumer,null,(function(t){t||Im();var n,r,i=e.props.location||t.location;return B.Children.forEach(e.props.children,(function(e){if(null==r&&B.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?Lb(i.pathname,Em({},e.props,{path:o})):t.match}})),r?B.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(B.Component),$b=B.useContext;function Ub(){return $b(Ab)}var zb=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Um(t.props),t}return vm(t,e),t.prototype.render=function(){return B.createElement(Rb,{history:this.history,children:this.props.children})},t}(B.Component);B.Component;var Vb=function(e,t){return"function"==typeof e?e(t):e},Bb=function(e,t){return"string"==typeof e?Nm(e,null,null,t):e},Hb=function(e){return e},Wb=B.forwardRef;void 0===Wb&&(Wb=Hb);var qb=Wb((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=kb(e,["innerRef","navigate","onClick"]),s=o.target,a=Em({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return a.ref=Hb!==Wb&&t||n,B.createElement("a",a)})),Kb=Wb((function(e,t){var n=e.component,r=void 0===n?qb:n,i=e.replace,o=e.to,s=e.innerRef,a=kb(e,["component","replace","to","innerRef"]);return B.createElement(Ob.Consumer,null,(function(e){e||Im();var n=e.history,l=Bb(Vb(o,e.location),e.location),c=l?n.createHref(l):"",u=Em({},a,{href:c,navigate:function(){var t=Vb(o,e.location),r=Rm(e.location)===Rm(Bb(t));(i||r?n.replace:n.push)(t)}});return Hb!==Wb?u.ref=t||s:u.innerRef=s,B.createElement(r,u)}))})),Gb=function(e){return e},Qb=B.forwardRef;void 0===Qb&&(Qb=Gb),Qb((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,s=e.activeStyle,a=e.className,l=e.exact,c=e.isActive,u=e.location,h=e.sensitive,d=e.strict,f=e.style,p=e.to,g=e.innerRef,m=kb(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return B.createElement(Ob.Consumer,null,(function(e){e||Im();var n=u||e.location,i=Bb(Vb(p,n),n),b=i.pathname,y=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),v=y?Lb(n.pathname,{path:y,exact:l,sensitive:h,strict:d}):null,w=!!(c?c(v,n):v),x="function"==typeof a?a(w):a,_="function"==typeof f?f(w):f;w&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,o),_=Em({},_,s));var k=Em({"aria-current":w&&r||null,className:x,style:_,to:i},m);return Gb!==Qb?k.ref=t||g:k.innerRef=g,B.createElement(Kb,k)}))})),
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
Yd("firebase","10.12.5","app");var Yb,Xb,Jb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
            Copyright The Closure Library Authors.
            SPDX-License-Identifier: Apache-2.0
            */(function(){var e;
/** @license

             Copyright The Closure Library Authors.
             SPDX-License-Identifier: Apache-2.0
            */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=b(n),r=b(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);h(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new g(i,e)}function b(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(o)>>>16,m=65535&e.i(o);n[2*i+2*o]+=f*m,p(n,2*i+2*o),n[2*i+2*o+1]+=l*m,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*g,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*g,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Xb=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},Yb=r}).apply(void 0!==Jb?Jb:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Zb,ey,ty,ny,ry,iy,oy,sy,ay,ly="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
            Copyright The Closure Library Authors.
            SPDX-License-Identifier: Apache-2.0
            */(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ly&&ly];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));
/** @license

             Copyright The Closure Library Authors.
             SPDX-License-Identifier: Apache-2.0
            */
var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var b=!(-1==g().indexOf("Gecko")||-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge")||-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE")||-1!=g().indexOf("Edge"));function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function v(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(O)}};var O=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(rb){k(rb)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function R(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(rb){}return e}();function M(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(b){e:{try{m(t.nodeName);var i=!0;break e}catch(sb){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,N);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),F=0;function $(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=B(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new $(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=Z(n),e&&e[j]?e.K(t,n,s(r)?!!r.capture:!!r,i):function(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=X(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Y;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=Z(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=B(o=e.g[t],n,r,i))&&(U(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&G(n))}function G(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?(V(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function Q(e){return e in W?W[e]:W[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function X(e){return(e=e[H])instanceof z?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function ee(){R.call(this),this.i=new z(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;x(t=new N(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ne(s,r,!0,t)&&i}if(i=ne(s=t.g=e,r,!0,t)&&i,i=ne(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ne(s=t.g=n[o],r,!1,t)&&i}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&V(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ie(e){e.g=re((()=>{e.g=null,e.i&&(e.i=!1,ie(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ee,R),ee.prototype[j]=!0,ee.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(e){R.call(this),this.h=e,this.g={}}h(se,R);var ae=[];function le(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&G(e)}),e),e.g={}}se.prototype.N=function(){se.aa.N.call(this),le(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=i.JSON.stringify,ue=i.JSON.parse,he=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function de(){}function fe(e){return e.h||(e.h=e.i())}function pe(){}de.prototype.h=null;var ge={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function me(){N.call(this,"d")}function be(){N.call(this,"c")}h(me,N),h(be,N);var ye={},ve=null;function we(){return ve=ve||new ee}function xe(e){N.call(this,ye.La,e)}function _e(e){const t=we();te(t,new xe(t))}function ke(e,t){N.call(this,ye.STAT_EVENT,e),this.stat=t}function Ee(e){const t=we();te(t,new ke(t,e))}function Se(e,t){N.call(this,ye.Ma,e),this.size=t}function Te(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ce(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ce(n)}catch(hb){return t}}(e,n)+(r?" "+r:"")}))}ye.La="serverreachability",h(xe,N),ye.STAT_EVENT="statevent",h(ke,N),ye.Ma="timingevent",h(Se,N),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Pe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Ne(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new se(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}h(Re,de),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Pe=new Re;var Me={},Le={};function je(e,t,n){e.L=1,e.v=ct(it(t)),e.m=n,e.P=!0,Fe(e,null)}function Fe(e,t){e.F=Date.now(),ze(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ae[0]=i.toString()),i=ae);for(var o=0;o<i.length;o++){var s=q(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Le:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Le:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,Ve(e,e.I)}function Ve(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function Be(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||sn(e.j,e)}function We(e){Be(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Xe(n.h,e)))if(!e.K&&Xe(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(ub){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Gt(n)}tn(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Ye(n.h)&&n.ca){try{n.ca()}catch(ub){}n.ca=void 0}}else ln(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Je(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=un(r,r.J?r.ia:null,r.W),s.K){Ze(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(Be(a),ze(a)),r.g=s}else en(r);0<n.i.length&&Yt(n)}else"stop"!=c[0]&&"close"!=c[0]||ln(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ln(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(ub){}}Ne.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Bt(e)?t.j():this.Y(e)},Ne.prototype.Y=function(e){try{if(e==this.g)e:{const d=Bt(this.g);var t=this.g.Ba();if(this.g.Z(),!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=d||7==t||_e(),Be(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=Ht(this.g);e="";var o=r.length,s=4==Bt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){We(this),He(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),We(this),He(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ue(this,a),e==Le){4==d&&(this.s=4,Ee(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ee(15),Ie(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),qe(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),nn(h),h.M=!0,Ee(11))}}else Ie(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),He(this)}else Ie(this.i,this.l,a,null),qe(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?sn(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=Bt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),We(this),He(this)}}}catch(yb){}},Ne.prototype.cancel=function(){this.J=!0,We(this)},Ne.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(_e(),Ee(17)),We(this),this.s=2,He(this)):Ve(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,e=i.PerformanceNavigationTiming?0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ye(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Ge.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,st(this,e.s),this.l=e.l;var t=e.i,n=new vt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),at(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),st(this,t[4]),this.l=ht(t[5]||"",!0),at(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new vt(null,this.h))}function it(e){return new rt(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function st(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function at(e,t,n){t instanceof vt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,bt)),e.i=new vt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,pt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?mt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,yt)),e.join("")};var pt=/[#\/\?@]/g,gt=/[#\?:]/g,mt=/[#\?]/g,bt=/[#\?@]/g,yt=/#/g;function vt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){wt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return wt(e),t=Et(e,t),e.g.has(t)}function kt(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),d(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(sb){}}function Tt(){this.g=new he}function Ct(e,t,n){const r=n||"";try{tt(e,(function(e,n){let i=e;s(e)&&(i=ce(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(ob){throw t.push(r+"type="+encodeURIComponent("_badmap")),ob}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Mt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=vt.prototype).add=function(e,t){wt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"==typeof e)_t(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,_t(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},h(It,de),It.prototype.g=function(){return new Pt(this.l,this.j)},It.prototype.i=function(e){return function(){return e}}({}),h(Pt,ee),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Rt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ee);var Lt=/^https?$/i,jt=["POST","PUT"];function Ft(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),zt(e)}function $t(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ut(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=Bt(e)||2!=e.Z()))if(e.u&&4==Bt(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==Bt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(nt)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Lt.test(s?s.toLowerCase():"")}n=o}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var a=2<Bt(e)?e.g.statusText:""}catch(hb){a=""}e.l=a+" ["+e.Z()+"]",$t(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Vt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=r}catch(ob){}}}function Vt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Bt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(hy){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Qt(e),3==e.G){var t=e.U++,n=it(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Jt(e,n),(t=new Ne(e,e.j,t)).L=2,t.v=ct(it(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(ib){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}cn(e)}function Gt(e){e.g&&(nn(e),e.g.cancel(),e.g=null)}function Qt(e){Gt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Yt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||A(),I||(C(),I=!0),P.add(t,e),e.B=0}}function Xt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Jt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new Ne(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Zt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Je(e.h,n),je(n,r,t)}function Jt(e,t){e.H&&y(e.H,(function(e,n){lt(t,n,e)})),e.l&&tt({},(function(e,n){lt(t,n,e)}))}function Zt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Ct(a,e,"req"+n+"_")}catch(yb){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function en(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||A(),I||(C(),I=!0),P.add(t,e),e.v=0}}function tn(e){return!(e.g||e.u||3<=e.v||(e.Y++,e.u=Te(c(e.Fa,e),an(e,e.v)),e.v++,0))}function nn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function rn(e){e.g=new Ne(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(it(t)),n.m=null,n.P=!0,Fe(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),nn(e),e.g=null;var r=2}else{if(!Xe(e.h,t))return;n=t.D,Ze(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;te(r=we(),new Se(r,n)),Yt(e)}else en(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ye(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Te(c(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==r&&tn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ln(e,5);break;case 4:ln(e,10);break;case 3:ln(e,6);break;default:ln(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function ln(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ct(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(St,n,"TestLoadImage: error",!1,t,r),r.onabort=u(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(St,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout((()=>{n.abort(),St(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)})).catch((()=>{clearTimeout(r),St(0,0,!1,t)}))}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),cn(e),Qt(e)}function cn(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function un(e,t,n){var r=n instanceof rt?it(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),st(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new rt(null);r&&ot(s,r),t&&(s.g=t),o&&st(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Jt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function dn(){}function fn(){}function pn(e,t){ee.call(this),this.g=new qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new bn(this)}function gn(e){me.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?fe(this.o):fe(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(sb){return void Ft(this,sb)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(jt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(sb){Ft(this,sb)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch(ut){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ut){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ue(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=un(this,null,this.W),Yt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ne(this,this.j,e);let o=this.o;if(this.S&&(o?(o=v(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zt(this,i,t),lt(n=it(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Jt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Nt(o)))+"&"+t:this.m&&Dt(n,this.m,o)),Je(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,je(i,n,null)):je(i,n,t),this.G=2}}else 3==this.G&&(e?Xt(this,e):0==this.i.length||Qe(this.h)||Xt(this))},e.Fa=function(){if(this.u=null,rn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Gt(this),rn(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),tn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=dn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new pn(e,t)},h(pn,ee),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Kt(this.g)},pn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&Yt(t)},pn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,pn.aa.N.call(this)},h(gn,me),h(mn,be),h(bn,dn),bn.prototype.ua=function(){te(this.g,"a")},bn.prototype.ta=function(e){te(this.g,new gn(e))},bn.prototype.sa=function(e){te(this.g,new mn)},bn.prototype.ra=function(){te(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,ay=function(){return new fn},sy=function(){return we()},oy=ye,iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,ry=Ae,Oe.COMPLETE="complete",ny=Oe,pe.EventType=ge,ge.OPEN="a",ge.CLOSE="b",ge.ERROR="c",ge.MESSAGE="d",ee.prototype.listen=ee.prototype.K,ty=pe,ey=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Zb=Mt}).apply(void 0!==ly?ly:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const cy="@firebase/firestore";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class uy{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}uy.UNAUTHENTICATED=new uy(null),uy.GOOGLE_CREDENTIALS=new uy("google-credentials-uid"),uy.FIRST_PARTY=new uy("first-party-uid"),uy.MOCK_USER=new uy("mock-user");
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
let hy="10.12.5";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const dy=new Bh("@firebase/firestore");function fy(){return dy.logLevel}function py(e,...t){if(dy.logLevel<=Fh.DEBUG){const n=t.map(by);dy.debug(`Firestore (${hy}): ${e}`,...n)}}function gy(e,...t){if(dy.logLevel<=Fh.ERROR){const n=t.map(by);dy.error(`Firestore (${hy}): ${e}`,...n)}}function my(e,...t){if(dy.logLevel<=Fh.WARN){const n=t.map(by);dy.warn(`Firestore (${hy}): ${e}`,...n)}}function by(e){if("string"==typeof e)return e;try{
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */return function(e){return JSON.stringify(e)}(e)}catch(mb){return e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function yy(e="Unexpected state"){const t=`FIRESTORE (${hy}) INTERNAL ASSERTION FAILED: `+e;throw gy(t),new Error(t)}function vy(e,t){e||yy()}function wy(e,t){return e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const xy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _y extends kh{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ky{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Ey{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(uy.UNAUTHENTICATED)))}shutdown(){}}class Ty{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Cy{constructor(e){this.t=e,this.currentUser=uy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ky;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ky,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{py("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(py("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ky)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(py("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(vy("string"==typeof t.accessToken),new Ey(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vy(null===e||"string"==typeof e),new uy(e)}}class Iy{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=uy.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Py{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Iy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(uy.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ay{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oy{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&py("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,py("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{py("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):py("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(vy("string"==typeof e.token),this.R=e.token,new Ay(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Ry(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ry(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Dy(e,t){return e<t?-1:e>t?1:0}function My(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Ly{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _y(xy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _y(xy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _y(xy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _y(xy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ly.fromMillis(Date.now())}static fromDate(e){return Ly.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ly(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dy(this.nanoseconds,e.nanoseconds):Dy(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class jy{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jy(e)}static min(){return new jy(new Ly(0,0))}static max(){return new jy(new Ly(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Fy{constructor(e,t,n){void 0===t?t=0:t>e.length&&yy(),void 0===n?n=e.length-t:n>e.length-t&&yy(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Fy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fy?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $y extends Fy{construct(e,t,n){return new $y(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new _y(xy.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new $y(t)}static emptyPath(){return new $y([])}}const Uy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zy extends Fy{construct(e,t,n){return new zy(e,t,n)}static isValidIdentifier(e){return Uy.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zy.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zy(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _y(xy.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _y(xy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _y(xy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new _y(xy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zy(t)}static emptyPath(){return new zy([])}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Vy{constructor(e){this.path=e}static fromPath(e){return new Vy($y.fromString(e))}static fromName(e){return new Vy($y.fromString(e).popFirst(5))}static empty(){return new Vy($y.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$y.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $y.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vy(new $y(e.slice()))}}function By(e){return new Hy(e.readTime,e.key,-1)}class Hy{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Hy(jy.min(),Vy.empty(),-1)}static max(){return new Hy(jy.max(),Vy.empty(),-1)}}function Wy(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Vy.comparator(e.documentKey,t.documentKey),0!==n?n:Dy(e.largestBatchId,t.largestBatchId)
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */)}const qy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ky{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function Gy(e){if(e.code!==xy.FAILED_PRECONDITION||e.message!==qy)throw e;py("LocalStore","Unexpectedly lost primary lease")}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Qy{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qy(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Qy?t:Qy.resolve(t)}catch(e){return Qy.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Qy.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Qy.reject(t)}static resolve(e){return new Qy(((t,n)=>{t(e)}))}static reject(e){return new Qy(((t,n)=>{n(e)}))}static waitFor(e){return new Qy(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Qy.resolve(!1);for(const n of e)t=t.next((e=>e?Qy.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Qy(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Qy(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Yy(e){return"IndexedDbTransactionError"===e.name}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Xy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Jy(e){return null==e}function Zy(e){return 0===e&&1/e==-1/0}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function ev(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */Xy.oe=-1;class rv{constructor(e,t){this.comparator=e,this.root=t||ov.EMPTY}insert(e,t){return new rv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ov.BLACK,null,null))}remove(e){return new rv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ov.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iv(this.root,e,this.comparator,!1)}getReverseIterator(){return new iv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iv(this.root,e,this.comparator,!0)}}class iv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ov{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ov.RED,this.left=null!=r?r:ov.EMPTY,this.right=null!=i?i:ov.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ov(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ov.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ov.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ov.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ov.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yy();if(this.right.isRed())throw yy();const e=this.left.check();if(e!==this.right.check())throw yy();return e+(this.isRed()?0:1)}}ov.EMPTY=null,ov.RED=!0,ov.BLACK=!1,ov.EMPTY=new class{constructor(){this.size=0}get key(){throw yy()}get value(){throw yy()}get color(){throw yy()}get left(){throw yy()}get right(){throw yy()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ov(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class sv{constructor(e){this.comparator=e,this.data=new rv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(e){return new av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof sv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new sv(this.comparator);return t.data=e,t}}class av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class lv{constructor(e){this.fields=e,e.sort(zy.comparator)}static empty(){return new lv([])}unionWith(e){let t=new sv(zy.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new lv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return My(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class uv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new cv("Invalid base64 string: "+e):e}}(e);return new uv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new uv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dy(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}uv.EMPTY_BYTE_STRING=new uv("");const hv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dv(e){if(vy(!!e),"string"==typeof e){let t=0;const n=hv.exec(e);if(vy(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fv(e.seconds),nanos:fv(e.nanos)}}function fv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pv(e){return"string"==typeof e?uv.fromBase64String(e):uv.fromUint8Array(e)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function gv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mv(e){const t=e.mapValue.fields.__previous_value__;return gv(t)?mv(t):t}function bv(e){const t=dv(e.mapValue.fields.__local_write_time__.timestampValue);return new Ly(t.seconds,t.nanos)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class yv{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class vv{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vv("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vv&&e.projectId===this.projectId&&e.database===this.database}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const wv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gv(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)?9007199254740991:10:yy()}function _v(e,t){if(e===t)return!0;const n=xv(e);if(n!==xv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bv(e).isEqual(bv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=dv(e.timestampValue),r=dv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pv(e.bytesValue).isEqual(pv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fv(e.geoPointValue.latitude)===fv(t.geoPointValue.latitude)&&fv(e.geoPointValue.longitude)===fv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fv(e.integerValue)===fv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=fv(e.doubleValue),r=fv(t.doubleValue);return n===r?Zy(n)===Zy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return My(e.arrayValue.values||[],t.arrayValue.values||[],_v);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ev(n)!==ev(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_v(n[i],r[i])))return!1;return!0}(e,t);default:return yy()}}function kv(e,t){return void 0!==(e.values||[]).find((e=>_v(e,t)))}function Ev(e,t){if(e===t)return 0;const n=xv(e),r=xv(t);if(n!==r)return Dy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dy(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=fv(e.integerValue||e.doubleValue),r=fv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Sv(e.timestampValue,t.timestampValue);case 4:return Sv(bv(e),bv(t));case 5:return Dy(e.stringValue,t.stringValue);case 6:return function(e,t){const n=pv(e),r=pv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Dy(n[i],r[i]);if(0!==e)return e}return Dy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Dy(fv(e.latitude),fv(t.latitude));return 0!==n?n:Dy(fv(e.longitude),fv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ev(n[i],r[i]);if(e)return e}return Dy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wv.mapValue&&t===wv.mapValue)return 0;if(e===wv.mapValue)return 1;if(t===wv.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Dy(r[s],o[s]);if(0!==e)return e;const t=Ev(n[r[s]],i[o[s]]);if(0!==t)return t}return Dy(r.length,o.length)}(e.mapValue,t.mapValue);default:throw yy()}}function Sv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Dy(e,t);const n=dv(e),r=dv(t),i=Dy(n.seconds,r.seconds);return 0!==i?i:Dy(n.nanos,r.nanos)}function Tv(e){return Cv(e)}function Cv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=dv(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return pv(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Vy.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Cv(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Cv(e.fields[i])}`;return n+"}"}(e.mapValue):yy()}function Iv(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Pv(e){return!!e&&"integerValue"in e}function Av(e){return!!e&&"arrayValue"in e}function Ov(e){return!!e&&"nullValue"in e}function Rv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nv(e){return!!e&&"mapValue"in e}function Dv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return tv(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Dv(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dv(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Mv{constructor(e){this.value=e}static empty(){return new Mv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Nv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dv(t)}setAll(e){let t=zy.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Dv(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Nv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _v(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Nv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){tv(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Mv(Dv(this.value))}}function Lv(e){const t=[];return tv(e.fields,((e,n)=>{const r=new zy([e]);if(Nv(n)){const e=Lv(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new lv(t)
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}class jv{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new jv(e,0,jy.min(),jy.min(),jy.min(),Mv.empty(),0)}static newFoundDocument(e,t,n,r){return new jv(e,1,t,jy.min(),n,r,0)}static newNoDocument(e,t){return new jv(e,2,t,jy.min(),jy.min(),Mv.empty(),0)}static newUnknownDocument(e,t){return new jv(e,3,t,jy.min(),jy.min(),Mv.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mv.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mv.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jy.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jv&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jv(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Fv{constructor(e,t){this.position=e,this.inclusive=t}}function $v(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Vy.comparator(Vy.fromName(s.referenceValue),n.key):Ev(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Uv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_v(e.position[n],t.position[n]))return!1;return!0}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class zv{constructor(e,t="asc"){this.field=e,this.dir=t}}function Vv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Bv{}class Hv extends Bv{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Xv(e,t,n):"array-contains"===t?new tw(e,n):"in"===t?new nw(e,n):"not-in"===t?new rw(e,n):"array-contains-any"===t?new iw(e,n):new Hv(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Jv(e,n):new Zv(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ev(t,this.value)):null!==t&&xv(this.value)===xv(t)&&this.matchesComparison(Ev(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yy()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wv extends Bv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Wv(e,t)}matches(e){return qv(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qv(e){return"and"===e.op}function Kv(e){return function(e){for(const t of e.filters)if(t instanceof Wv)return!1;return!0}(e)&&qv(e)}function Gv(e){if(e instanceof Hv)return e.field.canonicalString()+e.op.toString()+Tv(e.value);if(Kv(e))return e.filters.map((e=>Gv(e))).join(",");{const t=e.filters.map((e=>Gv(e))).join(",");return`${e.op}(${t})`}}function Qv(e,t){return e instanceof Hv?function(e,t){return t instanceof Hv&&e.op===t.op&&e.field.isEqual(t.field)&&_v(e.value,t.value)}(e,t):e instanceof Wv?function(e,t){return t instanceof Wv&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Qv(n,t.filters[r])),!0)}(e,t):void yy()}function Yv(e){return e instanceof Hv?function(e){return`${e.field.canonicalString()} ${e.op} ${Tv(e.value)}`}(e):e instanceof Wv?function(e){return e.op.toString()+" {"+e.getFilters().map(Yv).join(" ,")+"}"}(e):"Filter"}class Xv extends Hv{constructor(e,t,n){super(e,t,n),this.key=Vy.fromName(n.referenceValue)}matches(e){const t=Vy.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jv extends Hv{constructor(e,t){super(e,"in",t),this.keys=ew(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Zv extends Hv{constructor(e,t){super(e,"not-in",t),this.keys=ew(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ew(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Vy.fromName(e.referenceValue)))}class tw extends Hv{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Av(t)&&kv(t.arrayValue,this.value)}}class nw extends Hv{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&kv(this.value.arrayValue,t)}}class rw extends Hv{constructor(e,t){super(e,"not-in",t)}matches(e){if(kv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!kv(this.value.arrayValue,t)}}class iw extends Hv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Av(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>kv(this.value.arrayValue,e)))}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ow{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function sw(e,t=null,n=[],r=[],i=null,o=null,s=null){return new ow(e,t,n,r,i,o,s)}function aw(e){const t=wy(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Gv(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Jy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Tv(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Tv(e))).join(",")),t.ue=e}return t.ue}function lw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Qv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Uv(e.startAt,t.startAt)&&Uv(e.endAt,t.endAt)}function cw(e){return Vy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class uw{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hw(e){return new uw(e)}function dw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fw(e){return null!==e.collectionGroup}function pw(e){const t=wy(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new sv(zy.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new zv(r,n))})),e.has(zy.keyField().canonicalString())||t.ce.push(new zv(zy.keyField(),n))}return t.ce}function gw(e){const t=wy(e);return t.le||(t.le=function(e,t){if("F"===e.limitType)return sw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new zv(e.field,t)}));const n=e.endAt?new Fv(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Fv(e.startAt.position,e.startAt.inclusive):null;return sw(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,pw(e))),t.le}function mw(e,t){const n=e.filters.concat([t]);return new uw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function bw(e,t,n){return new uw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yw(e,t){return lw(gw(e),gw(t))&&e.limitType===t.limitType}function vw(e){return`${aw(gw(e))}|lt:${e.limitType}`}function ww(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Yv(e))).join(", ")}]`),Jy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Tv(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Tv(e))).join(",")),`Target(${t})`}(gw(e))}; limitType=${e.limitType})`}function xw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of pw(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=$v(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,pw(e),t)||e.endAt&&!function(e,t,n){const r=$v(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,pw(e),t))}(e,t)}function _w(e){return(t,n)=>{let r=!1;for(const i of pw(e)){const e=kw(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function kw(e,t,n){const r=e.field.isKeyField()?Vy.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ev(r,i):yy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yy()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Ew{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tv(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return nv(this.inner)}size(){return this.innerSize}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Sw=new rv(Vy.comparator);function Tw(){return Sw}const Cw=new rv(Vy.comparator);function Iw(...e){let t=Cw;for(const n of e)t=t.insert(n.key,n);return t}function Pw(e){let t=Cw;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Aw(){return Rw()}function Ow(){return Rw()}function Rw(){return new Ew((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Nw=new rv(Vy.comparator),Dw=new sv(Vy.comparator);function Mw(...e){let t=Dw;for(const n of e)t=t.add(n);return t}const Lw=new sv(Dy);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function jw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zy(t)?"-0":t}}function Fw(e){return{integerValue:""+e}}function $w(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Zy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Fw(t):jw(e,t)}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Uw{constructor(){this._=void 0}}function zw(e,t,n){return e instanceof Hw?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&gv(t)&&(t=mv(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ww?qw(e,t):e instanceof Kw?Gw(e,t):function(e,t){const n=Bw(e,t),r=Yw(n)+Yw(e.Pe);return Pv(n)&&Pv(e.Pe)?Fw(r):jw(e.serializer,r)}(e,t)}function Vw(e,t,n){return e instanceof Ww?qw(e,t):e instanceof Kw?Gw(e,t):n}function Bw(e,t){return e instanceof Qw?function(e){return Pv(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Hw extends Uw{}class Ww extends Uw{constructor(e){super(),this.elements=e}}function qw(e,t){const n=Xw(t);for(const r of e.elements)n.some((e=>_v(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Kw extends Uw{constructor(e){super(),this.elements=e}}function Gw(e,t){let n=Xw(t);for(const r of e.elements)n=n.filter((e=>!_v(e,r)));return{arrayValue:{values:n}}}class Qw extends Uw{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Yw(e){return fv(e.integerValue||e.doubleValue)}function Xw(e){return Av(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Jw{constructor(e,t){this.version=e,this.transformResults=t}}class Zw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zw}static exists(e){return new Zw(void 0,e)}static updateTime(e){return new Zw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ex(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class tx{}function nx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dx(e.key,Zw.none()):new ax(e.key,e.data,Zw.none());{const n=e.data,r=Mv.empty();let i=new sv(zy.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new lx(e.key,r,new lv(i.toArray()),Zw.none())}}function rx(e,t,n){e instanceof ax?function(e,t,n){const r=e.value.clone(),i=ux(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lx?function(e,t,n){if(!ex(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ux(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ix(e,t,n,r){return e instanceof ax?function(e,t,n,r){if(!ex(e.precondition,t))return n;const i=e.value.clone(),o=hx(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof lx?function(e,t,n,r){if(!ex(e.precondition,t))return n;const i=hx(e.fieldTransforms,r,t),o=t.data;return o.setAll(cx(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ex(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ox(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Bw(r.transform,e||null);null!=i&&(null===n&&(n=Mv.empty()),n.set(r.field,i))}return n||null}function sx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&My(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ww&&t instanceof Ww||e instanceof Kw&&t instanceof Kw?My(e.elements,t.elements,_v):e instanceof Qw&&t instanceof Qw?_v(e.Pe,t.Pe):e instanceof Hw&&t instanceof Hw}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ax extends tx{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lx extends tx{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cx(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ux(e,t,n){const r=new Map;vy(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Vw(s,a,n[i]))}return r}function hx(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,zw(e,o,t))}return r}class dx extends tx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fx extends tx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class px{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&rx(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ix(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ix(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ow();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=nx(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(jy.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Mw())}isEqual(e){return this.batchId===e.batchId&&My(this.mutations,e.mutations,((e,t)=>sx(e,t)))&&My(this.baseMutations,e.baseMutations,((e,t)=>sx(e,t)))}}class gx{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){vy(e.mutations.length===n.length);let r=Nw;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new gx(e,t,n,r)}}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class mx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class bx{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var yx,vx;function wx(e){if(void 0===e)return gy("GRPC error has no .code"),xy.UNKNOWN;switch(e){case yx.OK:return xy.OK;case yx.CANCELLED:return xy.CANCELLED;case yx.UNKNOWN:return xy.UNKNOWN;case yx.DEADLINE_EXCEEDED:return xy.DEADLINE_EXCEEDED;case yx.RESOURCE_EXHAUSTED:return xy.RESOURCE_EXHAUSTED;case yx.INTERNAL:return xy.INTERNAL;case yx.UNAVAILABLE:return xy.UNAVAILABLE;case yx.UNAUTHENTICATED:return xy.UNAUTHENTICATED;case yx.INVALID_ARGUMENT:return xy.INVALID_ARGUMENT;case yx.NOT_FOUND:return xy.NOT_FOUND;case yx.ALREADY_EXISTS:return xy.ALREADY_EXISTS;case yx.PERMISSION_DENIED:return xy.PERMISSION_DENIED;case yx.FAILED_PRECONDITION:return xy.FAILED_PRECONDITION;case yx.ABORTED:return xy.ABORTED;case yx.OUT_OF_RANGE:return xy.OUT_OF_RANGE;case yx.UNIMPLEMENTED:return xy.UNIMPLEMENTED;case yx.DATA_LOSS:return xy.DATA_LOSS;default:return yy()}}(vx=yx||(yx={}))[vx.OK=0]="OK",vx[vx.CANCELLED=1]="CANCELLED",vx[vx.UNKNOWN=2]="UNKNOWN",vx[vx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vx[vx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vx[vx.NOT_FOUND=5]="NOT_FOUND",vx[vx.ALREADY_EXISTS=6]="ALREADY_EXISTS",vx[vx.PERMISSION_DENIED=7]="PERMISSION_DENIED",vx[vx.UNAUTHENTICATED=16]="UNAUTHENTICATED",vx[vx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vx[vx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vx[vx.ABORTED=10]="ABORTED",vx[vx.OUT_OF_RANGE=11]="OUT_OF_RANGE",vx[vx.UNIMPLEMENTED=12]="UNIMPLEMENTED",vx[vx.INTERNAL=13]="INTERNAL",vx[vx.UNAVAILABLE=14]="UNAVAILABLE",vx[vx.DATA_LOSS=15]="DATA_LOSS";
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const xx=new Yb([4294967295,4294967295],0);function _x(e){const t=(new TextEncoder).encode(e),n=new Xb;return n.update(t),new Uint8Array(n.digest())}function kx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Yb([n,r],0),new Yb([i,o],0)]}class Ex{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sx(`Invalid padding: ${t}`);if(n<0)throw new Sx(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Sx(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Sx(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Yb.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Yb.fromNumber(n)));return 1===r.compare(xx)&&(r=new Yb([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=_x(e),[n,r]=kx(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ex(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=_x(e),[n,r]=kx(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Tx{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cx.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Tx(jy.min(),r,new rv(Dy),Tw(),Mw())}}class Cx{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cx(n,t,Mw(),Mw(),Mw())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Ix{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Px{constructor(e,t){this.targetId=e,this.me=t}}class Ax{constructor(e,t,n=uv.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ox{constructor(){this.fe=0,this.ge=Dx(),this.pe=uv.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Mw(),t=Mw(),n=Mw();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yy()}})),new Cx(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=Dx()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vy(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Rx{constructor(e){this.Le=e,this.Be=new Map,this.ke=Tw(),this.qe=Nx(),this.Qe=new rv(Dy)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:yy()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(cw(i))if(0===n){const e=new Vy(i.path);this.Ue(t,e,jv.newNoDocument(e,jy.min()))}else vy(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=pv(n).toUint8Array()}catch(e){if(e instanceof cv)return my("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ex(o,r,i)}catch(e){return my(e instanceof Sx?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&cw(i.target)){const t=new Vy(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,jv.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Mw();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Tx(e,t,this.Qe,this.ke,n);return this.ke=Tw(),this.qe=Nx(),this.Qe=new rv(Dy),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ox,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new sv(Dy),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||py("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ox),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Nx(){return new rv(Vy.comparator)}function Dx(){return new rv(Vy.comparator)}const Mx={asc:"ASCENDING",desc:"DESCENDING"},Lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jx={and:"AND",or:"OR"};class Fx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $x(e,t){return e.useProto3Json||Jy(t)?t:{value:t}}function Ux(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vx(e,t){return Ux(e,t.toTimestamp())}function Bx(e){return vy(!!e),jy.fromTimestamp(function(e){const t=dv(e);return new Ly(t.seconds,t.nanos)}(e))}function Hx(e,t){return Wx(e,t).canonicalString()}function Wx(e,t){const n=function(e){return new $y(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function qx(e){const t=$y.fromString(e);return vy(u_(t)),t}function Kx(e,t){return Hx(e.databaseId,t.path)}function Gx(e,t){const n=qx(t);if(n.get(1)!==e.databaseId.projectId)throw new _y(xy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _y(xy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vy(Xx(n))}function Qx(e,t){return Hx(e.databaseId,t)}function Yx(e){return new $y(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xx(e){return vy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jx(e,t,n){return{name:Kx(e,t),fields:n.value.mapValue.fields}}function Zx(e,t){return{documents:[Qx(e,t.path)]}}function e_(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Qx(e,i);const o=function(e){if(0!==e.length)return l_(Wv.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:s_(e.field),direction:r_(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=$x(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function t_(e){let t=function(e){const t=qx(e);return 4===t.length?$y.emptyPath():Xx(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vy(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=n_(e);return t instanceof Wv&&Kv(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new zv(a_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Jy(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Fv(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Fv(n,t)}(n.endAt)),function(e,t,n,r,i,o,s,a){return new uw(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",l,c)}function n_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=a_(e.unaryFilter.field);return Hv.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=a_(e.unaryFilter.field);return Hv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=a_(e.unaryFilter.field);return Hv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=a_(e.unaryFilter.field);return Hv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yy()}}(e):void 0!==e.fieldFilter?function(e){return Hv.create(a_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Wv.create(e.compositeFilter.filters.map((e=>n_(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yy()}}(e.compositeFilter.op))}(e):yy()}function r_(e){return Mx[e]}function i_(e){return Lx[e]}function o_(e){return jx[e]}function s_(e){return{fieldPath:e.canonicalString()}}function a_(e){return zy.fromServerFormat(e.fieldPath)}function l_(e){return e instanceof Hv?function(e){if("=="===e.op){if(Rv(e.value))return{unaryFilter:{field:s_(e.field),op:"IS_NAN"}};if(Ov(e.value))return{unaryFilter:{field:s_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rv(e.value))return{unaryFilter:{field:s_(e.field),op:"IS_NOT_NAN"}};if(Ov(e.value))return{unaryFilter:{field:s_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:s_(e.field),op:i_(e.op),value:e.value}}}(e):e instanceof Wv?function(e){const t=e.getFilters().map((e=>l_(e)));return 1===t.length?t[0]:{compositeFilter:{op:o_(e.op),filters:t}}}(e):yy()}function c_(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function u_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class h_{constructor(e,t,n,r,i=jy.min(),o=jy.min(),s=uv.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new h_(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new h_(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new h_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new h_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class d_{constructor(e){this.ct=e}}function f_(e){const t=t_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bw(t,t.limit,"L"):t}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class p_{constructor(){this.an=new g_}addToCollectionParentIndex(e,t){return this.an.add(t),Qy.resolve()}getCollectionParents(e,t){return Qy.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return Qy.resolve()}deleteFieldIndex(e,t){return Qy.resolve()}deleteAllFieldIndexes(e){return Qy.resolve()}createTargetIndexes(e,t){return Qy.resolve()}getDocumentsMatchingTarget(e,t){return Qy.resolve(null)}getIndexType(e,t){return Qy.resolve(0)}getFieldIndexes(e,t){return Qy.resolve([])}getNextCollectionGroupToUpdate(e){return Qy.resolve(null)}getMinOffset(e,t){return Qy.resolve(Hy.min())}getMinOffsetFromCollectionGroup(e,t){return Qy.resolve(Hy.min())}updateCollectionGroup(e,t,n){return Qy.resolve()}updateIndexEntries(e,t){return Qy.resolve()}}class g_{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sv($y.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new sv($y.comparator)).toArray()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class m_{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new m_(0)}static Bn(){return new m_(-1)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class b_{constructor(){this.changes=new Ew((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jv.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Qy.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class y_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class v_{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ix(n.mutation,e,lv.empty(),Ly.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Mw()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Mw()){const r=Aw();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Iw();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Aw();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Mw())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Tw();const o=Rw(),s=Rw();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof lx)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),ix(s.mutation,t,s.mutation.getFieldMask(),Ly.now())):o.set(t.key,lv.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new y_(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Rw();let r=new rv(((e,t)=>e-t)),i=Mw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||lv.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Mw()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Ow();l.forEach((e=>{if(!i.has(e)){const r=nx(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Qy.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Vy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Qy.resolve(Aw());let s=-1,a=i;return o.next((t=>Qy.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Qy.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Mw()))).next((e=>({batchId:s,changes:Pw(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vy(t)).next((e=>{let t=Iw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Iw();return this.indexManager.getCollectionParents(e,i).next((s=>Qy.forEach(s,(s=>{const a=function(e,t){return new uw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,jv.newInvalidDocument(r)))}));let n=Iw();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&ix(o.mutation,r,lv.empty(),Ly.now()),xw(t,r)&&(n=n.insert(e,r))})),n}))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class w_{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return Qy.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Bx(e.createTime)}}(t)),Qy.resolve()}getNamedQuery(e,t){return Qy.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:f_(e.bundledQuery),readTime:Bx(e.readTime)}}(t)),Qy.resolve()}}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class x_{constructor(){this.overlays=new rv(Vy.comparator),this.Pr=new Map}getOverlay(e,t){return Qy.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Aw();return Qy.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Qy.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Pr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Pr.delete(n)),Qy.resolve()}getOverlaysForCollection(e,t,n){const r=Aw(),i=t.length+1,o=new Vy(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Qy.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new rv(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Aw(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Aw(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Qy.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new mx(t,n));let i=this.Pr.get(t);void 0===i&&(i=Mw(),this.Pr.set(t,i)),this.Pr.set(t,i.add(n.key))}}
/**
             * @license
             * Copyright 2024 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class __{constructor(){this.sessionToken=uv.EMPTY_BYTE_STRING}getSessionToken(e){return Qy.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Qy.resolve()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class k_{constructor(){this.Ir=new sv(E_.Tr),this.Er=new sv(E_.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const n=new E_(e,t);this.Ir=this.Ir.add(n),this.Er=this.Er.add(n)}Ar(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Rr(new E_(e,t))}Vr(e,t){e.forEach((e=>this.removeReference(e,t)))}mr(e){const t=new Vy(new $y([])),n=new E_(t,e),r=new E_(t,e+1),i=[];return this.Er.forEachInRange([n,r],(e=>{this.Rr(e),i.push(e.key)})),i}gr(){this.Ir.forEach((e=>this.Rr(e)))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const t=new Vy(new $y([])),n=new E_(t,e),r=new E_(t,e+1);let i=Mw();return this.Er.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new E_(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class E_{constructor(e,t){this.key=e,this.yr=t}static Tr(e,t){return Vy.comparator(e.key,t.key)||Dy(e.yr,t.yr)}static dr(e,t){return Dy(e.yr,t.yr)||Vy.comparator(e.key,t.key)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class S_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new sv(E_.Tr)}checkEmpty(e){return Qy.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new px(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Sr=this.Sr.add(new E_(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Qy.resolve(o)}lookupMutationBatch(e,t){return Qy.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Dr(n),i=r<0?0:r;return Qy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Qy.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return Qy.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new E_(t,0),r=new E_(t,Number.POSITIVE_INFINITY),i=[];return this.Sr.forEachInRange([n,r],(e=>{const t=this.br(e.yr);i.push(t)})),Qy.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new sv(Dy);return t.forEach((e=>{const t=new E_(e,0),r=new E_(e,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([t,r],(e=>{n=n.add(e.yr)}))})),Qy.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Vy.isDocumentKey(i)||(i=i.child(""));const o=new E_(new Vy(i),0);let s=new sv(Dy);return this.Sr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.yr)),!0)}),o),Qy.resolve(this.Cr(s))}Cr(e){const t=[];return e.forEach((e=>{const n=this.br(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){vy(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Sr;return Qy.forEach(t.mutations,(r=>{const i=new E_(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Sr=n}))}xn(e){}containsKey(e,t){const n=new E_(t,0),r=this.Sr.firstAfterOrEqual(n);return Qy.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qy.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class T_{constructor(e){this.Fr=e,this.docs=new rv(Vy.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Qy.resolve(n?n.document.mutableCopy():jv.newInvalidDocument(t))}getEntries(e,t){let n=Tw();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():jv.newInvalidDocument(e))})),Qy.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Tw();const o=t.path,s=new Vy(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Wy(By(s),n)<=0||(r.has(s.key)||xw(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Qy.resolve(i)}getAllFromCollectionGroup(e,t,n,r){yy()}Mr(e,t){return Qy.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new C_(this)}getSize(e){return Qy.resolve(this.size)}}class C_ extends b_{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ur.addEntry(e,r)):this.ur.removeEntry(n)})),Qy.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class I_{constructor(e){this.persistence=e,this.Or=new Ew((e=>aw(e)),lw),this.lastRemoteSnapshotVersion=jy.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new k_,this.targetCount=0,this.Br=m_.Ln()}forEachTarget(e,t){return this.Or.forEach(((e,n)=>t(n))),Qy.resolve()}getLastRemoteSnapshotVersion(e){return Qy.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qy.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Qy.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),Qy.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new m_(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,Qy.resolve()}updateTargetData(e,t){return this.Qn(t),Qy.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Lr.mr(t.targetId),this.targetCount-=1,Qy.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Or.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Or.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Qy.waitFor(i).next((()=>r))}getTargetCount(e){return Qy.resolve(this.targetCount)}getTargetData(e,t){const n=this.Or.get(t)||null;return Qy.resolve(n)}addMatchingKeys(e,t,n){return this.Lr.Ar(t,n),Qy.resolve()}removeMatchingKeys(e,t,n){this.Lr.Vr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Qy.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Lr.mr(t),Qy.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Lr.pr(t);return Qy.resolve(n)}containsKey(e,t){return Qy.resolve(this.Lr.containsKey(t))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class P_{constructor(e,t){this.kr={},this.overlays={},this.qr=new Xy(0),this.Qr=!1,this.Qr=!0,this.Kr=new __,this.referenceDelegate=e(this),this.$r=new I_(this),this.indexManager=new p_,this.remoteDocumentCache=function(e){return new T_(e)}((e=>this.referenceDelegate.Ur(e))),this.serializer=new d_(t),this.Wr=new w_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new x_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.kr[e.toKey()];return n||(n=new S_(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,t,n){py("MemoryPersistence","Starting transaction:",e);const r=new A_(this.qr.next());return this.referenceDelegate.Gr(),n(r).next((e=>this.referenceDelegate.zr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}jr(e,t){return Qy.or(Object.values(this.kr).map((n=>()=>n.containsKey(e,t))))}}class A_ extends Ky{constructor(e){super(),this.currentSequenceNumber=e}}class O_{constructor(e){this.persistence=e,this.Hr=new k_,this.Jr=null}static Yr(e){return new O_(e)}get Zr(){if(this.Jr)return this.Jr;throw yy()}addReference(e,t,n){return this.Hr.addReference(n,t),this.Zr.delete(n.toString()),Qy.resolve()}removeReference(e,t,n){return this.Hr.removeReference(n,t),this.Zr.add(n.toString()),Qy.resolve()}markPotentiallyOrphaned(e,t){return this.Zr.add(t.toString()),Qy.resolve()}removeTarget(e,t){this.Hr.mr(t.targetId).forEach((e=>this.Zr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Zr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Gr(){this.Jr=new Set}zr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qy.forEach(this.Zr,(n=>{const r=Vy.fromPath(n);return this.Xr(e,r).next((e=>{e||t.removeEntry(r,jy.min())}))})).next((()=>(this.Jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Xr(e,t).next((e=>{e?this.Zr.delete(t.toString()):this.Zr.add(t.toString())}))}Ur(e){return 0}Xr(e,t){return Qy.or([()=>Qy.resolve(this.Hr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.jr(e,t)])}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class R_{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ki=n,this.$i=r}static Ui(e,t){let n=Mw(),r=Mw();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new R_(e,t.fromCache,n,r)}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class N_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class D_{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=_h()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(xh())>0?6:4}initialize(e,t){this.Hi=e,this.indexManager=t,this.Wi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Yi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new N_;return this.Zi(e,t,n).next((r=>{if(i.result=r,this.Gi)return this.Xi(e,t,n,r.size)}))})).next((()=>i.result))}Xi(e,t,n,r){return n.documentReadCount<this.zi?(fy()<=Fh.DEBUG&&py("QueryEngine","SDK will not create cache indexes for query:",ww(t),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),Qy.resolve()):(fy()<=Fh.DEBUG&&py("QueryEngine","Query:",ww(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ji*r?(fy()<=Fh.DEBUG&&py("QueryEngine","The SDK decides to create cache indexes for query:",ww(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gw(t))):Qy.resolve())}Ji(e,t){if(dw(t))return Qy.resolve(null);let n=gw(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=bw(t,null,"F"),n=gw(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Mw(...r);return this.Hi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.es(t,r);return this.ts(t,o,i,n.readTime)?this.Ji(e,bw(t,null,"F")):this.ns(e,o,t,n)}))))})))))}Yi(e,t,n,r){return dw(t)||r.isEqual(jy.min())?Qy.resolve(null):this.Hi.getDocuments(e,n).next((i=>{const o=this.es(t,i);return this.ts(t,o,n,r)?Qy.resolve(null):(fy()<=Fh.DEBUG&&py("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ww(t)),this.ns(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=jy.fromTimestamp(1e9===r?new Ly(n+1,0):new Ly(n,r));return new Hy(i,Vy.empty(),t)}(r,-1)).next((e=>e)))}))}es(e,t){let n=new sv(_w(e));return t.forEach(((t,r)=>{xw(e,r)&&(n=n.add(r))})),n}ts(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Zi(e,t,n){return fy()<=Fh.DEBUG&&py("QueryEngine","Using full collection scan to execute query:",ww(t)),this.Hi.getDocumentsMatchingQuery(e,t,Hy.min(),n)}ns(e,t,n,r){return this.Hi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class M_{constructor(e,t,n,r){this.persistence=e,this.rs=t,this.serializer=r,this.ss=new rv(Dy),this.os=new Ew((e=>aw(e)),lw),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(n)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v_(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ss)))}}async function L_(e,t){const n=wy(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.cs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Mw();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({ls:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function j_(e){const t=wy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.$r.getLastRemoteSnapshotVersion(e)))}function F_(e,t){const n=wy(e),r=t.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.$r.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.$r.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(uv.EMPTY_BYTE_STRING,jy.min()).withLastLimboFreeSnapshotVersion(jy.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.$r.updateTargetData(e,c))}));let a=Tw(),l=Mw();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n){let r=Mw(),i=Mw();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Tw();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(jy.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):py("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{hs:r,Ps:i}}))}(e,o,t.documentUpdates).next((e=>{a=e.hs,l=e.Ps}))),!r.isEqual(jy.min())){const t=n.$r.getLastRemoteSnapshotVersion(e).next((t=>n.$r.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Qy.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ss=i,e)))}function $_(e,t){const n=wy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function U_(e,t,n){const r=wy(e),i=r.ss.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Yy(e))throw e;py("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ss=r.ss.remove(t),r.os.delete(i.target)}function z_(e,t,n){const r=wy(e);let i=jy.min(),o=Mw();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=wy(e),i=r.os.get(n);return void 0!==i?Qy.resolve(r.ss.get(i)):r.$r.getTargetData(t,n)}(r,e,gw(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.rs.getDocumentsMatchingQuery(e,t,n?i:jy.min(),n?o:Mw()))).next((e=>(function(e,t,n){let r=e._s.get(t)||jy.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e._s.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Is:o})))))}class V_{constructor(){this.activeTargetIds=Lw}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B_{constructor(){this.io=new V_,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,t,n){this.so[e]=t}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new V_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class H_{oo(e){}shutdown(){}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class W_{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){py("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){py("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let q_=null;function K_(){return null===q_?q_=268435456+Math.round(2147483648*Math.random()):q_++,"0x"+q_.toString(16)
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}const G_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Q_{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Y_="WebChannelConnection";class X_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.bo=t+"://"+e.host,this.Do=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get vo(){return!1}Fo(e,t,n,r,i){const o=K_(),s=this.Mo(e,t.toUriEncodedString());py("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(a,r,i),this.Oo(e,s,a,n).then((t=>(py("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw my("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}No(e,t,n,r,i,o){return this.Fo(e,t,n,r,i)}xo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+hy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Mo(e,t){const n=G_[e];return`${this.bo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,t,n,r){const i=K_();return new Promise(((o,s)=>{const a=new Zb;a.setWithCredentials(!0),a.listenOnce(ny.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ry.NO_ERROR:const t=a.getResponseJson();py(Y_,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case ry.TIMEOUT:py(Y_,`RPC '${e}' ${i} timed out`),s(new _y(xy.DEADLINE_EXCEEDED,"Request time out"));break;case ry.HTTP_ERROR:const n=a.getStatus();if(py(Y_,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(xy).indexOf(t)>=0?t:xy.UNKNOWN}(t.status);s(new _y(e,t.message))}else s(new _y(xy.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new _y(xy.UNAVAILABLE,"Connection failed."));break;default:yy()}}finally{py(Y_,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);py(Y_,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Lo(e,t,n){const r=K_(),i=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ay(),s=sy(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new ey({})),this.xo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");py(Y_,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new Q_({Po:t=>{d?py(Y_,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(py(Y_,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),py(Y_,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Io:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,ty.EventType.OPEN,(()=>{d||(py(Y_,`RPC '${e}' stream ${r} transport opened.`),f.po())})),p(u,ty.EventType.CLOSE,(()=>{d||(d=!0,py(Y_,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,ty.EventType.ERROR,(t=>{d||(d=!0,my(Y_,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new _y(xy.UNAVAILABLE,"The operation could not be completed")))})),p(u,ty.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];vy(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){py(Y_,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=yx[e];if(void 0!==t)return wx(t)}(t),i=s.message;void 0===n&&(n=xy.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.wo(new _y(n,i)),u.close()}else py(Y_,`RPC '${e}' stream ${r} received:`,i),f.So(i)}})),p(s,oy.STAT_EVENT,(t=>{t.stat===iy.PROXY?py(Y_,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===iy.NOPROXY&&py(Y_,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.yo()}),0),f}}function J_(){return"undefined"!=typeof document?document:null}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Z_(e){return new Fx(e,!0)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ek{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ai=e,this.timerId=t,this.Bo=n,this.ko=r,this.qo=i,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const t=Math.floor(this.Qo+this.Go()),n=Math.max(0,Date.now()-this.$o),r=Math.max(0,t-n);r>0&&py("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Qo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,(()=>(this.$o=Date.now(),e()))),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){null!==this.Ko&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){null!==this.Ko&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class tk{constructor(e,t,n,r,i,o,s,a){this.ai=e,this.jo=n,this.Ho=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new ek(e,t)}t_(){return 1===this.state||5===this.state||this.n_()}n_(){return 2===this.state||3===this.state}start(){this.Xo=0,4!==this.state?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&null===this.Yo&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,(()=>this.o_())))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,t){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,4!==e?this.e_.reset():t&&t.code===xy.RESOURCE_EXHAUSTED?(gy(t.toString()),gy("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):t&&t.code===xy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(t)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),t=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Jo===t&&this.h_(e,n)}),(t=>{e((()=>{const e=new _y(xy.UNKNOWN,"Fetching auth token failed: "+t.message);return this.P_(e)}))}))}h_(e,t){const n=this.l_(this.Jo);this.stream=this.I_(e,t),this.stream.To((()=>{n((()=>this.listener.To()))})),this.stream.Ao((()=>{n((()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,(()=>(this.n_()&&(this.state=3),Promise.resolve()))),this.listener.Ao())))})),this.stream.Vo((e=>{n((()=>this.P_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.Xo?this.T_(e):this.onNext(e)))}))}r_(){this.state=5,this.e_.Wo((async()=>{this.state=0,this.start()}))}P_(e){return py("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return t=>{this.ai.enqueueAndForget((()=>this.Jo===e?t():(py("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nk extends tk{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}I_(e,t){return this.connection.Lo("Listen",e,t)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(vy(void 0===t||"string"==typeof t),uv.fromBase64String(t||"")):(vy(void 0===t||t instanceof Buffer||t instanceof Uint8Array),uv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?xy.UNKNOWN:wx(e.code);return new _y(t,e.message||"")}(s);n=new Ax(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gx(e,r.document.name),o=Bx(r.document.updateTime),s=r.document.createTime?Bx(r.document.createTime):jy.min(),a=new Mv({mapValue:{fields:r.document.fields}}),l=jv.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ix(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gx(e,r.document),o=r.readTime?Bx(r.readTime):jy.min(),s=jv.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ix([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gx(e,r.document),o=r.removedTargetIds||[];n=new Ix([],o,i,null)}else{if(!("filter"in t))return yy();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new bx(r,i),s=e.targetId;n=new Px(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return jy.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?jy.min():t.readTime?Bx(t.readTime):jy.min()}(e);return this.listener.E_(t,n)}d_(e){const t={};t.database=Yx(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=cw(r)?{documents:Zx(e,r)}:{query:e_(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=zx(e,t.resumeToken);const r=$x(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(jy.min())>0){n.readTime=Ux(e,t.snapshotVersion.toTimestamp());const r=$x(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.__(t)}A_(e){const t={};t.database=Yx(this.serializer),t.removeTarget=e,this.__(t)}}class rk extends tk{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,t){return this.connection.Lo("Write",e,t)}T_(e){return vy(!!e.streamToken),this.lastStreamToken=e.streamToken,vy(!e.writeResults||0===e.writeResults.length),this.listener.m_()}onNext(e){vy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const t=function(e,t){return e&&e.length>0?(vy(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Bx(e.updateTime):Bx(t);return n.isEqual(jy.min())&&(n=Bx(t)),new Jw(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Bx(e.commitTime);return this.listener.f_(n,t)}g_(){const e={};e.database=Yx(this.serializer),this.__(e)}V_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof ax)n={update:Jx(e,t.key,t.value)};else if(t instanceof dx)n={delete:Kx(e,t.key)};else if(t instanceof lx)n={update:Jx(e,t.key,t.data),updateMask:c_(t.fieldMask)};else{if(!(t instanceof fx))return yy();n={verify:Kx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Hw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ww)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Kw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qw)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw yy()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vx(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yy()}(e,t.precondition)),n}(this.serializer,e)))};this.__(t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ik extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new _y(xy.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,t,n,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Fo(e,Wx(t,n),r,i,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===xy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _y(xy.UNKNOWN,e.toString())}))}No(e,t,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.No(e,Wx(t,n),r,o,s,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===xy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _y(xy.UNKNOWN,e.toString())}))}terminate(){this.p_=!0,this.connection.terminate()}}class ok{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){0===this.w_&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}F_(e){"Online"===this.state?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,"Online"===e&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(gy(t),this.b_=!1):py("OnlineStateTracker",t)}M_(){null!==this.S_&&(this.S_.cancel(),this.S_=null)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class sk{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=i,this.B_.oo((e=>{n.enqueueAndForget((async()=>{gk(this)&&(py("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=wy(e);t.N_.add(4),await lk(t),t.k_.set("Unknown"),t.N_.delete(4),await ak(t)}(this))}))})),this.k_=new ok(n,r)}}async function ak(e){if(gk(e))for(const t of e.L_)await t(!0)}async function lk(e){for(const t of e.L_)await t(!1)}function ck(e,t){const n=wy(e);n.O_.has(t.targetId)||(n.O_.set(t.targetId,t),pk(n)?fk(n):Nk(n).n_()&&hk(n,t))}function uk(e,t){const n=wy(e),r=Nk(n);n.O_.delete(t),r.n_()&&dk(n,t),0===n.O_.size&&(r.n_()?r.s_():gk(n)&&n.k_.set("Unknown"))}function hk(e,t){if(e.q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jy.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Nk(e).d_(t)}function dk(e,t){e.q_.xe(t),Nk(e).A_(t)}function fk(e){e.q_=new Rx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.O_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Nk(e).start(),e.k_.D_()}function pk(e){return gk(e)&&!Nk(e).t_()&&e.O_.size>0}function gk(e){return 0===wy(e).N_.size}function mk(e){e.q_=void 0}async function bk(e){e.k_.set("Online")}async function yk(e){e.O_.forEach(((t,n)=>{hk(e,t)}))}async function vk(e,t){mk(e),pk(e)?(e.k_.F_(t),fk(e)):e.k_.set("Unknown")}async function wk(e,t,n){if(e.k_.set("Online"),t instanceof Ax&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.O_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.O_.delete(r),e.q_.removeTarget(r))}(e,t)}catch(n){py("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await xk(e,n)}else if(t instanceof Ix?e.q_.Ke(t):t instanceof Px?e.q_.He(t):e.q_.We(t),!n.isEqual(jy.min()))try{const t=await j_(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.O_.get(r);i&&e.O_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.O_.get(t);if(!r)return;e.O_.set(t,r.withResumeToken(uv.EMPTY_BYTE_STRING,r.snapshotVersion)),dk(e,t);const i=new h_(r.target,t,n,r.sequenceNumber);hk(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){py("RemoteStore","Failed to raise snapshot:",t),await xk(e,t)}}async function xk(e,t,n){if(!Yy(t))throw t;e.N_.add(1),await lk(e),e.k_.set("Offline"),n||(n=()=>j_(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{py("RemoteStore","Retrying IndexedDB access"),await n(),e.N_.delete(1),await ak(e)}))}function _k(e,t){return t().catch((n=>xk(e,n,t)))}async function kk(e){const t=wy(e),n=Dk(t);let r=t.x_.length>0?t.x_[t.x_.length-1].batchId:-1;for(;Ek(t);)try{const e=await $_(t.localStore,r);if(null===e){0===t.x_.length&&n.s_();break}r=e.batchId,Sk(t,e)}catch(e){await xk(t,e)}Tk(t)&&Ck(t)}function Ek(e){return gk(e)&&e.x_.length<10}function Sk(e,t){e.x_.push(t);const n=Dk(e);n.n_()&&n.R_&&n.V_(t.mutations)}function Tk(e){return gk(e)&&!Dk(e).t_()&&e.x_.length>0}function Ck(e){Dk(e).start()}async function Ik(e){Dk(e).g_()}async function Pk(e){const t=Dk(e);for(const n of e.x_)t.V_(n.mutations)}async function Ak(e,t,n){const r=e.x_.shift(),i=gx.from(r,t,n);await _k(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await kk(e)}async function Ok(e,t){t&&Dk(e).R_&&await async function(e,t){if(function(e){return function(e){switch(e){default:return yy();case xy.CANCELLED:case xy.UNKNOWN:case xy.DEADLINE_EXCEEDED:case xy.RESOURCE_EXHAUSTED:case xy.INTERNAL:case xy.UNAVAILABLE:case xy.UNAUTHENTICATED:return!1;case xy.INVALID_ARGUMENT:case xy.NOT_FOUND:case xy.ALREADY_EXISTS:case xy.PERMISSION_DENIED:case xy.FAILED_PRECONDITION:case xy.ABORTED:case xy.OUT_OF_RANGE:case xy.UNIMPLEMENTED:case xy.DATA_LOSS:return!0}}(e)&&e!==xy.ABORTED}(t.code)){const n=e.x_.shift();Dk(e).i_(),await _k(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await kk(e)}}(e,t),Tk(e)&&Ck(e)}async function Rk(e,t){const n=wy(e);n.asyncQueue.verifyOperationInProgress(),py("RemoteStore","RemoteStore received new credentials");const r=gk(n);n.N_.add(3),await lk(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.N_.delete(3),await ak(n)}function Nk(e){return e.Q_||(e.Q_=function(e,t,n){const r=wy(e);return r.y_(),new nk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}(e.datastore,e.asyncQueue,{To:bk.bind(null,e),Ao:yk.bind(null,e),Vo:vk.bind(null,e),E_:wk.bind(null,e)}),e.L_.push((async t=>{t?(e.Q_.i_(),pk(e)?fk(e):e.k_.set("Unknown")):(await e.Q_.stop(),mk(e))}))),e.Q_}function Dk(e){return e.K_||(e.K_=function(e,t,n){const r=wy(e);return r.y_(),new rk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{To:()=>Promise.resolve(),Ao:Ik.bind(null,e),Vo:Ok.bind(null,e),m_:Pk.bind(null,e),f_:Ak.bind(null,e)}),e.L_.push((async t=>{t?(e.K_.i_(),await kk(e)):(await e.K_.stop(),e.x_.length>0&&(py("RemoteStore",`Stopping write stream with ${e.x_.length} pending writes`),e.x_=[]))}))),e.K_
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}class Mk{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ky,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Mk(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _y(xy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lk(e,t){if(gy("AsyncQueue",`${t}: ${e}`),Yy(e))return new _y(xy.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class jk{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Vy.comparator(t.key,n.key):(e,t)=>Vy.comparator(e.key,t.key),this.keyedMap=Iw(),this.sortedSet=new rv(this.comparator)}static emptySet(e){return new jk(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new jk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Fk{constructor(){this.U_=new rv(Vy.comparator)}track(e){const t=e.doc.key,n=this.U_.get(t);n?0!==e.type&&3===n.type?this.U_=this.U_.insert(t,e):3===e.type&&1!==n.type?this.U_=this.U_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.U_=this.U_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.U_=this.U_.remove(t):1===e.type&&2===n.type?this.U_=this.U_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):yy():this.U_=this.U_.insert(t,e)}W_(){const e=[];return this.U_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class $k{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new $k(e,t,jk.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Uk{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some((e=>e.H_()))}}class zk{constructor(){this.queries=Vk(),this.onlineState="Unknown",this.J_=new Set}terminate(){!function(e,t){const n=wy(e),r=n.queries;n.queries=Vk(),r.forEach(((e,n)=>{for(const r of n.z_)r.onError(t)}))}(this,new _y(xy.ABORTED,"Firestore shutting down"))}}function Vk(){return new Ew((e=>vw(e)),yw)}async function Bk(e,t){const n=wy(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.j_()&&t.H_()&&(r=2):(o=new Uk,r=t.H_()?0:1);try{switch(r){case 0:o.G_=await n.onListen(i,!0);break;case 1:o.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Lk(e,`Initialization of query '${ww(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.z_.push(t),t.Y_(n.onlineState),o.G_&&t.Z_(o.G_)&&Kk(n)}async function Hk(e,t){const n=wy(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.z_.indexOf(t);e>=0&&(o.z_.splice(e,1),0===o.z_.length?i=t.H_()?0:1:!o.j_()&&t.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Wk(e,t){const n=wy(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.z_)e.Z_(i)&&(r=!0);t.G_=i}}r&&Kk(n)}function qk(e,t,n){const r=wy(e),i=r.queries.get(t);if(i)for(const o of i.z_)o.onError(n);r.queries.delete(t)}function Kk(e){e.J_.forEach((e=>{e.next()}))}var Gk,Qk;(Qk=Gk||(Gk={})).X_="default",Qk.Cache="cache";class Yk{constructor(e,t,n){this.query=e,this.ea=t,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}Z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new $k(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ta?this.ra(e)&&(this.ea.next(e),t=!0):this.ia(e,this.onlineState)&&(this.sa(e),t=!0),this.na=e,t}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let t=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),t=!0),t}ia(e,t){if(!e.fromCache)return!0;if(!this.H_())return!0;const n="Offline"!==t;return(!this.options.oa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ra(e){if(e.docChanges.length>0)return!0;const t=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}sa(e){e=$k.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==Gk.Cache}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Xk{constructor(e){this.key=e}}class Jk{constructor(e){this.key=e}}class Zk{constructor(e,t){this.query=e,this.Ia=t,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Mw(),this.mutatedKeys=Mw(),this.da=_w(e),this.Aa=new jk(this.da)}get Ra(){return this.Ia}Va(e,t){const n=t?t.ma:new Fk,r=t?t.Aa:this.Aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=xw(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.fa(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.da(u,a)>0||l&&this.da(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Aa:o,ma:n,ts:s,mutatedKeys:i}}fa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yy()}};return n(e)-n(t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e.type,t.type)||this.da(e.doc,t.doc))),this.ga(n),r=null!=r&&r;const s=t&&!r?this.pa():[],a=0===this.Ea.size&&this.current&&!r?1:0,l=a!==this.Ta;return this.Ta=a,0!==o.length||l?{snapshot:new $k(this.query,e.Aa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ya:s}:{ya:s}}Y_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new Fk,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach((e=>this.Ia=this.Ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ia=this.Ia.delete(e))),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=Mw(),this.Aa.forEach((e=>{this.wa(e.key)&&(this.Ea=this.Ea.add(e.key))}));const t=[];return e.forEach((e=>{this.Ea.has(e)||t.push(new Jk(e))})),this.Ea.forEach((n=>{e.has(n)||t.push(new Xk(n))})),t}Sa(e){this.Ia=e.Is,this.Ea=Mw();const t=this.Va(e.documents);return this.applyChanges(t,!0)}ba(){return $k.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,0===this.Ta,this.hasCachedResults)}}class eE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class tE{constructor(e){this.key=e,this.Da=!1}}class nE{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new Ew((e=>vw(e)),yw),this.Fa=new Map,this.Ma=new Set,this.xa=new rv(Vy.comparator),this.Oa=new Map,this.Na=new k_,this.La={},this.Ba=new Map,this.ka=m_.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return!0===this.qa}}async function rE(e,t,n=!0){const r=EE(e);let i;const o=r.va.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ba()):i=await oE(r,t,n,!0),i}async function iE(e,t){const n=EE(e);await oE(n,t,!0,!1)}async function oE(e,t,n,r){const i=await function(e,t){const n=wy(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.$r.getTargetData(e,t).next((i=>i?(r=i,Qy.resolve(r)):n.$r.allocateTargetId(e).next((i=>(r=new h_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.$r.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ss=n.ss.insert(e.targetId,e),n.os.set(t,e.targetId)),e}))}(e.localStore,gw(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await async function(e,t,n,r,i){e.Qa=(t,n,r)=>async function(e,t,n,r){let i=t.view.Va(n);i.ts&&(i=await z_(e.localStore,t.query,!1).then((({documents:e})=>t.view.Va(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return yE(e,t.targetId,a.ya),a.snapshot}(e,t,n,r);const o=await z_(e.localStore,t,!0),s=new Zk(t,o.Is),a=s.Va(o.documents),l=Cx.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);yE(e,n,c.ya);const u=new eE(t,n,s);return e.va.set(t,u),e.Fa.has(n)?e.Fa.get(n).push(t):e.Fa.set(n,[t]),c.snapshot}(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&ck(e.remoteStore,i),a}async function sE(e,t,n){const r=wy(e),i=r.va.get(t),o=r.Fa.get(i.targetId);if(o.length>1)return r.Fa.set(i.targetId,o.filter((e=>!yw(e,t)))),void r.va.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await U_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uk(r.remoteStore,i.targetId),mE(r,i.targetId)})).catch(Gy)):(mE(r,i.targetId),await U_(r.localStore,i.targetId,!0))}async function aE(e,t){const n=wy(e),r=n.va.get(t),i=n.Fa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uk(n.remoteStore,r.targetId))}async function lE(e,t,n){const r=function(e){const t=wy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fE.bind(null,t),t}(e);try{const e=await function(e,t){const n=wy(e),r=Ly.now(),i=t.reduce(((e,t)=>e.add(t.key)),Mw());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Tw(),l=Mw();return n.us.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=ox(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new lx(e.key,t,Lv(t.value.mapValue),Zw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Pw(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.La[e.currentUser.toKey()];r||(r=new rv(Dy)),r=r.insert(t,n),e.La[e.currentUser.toKey()]=r}(r,e.batchId,n),await xE(r,e.changes),await kk(r.remoteStore)}catch(e){const t=Lk(e,"Failed to persist write");n.reject(t)}}async function cE(e,t){const n=wy(e);try{const e=await F_(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Oa.get(t);r&&(vy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Da=!0:e.modifiedDocuments.size>0?vy(r.Da):e.removedDocuments.size>0&&(vy(r.Da),r.Da=!1))})),await xE(n,e,t)}catch(e){await Gy(e)}}function uE(e,t,n){const r=wy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.va.forEach(((n,r)=>{const i=r.view.Y_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=wy(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.z_)i.Y_(t)&&(r=!0)})),r&&Kk(n)}(r.eventManager,t),e.length&&r.Ca.E_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function hE(e,t,n){const r=wy(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Oa.get(t),o=i&&i.key;if(o){let e=new rv(Vy.comparator);e=e.insert(o,jv.newNoDocument(o,jy.min()));const n=Mw().add(o),i=new Tx(jy.min(),new Map,new rv(Dy),e,n);await cE(r,i),r.xa=r.xa.remove(o),r.Oa.delete(t),wE(r)}else await U_(r.localStore,t,!1).then((()=>mE(r,t,n))).catch(Gy)}async function dE(e,t){const n=wy(e),r=t.batch.batchId;try{const e=await function(e,t){const n=wy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.us.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Qy.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);vy(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Mw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);gE(n,r,null),pE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xE(n,e)}catch(e){await Gy(e)}}async function fE(e,t,n){const r=wy(e);try{const e=await function(e,t){const n=wy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(vy(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);gE(r,t,n),pE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await xE(r,e)}catch(n){await Gy(n)}}function pE(e,t){(e.Ba.get(t)||[]).forEach((e=>{e.resolve()})),e.Ba.delete(t)}function gE(e,t,n){const r=wy(e);let i=r.La[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.La[r.currentUser.toKey()]=i}}function mE(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fa.get(t))e.va.delete(r),n&&e.Ca.Ka(r,n);e.Fa.delete(t),e.isPrimaryClient&&e.Na.mr(t).forEach((t=>{e.Na.containsKey(t)||bE(e,t)}))}function bE(e,t){e.Ma.delete(t.path.canonicalString());const n=e.xa.get(t);null!==n&&(uk(e.remoteStore,n),e.xa=e.xa.remove(t),e.Oa.delete(n),wE(e))}function yE(e,t,n){for(const r of n)r instanceof Xk?(e.Na.addReference(r.key,t),vE(e,r)):r instanceof Jk?(py("SyncEngine","Document no longer in limbo: "+r.key),e.Na.removeReference(r.key,t),e.Na.containsKey(r.key)||bE(e,r.key)):yy()}function vE(e,t){const n=t.key,r=n.path.canonicalString();e.xa.get(n)||e.Ma.has(r)||(py("SyncEngine","New document in limbo: "+n),e.Ma.add(r),wE(e))}function wE(e){for(;e.Ma.size>0&&e.xa.size<e.maxConcurrentLimboResolutions;){const t=e.Ma.values().next().value;e.Ma.delete(t);const n=new Vy($y.fromString(t)),r=e.ka.next();e.Oa.set(r,new tE(n)),e.xa=e.xa.insert(n,r),ck(e.remoteStore,new h_(gw(hw(n.path)),r,"TargetPurposeLimboResolution",Xy.oe))}}async function xE(e,t,n){const r=wy(e),i=[],o=[],s=[];r.va.isEmpty()||(r.va.forEach(((e,a)=>{s.push(r.Qa(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=R_.Ui(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Ca.E_(i),await async function(e,t){const n=wy(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Qy.forEach(t,(t=>Qy.forEach(t.Ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Qy.forEach(t.$i,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Yy(e))throw e;py("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ss=n.ss.insert(e,i)}}}(r.localStore,o))}async function _E(e,t){const n=wy(e);if(!n.currentUser.isEqual(t)){py("SyncEngine","User change. New user:",t.toKey());const e=await L_(n.localStore,t);n.currentUser=t,function(e,t){e.Ba.forEach((e=>{e.forEach((e=>{e.reject(new _y(xy.CANCELLED,t))}))})),e.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await xE(n,e.ls)}}function kE(e,t){const n=wy(e),r=n.Oa.get(t);if(r&&r.Da)return Mw().add(r.key);{let e=Mw();const r=n.Fa.get(t);if(!r)return e;for(const t of r){const r=n.va.get(t);e=e.unionWith(r.view.Ra)}return e}}function EE(e){const t=wy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hE.bind(null,t),t.Ca.E_=Wk.bind(null,t.eventManager),t.Ca.Ka=qk.bind(null,t.eventManager),t}class SE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Z_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function(e,t,n,r){return new M_(e,t,n,r)}(this.persistence,new D_,e.initialUser,this.serializer)}createPersistence(e){return new P_(O_.Yr,this.serializer)}createSharedClientState(e){return new B_}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class TE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>uE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_E.bind(null,this.syncEngine),await async function(e,t){const n=wy(e);t?(n.N_.delete(2),await ak(n)):t||(n.N_.add(2),await lk(n),n.k_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zk}createDatastore(e){const t=Z_(e.databaseInfo.databaseId),n=function(e){return new X_(e)}(e.databaseInfo);return function(e,t,n,r){return new ik(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new sk(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>uE(this.syncEngine,e,0)),W_.D()?new W_:new H_)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new nE(e,t,n,r,i,o);return s&&(a.qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=wy(e);py("RemoteStore","RemoteStore shutting down."),t.N_.add(5),await lk(t),t.B_.shutdown(),t.k_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class CE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):gy("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class IE{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=uy.UNAUTHENTICATED,this.clientId=Ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{py("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(py("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _y(xy.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ky;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(mb){const n=Lk(mb,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function PE(e,t){e.asyncQueue.verifyOperationInProgress(),py("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await L_(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function AE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){py("FirestoreClient","Using user provided OfflineComponentProvider");try{await PE(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(e){return"FirebaseError"===e.name?e.code===xy.FAILED_PRECONDITION||e.code===xy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r))throw r;my("Error using user provided cache. Falling back to memory cache: "+r),await PE(e,new SE)}}else py("FirestoreClient","Using default OfflineComponentProvider"),await PE(e,new SE);return e._offlineComponents}(e);py("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Rk(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Rk(t.remoteStore,n))),e._onlineComponents=t}async function OE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(py("FirestoreClient","Using user provided OnlineComponentProvider"),await AE(e,e._uninitializedComponentsProvider._online)):(py("FirestoreClient","Using default OnlineComponentProvider"),await AE(e,new TE))),e._onlineComponents}async function RE(e){const t=await OE(e),n=t.eventManager;return n.onListen=rE.bind(null,t.syncEngine),n.onUnlisten=sE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=iE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=aE.bind(null,t.syncEngine),n}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function NE(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}const DE=new Map;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function ME(e,t,n){if(!n)throw new _y(xy.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function LE(e){if(!Vy.isDocumentKey(e))throw new _y(xy.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jE(e){if(Vy.isDocumentKey(e))throw new _y(xy.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function FE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":yy()}function $E(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _y(xy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=FE(e);throw new _y(xy.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class UE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new _y(xy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _y(xy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new _y(xy.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NE(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _y(xy.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new _y(xy.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new _y(xy.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zE{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _y(xy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _y(xy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Sy;switch(e.type){case"firstParty":return new Py(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _y(xy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DE.get(e);t&&(py("ComponentProvider","Removing Datastore"),DE.delete(e),t.terminate())}(this),Promise.resolve()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class VE{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new VE(this.firestore,e,this._query)}}class BE{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new HE(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new BE(this.firestore,e,this._key)}}class HE extends VE{constructor(e,t,n){super(e,t,hw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new BE(this.firestore,null,new Vy(e))}withConverter(e){return new HE(this.firestore,e,this._path)}}function WE(e,t,...n){if(e=Nh(e),ME("collection","path",t),e instanceof zE){const r=$y.fromString(t,...n);return jE(r),new HE(e,null,r)}{if(!(e instanceof BE||e instanceof HE))throw new _y(xy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($y.fromString(t,...n));return jE(r),new HE(e.firestore,null,r)}}function qE(e,t,...n){if(e=Nh(e),1===arguments.length&&(t=Ny.newId()),ME("doc","path",t),e instanceof zE){const r=$y.fromString(t,...n);return LE(r),new BE(e,null,new Vy(r))}{if(!(e instanceof BE||e instanceof HE))throw new _y(xy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($y.fromString(t,...n));return LE(r),new BE(e.firestore,e instanceof HE?e.converter:null,new Vy(r))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class KE{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new ek(this,"async_queue_retry"),this.Tu=()=>{const e=J_();e&&py("AsyncQueue","Visibility state changed to "+e.visibilityState),this.e_.zo()};const e=J_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const t=J_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise((()=>{}));const t=new ky;return this.du((()=>this.uu&&this.Pu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.au.push(e),this.Au())))}async Au(){if(0!==this.au.length){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(ob){if(!Yy(ob))throw ob;py("AsyncQueue","Operation failed with retryable error: "+ob)}this.au.length>0&&this.e_.Wo((()=>this.Au()))}}du(e){const t=this._u.then((()=>(this.hu=!0,e().catch((e=>{this.lu=e,this.hu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e);throw gy("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.hu=!1,e))))));return this._u=t,t}enqueueAfterDelay(e,t,n){this.Eu(),this.Iu.indexOf(e)>-1&&(t=0);const r=Mk.createAndSchedule(this,e,t,n,(e=>this.Ru(e)));return this.cu.push(r),r}Eu(){this.lu&&yy()}verifyOperationInProgress(){}async Vu(){let e;do{e=this._u,await e}while(e!==this._u)}mu(e){for(const t of this.cu)if(t.timerId===e)return!0;return!1}fu(e){return this.Vu().then((()=>{this.cu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.cu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Vu()}))}gu(e){this.Iu.push(e)}Ru(e){const t=this.cu.indexOf(e);this.cu.splice(t,1)}}class GE extends zE{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new KE,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||XE(this),this._firestoreClient.terminate()}}function QE(e,t){const n="string"==typeof e?e:"(default)",r=Bd("object"==typeof e?e:Qd(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=mh("firestore");e&&function(e,t,n,r={}){var i;const o=(e=$E(e,zE))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&my("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=uy.MOCK_USER;else{t=wh(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new _y(xy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new uy(o)}e._authCredentials=new Ty(new Ey(t,n))}}(r,...e)}return r}function YE(e){return e._firestoreClient||XE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function XE(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new yv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,NE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new IE(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class JE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new JE(uv.fromBase64String(e))}catch(e){throw new _y(xy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new JE(uv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ZE{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _y(xy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zy(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class eS{constructor(e){this._methodName=e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class tS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _y(xy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _y(xy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dy(this._lat,e._lat)||Dy(this._long,e._long)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const nS=/^__.*__$/;class rS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new lx(e,this.data,this.fieldMask,t,this.fieldTransforms):new ax(e,this.data,t,this.fieldTransforms)}}class iS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new lx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yy()}}class sS{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new sS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.wu({path:n,bu:!1});return r.Du(e),r}Cu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.wu({path:n,bu:!1});return r.pu(),r}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return yS(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(0===e.length)throw this.Fu("Document fields must not be empty");if(oS(this.yu)&&nS.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class aS{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Z_(e)}Ou(e,t,n,r=!1){return new sS({yu:e,methodName:t,xu:n,path:zy.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lS(e){const t=e._freezeSettings(),n=Z_(e._databaseId);return new aS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cS(e,t,n,r,i,o={}){const s=e.Ou(o.merge||o.mergeFields?2:0,t,n,i);pS("Data must be an object, but it was:",s,r);const a=dS(r,s);let l,c;if(o.merge)l=new lv(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=gS(t,r,n);if(!s.contains(i))throw new _y(xy.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);vS(e,i)||e.push(i)}l=new lv(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new rS(new Mv(a),l,c)}class uS extends eS{_toFieldTransform(e){if(2!==e.yu)throw 1===e.yu?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uS}}function hS(e,t){if(fS(e=Nh(e)))return pS("Unsupported field value:",t,e),dS(e,t);if(e instanceof eS)return function(e,t){if(!oS(t.yu))throw t.Fu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.bu&&4!==t.yu)throw t.Fu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=hS(i,t.vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Nh(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $w(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ly.fromDate(e);return{timestampValue:Ux(t.serializer,n)}}if(e instanceof Ly){const n=new Ly(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ux(t.serializer,n)}}if(e instanceof tS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof JE)return{bytesValue:zx(t.serializer,e._byteString)};if(e instanceof BE){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Hx(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fu(`Unsupported field value: ${FE(e)}`)}(e,t)}function dS(e,t){const n={};return nv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tv(e,((e,r)=>{const i=hS(r,t.Su(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function fS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ly||e instanceof tS||e instanceof JE||e instanceof BE||e instanceof eS)}function pS(e,t,n){if(!fS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=FE(n);throw"an object"===r?t.Fu(e+" a custom object"):t.Fu(e+" "+r)}}function gS(e,t,n){if((t=Nh(t))instanceof ZE)return t._internalPath;if("string"==typeof t)return bS(e,t);throw yS("Field path arguments must be of type string or ",e,!1,void 0,n)}const mS=new RegExp("[~\\*/\\[\\]]");function bS(e,t,n){if(t.search(mS)>=0)throw yS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ZE(...t.split("."))._internalPath}catch(gb){throw yS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function yS(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new _y(xy.INVALID_ARGUMENT,a+e+l)}function vS(e,t){return e.some((e=>e.isEqual(t)))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class wS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new BE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_S("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xS extends wS{data(){return super.data()}}function _S(e,t){return"string"==typeof t?bS(e,t):t instanceof ZE?t._internalPath:t._delegate._internalPath}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class kS{}class ES extends kS{}function SS(e,t,...n){let r=[];t instanceof kS&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof IS)).length,n=e.filter((e=>e instanceof TS)).length;if(t>1||t>0&&n>0)throw new _y(xy.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(r);for(const i of r)e=i._apply(e);return e}class TS extends ES{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new TS(e,t,n)}_apply(e){const t=this._parse(e);return OS(e._query,t),new VE(e.firestore,e.converter,mw(e._query,t))}_parse(e){const t=lS(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new _y(xy.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){AS(s,o);const t=[];for(const n of s)t.push(PS(r,e,n));a={arrayValue:{values:t}}}else a=PS(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||AS(s,o),a=function(e,t,n,r=!1){return hS(n,e.Ou(r?4:3,t))}(n,t,s,"in"===o||"not-in"===o);return Hv.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function CS(e,t,n){const r=t,i=_S("where",e);return TS._create(i,r,n)}class IS extends kS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new IS(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Wv.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)OS(n,i),n=mw(n,i)}(e._query,t),new VE(e.firestore,e.converter,mw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function PS(e,t,n){if("string"==typeof(n=Nh(n))){if(""===n)throw new _y(xy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(t)&&-1!==n.indexOf("/"))throw new _y(xy.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child($y.fromString(n));if(!Vy.isDocumentKey(r))throw new _y(xy.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Iv(e,new Vy(r))}if(n instanceof BE)return Iv(e,n._key);throw new _y(xy.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${FE(n)}.`)}function AS(e,t){if(!Array.isArray(e)||0===e.length)throw new _y(xy.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function OS(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new _y(xy.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new _y(xy.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class RS{convertValue(e,t="none"){switch(xv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yy()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return tv(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new tS(fv(e.latitude),fv(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bv(e));default:return null}}convertTimestamp(e){const t=dv(e);return new Ly(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=$y.fromString(e);vy(u_(n));const r=new vv(n.get(1),n.get(3)),i=new Vy(n.popFirst(5));return r.isEqual(t)||gy(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function NS(e,t,n){let r;return r=e?e.toFirestore(t):t,r
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}class DS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MS extends wS{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new LS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(_S("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class LS extends MS{data(e={}){return super.data(e)}}class jS{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new DS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new LS(this._firestore,this._userDataWriter,n.key,n,new DS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _y(xy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new LS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new DS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new LS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:FS(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yy()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function $S(e){e=$E(e,BE);const t=$E(e.firestore,GE);return function(e,t,n={}){const r=new ky;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new CE({next:o=>{t.enqueueAndForget((()=>Hk(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new _y(xy.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new _y(xy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Yk(hw(n.path),o,{includeMetadataChanges:!0,oa:!0});return Bk(e,s)}(await RE(e),e.asyncQueue,t,n,r))),r.promise}(YE(t),e._key).then((n=>function(e,t,n){const r=n.docs.get(t._key),i=new US(e);return new MS(e,i,t._key,r,new DS(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}class US extends RS{constructor(e){super(),this.firestore=e}convertBytes(e){return new JE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new BE(this.firestore,null,t)}}function zS(e){e=$E(e,VE);const t=$E(e.firestore,GE),n=YE(t),r=new US(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _y(xy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new ky;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new CE({next:n=>{t.enqueueAndForget((()=>Hk(e,s))),n.fromCache&&"server"===r.source?i.reject(new _y(xy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Yk(n,o,{includeMetadataChanges:!0,oa:!0});return Bk(e,s)}(await RE(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new jS(t,r,e,n)))}function VS(e,t,n){e=$E(e,BE);const r=$E(e.firestore,GE),i=NS(e.converter,t);return WS(r,[cS(lS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zw.none())])}function BS(e,t,n,...r){e=$E(e,BE);const i=$E(e.firestore,GE),o=lS(i);let s;return s="string"==typeof(t=Nh(t))||t instanceof ZE?function(e,t,n,r,i,o){const s=e.Ou(1,t,n),a=[gS(t,r,n)],l=[i];if(o.length%2!=0)throw new _y(xy.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(gS(t,o[d])),l.push(o[d+1]);const c=[],u=Mv.empty();for(let d=a.length-1;d>=0;--d)if(!vS(c,a[d])){const e=a[d];let t=l[d];t=Nh(t);const n=s.Cu(e);if(t instanceof uS)c.push(e);else{const r=hS(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new lv(c);return new iS(u,h,s.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Ou(1,t,n);pS("Data must be an object, but it was:",i,r);const o=[],s=Mv.empty();tv(r,((e,r)=>{const a=bS(t,e,n);r=Nh(r);const l=i.Cu(a);if(r instanceof uS)o.push(a);else{const e=hS(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new lv(o);return new iS(s,a,i.fieldTransforms)}(o,"updateDoc",e._key,t),WS(i,[s.toMutation(e._key,Zw.exists(!0))])}function HS(e){return WS($E(e.firestore,GE),[new dx(e._key,Zw.none())])}function WS(e,t){return function(e,t){const n=new ky;return e.asyncQueue.enqueueAndForget((async()=>lE(await function(e){return OE(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(YE(e),t)}!function(e,t=!0){!function(e){hy=e}(Kd),Vd(new Dh("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new GE(new Cy(e.getProvider("auth-internal")),new Oy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _y(xy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vv(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),Yd(cy,"4.6.5",e),Yd(cy,"4.6.5","esm2017")}();const qS=Gd({apiKey:"AIzaSyDnx8jSDG2Es-t1O5meVfOR8ZW1A_1_9OM",authDomain:"estacionamientou-e505d.firebaseapp.com",projectId:"estacionamientou-e505d",storageBucket:"estacionamientou-e505d.appspot.com",messagingSenderId:"805548540766",appId:"1:805548540766:web:afd033bbd70ebc8619c5cf",measurementId:"G-3W2LVPMYD0"}),KS=QE(qS),GS="firebasestorage.googleapis.com",QS="storageBucket";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class YS extends kh{constructor(e,t,n=0){super(ZS(e),`Firebase Storage: ${t} (${ZS(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,YS.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ZS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var XS,JS;function ZS(e){return"storage/"+e}function eT(){return new YS(XS.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function tT(e){return new YS(XS.INVALID_ARGUMENT,e)}function nT(){return new YS(XS.APP_DELETED,"The Firebase app was deleted.")}function rT(e,t){return new YS(XS.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function iT(e){throw new YS(XS.INTERNAL_ERROR,"Internal error: "+e)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(XS||(XS={}));class oT{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=oT.makeFromUrl(e,t)}catch(ob){return new oT(e,"")}if(""===n.path)return n;throw r=e,new YS(XS.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===GS?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new oT(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new YS(XS.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class sT{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function aT(e){return"string"==typeof e||e instanceof String}function lT(e){return cT()&&e instanceof Blob}function cT(){return"undefined"!=typeof Blob}function uT(e,t,n,r){if(r<t)throw tT(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw tT(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function hT(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function dT(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(JS||(JS={}));
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class fT{constructor(e,t,n,r,i,o,s,a,l,c,u,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new pT(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===JS.NO_ERROR,i=n.getStatus();if(!t||
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===JS.ABORT;return void e(!1,new pT(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new pT(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e){return void 0!==e}(e)?n():n(e)}catch(ob){r(ob)}else if(null!==i){const e=eT();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else t.canceled?r(this.appDelete_?nT():new YS(XS.CANCELED,"User canceled the upload/download.")):r(new YS(XS.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new pT(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...e){c||(c=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){o&&clearTimeout(o)}function f(e,...t){if(c)return void d();if(e)return d(),void u.call(null,e,...t);if(l()||s)return d(),void u.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function g(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class pT{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function gT(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function mT(...e){const t=gT();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(cT())return new Blob(e);throw new YS(XS.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function bT(e){if("undefined"==typeof atob)throw t="base-64",new YS(XS.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const yT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vT{constructor(e,t){this.data=e,this.contentType=t||null}}function wT(e,t){switch(e){case yT.RAW:return new vT(xT(t));case yT.BASE64:case yT.BASE64URL:return new vT(_T(e,t));case yT.DATA_URL:return new vT(function(e){const t=new kT(e);return t.base64?_T(yT.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(ob){throw rT(yT.DATA_URL,"Malformed data URL.")}return xT(t)}(t.rest)}(t),new kT(t).contentType)}throw eT()}function xT(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function _T(e,t){switch(e){case yT.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw rT(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case yT.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw rT(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bT(t)}catch(ob){if(ob.message.includes("polyfill"))throw ob;throw rT(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class kT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw rT(yT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */null!=n&&(this.base64=(i=";base64",(r=n).length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ET{constructor(e,t){let n=0,r="";lT(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(lT(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new ET(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ET(n,!0)}}static getBlob(...e){if(cT()){const t=e.map((e=>e instanceof ET?e.data_:e));return new ET(mT.apply(null,t))}{const t=e.map((e=>aT(e)?wT(yT.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new ET(r,!0)}}uploadData(){return this.data_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function ST(e){let t;try{t=JSON.parse(e)}catch(ob){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function TT(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function CT(e,t){return t}class IT{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||CT}}let PT=null;function AT(){if(PT)return PT;const e=[];e.push(new IT("bucket")),e.push(new IT("generation")),e.push(new IT("metageneration")),e.push(new IT("name","fullPath",!0));const t=new IT("name");t.xform=function(e,t){return function(e){return!aT(e)||e.length<2?e:TT(e)}(t)},e.push(t);const n=new IT("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new IT("timeCreated")),e.push(new IT("updated")),e.push(new IT("md5Hash",null,!0)),e.push(new IT("cacheControl",null,!0)),e.push(new IT("contentDisposition",null,!0)),e.push(new IT("contentEncoding",null,!0)),e.push(new IT("contentLanguage",null,!0)),e.push(new IT("contentType",null,!0)),e.push(new IT("metadata","customMetadata",!0)),PT=e,PT}function OT(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new oT(n,r);return t._makeStorageReference(i)}})}(r,e),r}function RT(e,t,n){const r=ST(t);return null===r?null:OT(e,r,n)}class NT{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function DT(e){if(!e)throw eT()}function MT(e,t){return function(n,r){const i=RT(e,r,t);return DT(null!==i),function(e,t,n,r){const i=ST(t);if(null===i)return null;if(!aT(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return hT("/b/"+s(i)+"/o/"+s(o),n,r)+dT({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function LT(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new YS(XS.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new YS(XS.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new YS(XS.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new YS(XS.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function jT(e){const t=LT(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new YS(XS.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function FT(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=function(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}(t,r,i),c=function(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(l,n),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",h="\r\n--"+a+"--",d=ET.getBlob(u,r,h);if(null===d)throw new YS(XS.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");const f={name:l.fullPath},p=hT(o,e.host,e._protocol),g=e.maxUploadRetryTime,m=new NT(p,"POST",function(e,t){return function(n,r){const i=RT(e,r,t);return DT(null!==i),i}}(e,n),g);return m.urlParams=f,m.headers=s,m.body=d.uploadData(),m.errorHandler=LT(t),m}class $T{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=JS.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=JS.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=JS.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw iT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(ob){return-1}}getResponse(){if(!this.sent_)throw iT("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iT("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class UT extends $T{initXhr(){this.xhr_.responseType="text"}}function zT(){return new UT}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class VT{constructor(e,t){this._service=e,this._location=t instanceof oT?t:oT.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new VT(e,t)}get root(){const e=new oT(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TT(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new oT(this._location.bucket,e);return new VT(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new YS(XS.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function BT(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=hT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new NT(r,"GET",MT(e,n),i);return o.errorHandler=jT(t),o}(e.storage,e._location,AT());return e.storage.makeRequestWithTokens(t,zT).then((e=>{if(null===e)throw new YS(XS.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function HT(e,t){if(e instanceof KT){const n=e;if(null==n._bucket)throw new YS(XS.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QS+"' property when initializing the app?");const r=new VT(n,n._bucket);return null!=t?HT(r,t):r}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new oT(e._location.bucket,n);return new VT(e.storage,r)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,t):e}function WT(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof KT)return new VT(e,t);throw tT("To use ref(service, url), the first argument must be a Storage instance.")}return HT(e,t)}function qT(e,t){const n=null==t?void 0:t[QS];return null==n?null:oT.makeFromBucketSpec(n,e)}class KT{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=GS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?oT.makeFromBucketSpec(r,this._host):qT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=oT.makeFromBucketSpec(this._url,e):this._bucket=qT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new VT(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new sT(nT());{const o=function(e,t,n,r,i,o,s=!0){const a=dT(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new fT(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const GT="@firebase/storage",QT="0.12.6",YT="storage";function XT(e,t,n){return function(e,t,n){e._throwIfRoot("uploadBytes");const r=FT(e.storage,e._location,AT(),new ET(t,!0),n);return e.storage.makeRequestWithTokens(r,zT).then((t=>({metadata:t,ref:e})))}(e=Nh(e),t,n)}function JT(e){return BT(e=Nh(e))}function ZT(e,t){return WT(e=Nh(e),t)}function eC(e=Qd(),t){const n=Bd(e=Nh(e),YT).getImmediate({identifier:t}),r=mh("storage");return r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:wh(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function tC(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new KT(n,r,i,t,Kd)}function nC(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function rC(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}Vd(new Dh(YT,tC,"PUBLIC").setMultipleInstances(!0)),Yd(GT,QT,""),Yd(GT,QT,"esm2017");const iC=6048e5,oC=864e5;let sC={};function aC(){return sC}function lC(e,t){const n=aC(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=nC(e),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function cC(e){return lC(e,{weekStartsOn:1})}function uC(e){const t=nC(e),n=t.getFullYear(),r=rC(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=cC(r),o=rC(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=cC(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function hC(e){const t=nC(e);return t.setHours(0,0,0,0),t}function dC(e){const t=nC(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function fC(e){if(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)||"number"==typeof e))return!1;var t;const n=nC(e);return!isNaN(Number(n))}const pC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function gC(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const mC={date:gC({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:gC({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:gC({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},bC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function yC(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const vC={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:yC({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:yC({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:yC({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:yC({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:yC({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function wC(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(a,(e=>e.test(s))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(a,(e=>e.test(s)));let c;return c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c,{value:c,rest:t.slice(s.length)}}}function xC(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];return s=n.valueCallback?n.valueCallback(s):s,{value:s,rest:t.slice(i.length)}}}const _C={ordinalNumber:xC({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:wC({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:wC({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:wC({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:wC({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:wC({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},kC={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=pC[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:mC,formatRelative:(e,t,n,r)=>bC[e],localize:vC,match:_C,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EC(e){const t=nC(e),n=function(e,t){const n=hC(e),r=hC(t),i=+n-dC(n),o=+r-dC(r);return Math.round((i-o)/oC)}(t,function(e){const t=nC(e),n=rC(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}(t));return n+1}function SC(e){const t=nC(e),n=+cC(t)-+function(e){const t=uC(e),n=rC(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),cC(n)}(t);return Math.round(n/iC)+1}function TC(e,t){const n=nC(e),r=n.getFullYear(),i=aC(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=rC(e,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=lC(s,t),l=rC(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=lC(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function CC(e,t){const n=nC(e),r=+lC(n,t)-+function(e,t){const n=aC(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=TC(e,t),o=rC(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),lC(o,t)}(n,t);return Math.round(r/iC)+1}function IC(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const PC={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return IC("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):IC(n+1,2)},d:(e,t)=>IC(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>IC(e.getHours()%12||12,t.length),H:(e,t)=>IC(e.getHours(),t.length),m:(e,t)=>IC(e.getMinutes(),t.length),s:(e,t)=>IC(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return IC(Math.trunc(r*Math.pow(10,n-3)),t.length)}},AC="midnight",OC="noon",RC="morning",NC="afternoon",DC="evening",MC="night",LC={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return PC.y(e,t)},Y:function(e,t,n,r){const i=TC(e,r),o=i>0?i:1-i;return"YY"===t?IC(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):IC(o,t.length)},R:function(e,t){return IC(uC(e),t.length)},u:function(e,t){return IC(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return IC(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return IC(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return PC.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return IC(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=CC(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):IC(i,t.length)},I:function(e,t,n){const r=SC(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):IC(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):PC.d(e,t)},D:function(e,t,n){const r=EC(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):IC(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return IC(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return IC(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return IC(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?OC:0===r?AC:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?DC:r>=12?NC:r>=4?RC:MC,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return PC.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):PC.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):IC(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):IC(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):PC.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):PC.s(e,t)},S:function(e,t){return PC.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return FC(r);case"XXXX":case"XX":return $C(r);default:return $C(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return FC(r);case"xxxx":case"xx":return $C(r);default:return $C(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jC(r,":");default:return"GMT"+$C(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jC(r,":");default:return"GMT"+$C(r,":")}},t:function(e,t,n){return IC(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return IC(e.getTime(),t.length)}};function jC(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+IC(o,2)}function FC(e,t){return e%60==0?(e>0?"-":"+")+IC(Math.abs(e)/60,2):$C(e,t)}function $C(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+IC(Math.trunc(r/60),2)+t+IC(r%60,2)}const UC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},zC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},VC={p:zC,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return UC(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",UC(r,t)).replace("{{time}}",zC(i,t))}},BC=/^D+$/,HC=/^Y+$/,WC=["D","DD","YY","YYYY"],qC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GC=/^'([^]*?)'?$/,QC=/''/g,YC=/[a-zA-Z]/;function XC(e,t,n){const r=aC(),i=n?.locale??r.locale??kC,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=nC(e);if(!fC(a))throw new RangeError("Invalid time value");let l=t.match(KC).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,VC[t])(e,i.formatLong):e})).join("").match(qC).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:JC(e)};if(LC[t])return{isToken:!0,value:e};if(t.match(YC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map((r=>{if(!r.isToken)return r.value;const o=r.value;return(!n?.useAdditionalWeekYearTokens&&function(e){return HC.test(e)}(o)||!n?.useAdditionalDayOfYearTokens&&function(e){return BC.test(e)}(o))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),WC.includes(e))throw new RangeError(r)}(o,t,String(e)),(0,LC[o[0]])(a,o,i.localize,c)})).join("")}function JC(e){const t=e.match(GC);return t?t[1].replace(QC,"'"):e}const ZC={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},eI={date:gC({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:gC({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:gC({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},tI={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},nI={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},rI={ordinalNumber:(e,t)=>Number(e)+"º",era:yC({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},defaultWidth:"wide"}),quarter:yC({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:yC({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:yC({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},defaultWidth:"wide"}),dayPeriod:yC({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},iI={ordinalNumber:xC({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:wC({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:wC({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:wC({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:wC({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:wC({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},oI={code:"es",formatDistance:(e,t,n)=>{let r;const i=ZC[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},formatLong:eI,formatRelative:(e,t,n,r)=>1!==t.getHours()?nI[e]:tI[e],localize:rI,match:iI,options:{weekStartsOn:1,firstWeekContainsDate:1}};var sI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aI=B.createContext&&B.createContext(sI),lI=["attr","size","title"];function cI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uI(){return uI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uI.apply(this,arguments)}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hI(Object(n),!0).forEach((function(t){fI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pI(e){return e&&e.map(((e,t)=>B.createElement(e.tag,dI({key:t},e.attr),pI(e.child))))}function gI(e){return t=>B.createElement(mI,uI({attr:dI({},e.attr)},t),pI(e.child))}function mI(e){var t=t=>{var n,{attr:r,size:i,title:o}=e,s=cI(e,lI),a=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),B.createElement("svg",uI({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:dI(dI({color:e.color||t.color},t.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&B.createElement("title",null,o),e.children)};return void 0!==aI?B.createElement(aI.Consumer,null,(e=>t(e))):t(sI)}function bI(e){return gI({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function yI(e){return gI({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}const vI=function(e,t,n){let r=Promise.resolve();return r.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};var wI={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},xI=Object.defineProperty,_I=!0,kI=new WeakMap,EI=e=>kI.get(e),SI=(e,t)=>t in e,TI=(e,t)=>(0,console.error)(e,t),CI=new Map,II=[],PI="http://www.w3.org/1999/xlink",AI="undefined"!=typeof window?window:{},OI=AI.document||{head:{}},RI=AI.HTMLElement||class{},NI={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},DI=(()=>{let e=!1;try{OI.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(ob){}return e})(),MI=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(ob){}return!1})(),LI=!1,jI=[],FI=[],$I=(e,t)=>n=>{e.push(n),LI||(LI=!0,t&&4&NI.$flags$?VI(zI):NI.raf(zI))},UI=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(ob){TI(ob)}e.length=0},zI=()=>{UI(jI),UI(FI),(LI=jI.length>0)&&NI.raf(zI)},VI=e=>(e=>Promise.resolve(e))().then(e),BI=$I(jI,!1),HI=$I(FI,!0),WI={},qI=e=>"object"==(e=typeof e)||"function"===e;((e,t)=>{for(var n in t)xI(e,n,{get:t[n],enumerable:!0})})({},{err:()=>GI,map:()=>QI,ok:()=>KI,unwrap:()=>ZI,unwrapErr:()=>eP});var KI=e=>({isOk:!0,isErr:!1,value:e}),GI=e=>({isOk:!1,isErr:!0,value:e});function QI(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then((e=>KI(e))):KI(n)}if(e.isErr){const t=e.value;return GI(t)}throw"should never get here"}var YI,XI,JI,ZI=e=>{if(e.isOk)return e.value;throw e.value},eP=e=>{if(e.isErr)return e.value;throw e.value},tP=(e,t,...n)=>{let r=null,i=null,o=null,s=!1,a=!1;const l=[],c=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?c(r):null!=r&&"boolean"!=typeof r&&((s="function"!=typeof e&&!qI(r))&&(r=String(r)),s&&a?l[l.length-1].$text$+=r:l.push(s?nP(null,r):r),a=s)};if(c(n),t){t.key&&(i=t.key),t.name&&(o=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,l,iP);const u=nP(e,null);return u.$attrs$=t,l.length>0&&(u.$children$=l),u.$key$=i,u.$name$=o,u},nP=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return n},rP={},iP={forEach:(e,t)=>e.map(oP).forEach(t),map:(e,t)=>e.map(oP).map(t).map(sP)},oP=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),sP=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),tP(e.vtag,t,...e.vchildren||[])}const t=nP(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},aP=(e,t,n)=>{const r=e;return{emit:e=>lP(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},lP=(e,t,n)=>{const r=NI.ce(t,n);return e.dispatchEvent(r),r},cP=new WeakMap,uP=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=(t.$tagName$,()=>{}),o=((e,t,n)=>{var r;const i=hP(t,n),o=CI.get(i);if(e=11===e.nodeType?e:OI,o)if("string"==typeof o){e=e.head||e;let n,s=cP.get(e);if(s||cP.set(e,s=new Set),!s.has(i)){{n=OI.createElement("style"),n.innerHTML=o;const i=null!=(r=NI.$nonce$)?r:function(e){var t,n,r;return null!=(r=null==(n=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:n.getAttribute("content"))?r:void 0}(OI);null!=i&&n.setAttribute("nonce",i),(!(1&t.$flags$)||1&t.$flags$&&"HEAD"!==e.nodeName)&&e.insertBefore(n,e.querySelector("link"))}4&t.$flags$&&(n.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),s&&s.add(i)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return i})(n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$);10&r&&2&r&&(n["s-sc"]=o,n.classList.add(o+"-h"),2&r&&n.classList.add(o+"-s")),i()},hP=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),dP=(e,t,n,r,i,o)=>{if(n!==r){let s=SI(e,t),a=t.toLowerCase();if("class"===t){const t=e.classList,i=pP(n),o=pP(r);t.remove(...i.filter((e=>e&&!o.includes(e)))),t.add(...o.filter((e=>e&&!i.includes(e))))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"===t);else if("ref"===t)r&&r(e);else if(e.__lookupSetter__(t)||"o"!==t[0]||"n"!==t[1]){const l=qI(r);if((s||l&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{const i=null==r?"":r;"list"===t?s=!1:null!=n&&e[t]==i||(e[t]=i)}}catch(ob){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(c?e.removeAttributeNS(PI,t):e.removeAttribute(t)):(!s||4&o||i)&&!l&&(r=!0===r?"":r,c?e.setAttributeNS(PI,t,r):e.setAttribute(t,r))}else if(t="-"===t[2]?t.slice(3):SI(AI,a)?a.slice(2):a[2]+t.slice(3),n||r){const i=t.endsWith(gP);t=t.replace(mP,""),n&&NI.rel(e,t,n,i),r&&NI.ael(e,t,r,i)}}},fP=/\s/,pP=e=>e?e.split(fP):[],gP="Capture",mP=new RegExp(gP+"$"),bP=(e,t,n)=>{const r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||WI,o=t.$attrs$||WI;for(const s of yP(Object.keys(i)))s in o||dP(r,s,i[s],void 0,n,t.$flags$);for(const s of yP(Object.keys(o)))dP(r,s,i[s],o[s],n,t.$flags$)};function yP(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var vP=!1,wP=!1,xP=!1,_P=!1,kP=(e,t,n,r)=>{var i;const o=t.$children$[n];let s,a,l,c=0;if(vP||(xP=!0,"slot"===o.$tag$&&(YI&&r.classList.add(YI+"-s"),o.$flags$|=o.$children$?2:1)),null!==o.$text$)s=o.$elm$=OI.createTextNode(o.$text$);else if(1&o.$flags$)s=o.$elm$=OI.createTextNode("");else{if(_P||(_P="svg"===o.$tag$),s=o.$elm$=OI.createElementNS(_P?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!vP&&wI.slotRelocation&&2&o.$flags$?"slot-fb":o.$tag$),_P&&"foreignObject"===o.$tag$&&(_P=!1),bP(null,o,_P),!!s.getRootNode().querySelector("body")&&wI.scoped&&(e=>null!=e)(YI)&&s["s-si"]!==YI&&s.classList.add(s["s-si"]=YI),FP(s,r),o.$children$)for(c=0;c<o.$children$.length;++c)a=kP(e,o,c,s),a&&s.appendChild(a);"svg"===o.$tag$?_P=!1:"foreignObject"===s.tagName&&(_P=!0)}return s["s-hn"]=JI,3&o.$flags$&&(s["s-sr"]=!0,s["s-cr"]=XI,s["s-sn"]=o.$name$||"",s["s-rf"]=null==(i=o.$attrs$)?void 0:i.ref,l=e&&e.$children$&&e.$children$[n],l&&l.$tag$===o.$tag$&&e.$elm$&&EP(e.$elm$,!1)),s},EP=(e,t)=>{NI.$flags$|=1;const n=Array.from(e.childNodes);if(e["s-sr"]&&wI.experimentalSlotFixes){let t=e;for(;t=t.nextSibling;)t&&t["s-sn"]===e["s-sn"]&&t["s-sh"]===JI&&n.push(t)}for(let r=n.length-1;r>=0;r--){const e=n[r];e["s-hn"]!==JI&&e["s-ol"]&&(LP(PP(e),e,IP(e)),e["s-ol"].remove(),e["s-ol"]=void 0,e["s-sh"]=void 0,xP=!0),t&&EP(e,t)}NI.$flags$&=-2},SP=(e,t,n,r,i,o)=>{let s,a=e["s-cr"]&&e["s-cr"].parentNode||e;for(a.shadowRoot&&a.tagName===JI&&(a=a.shadowRoot);i<=o;++i)r[i]&&(s=kP(null,n,i,e),s&&(r[i].$elm$=s,LP(a,s,IP(t))))},TP=(e,t,n)=>{for(let r=t;r<=n;++r){const t=e[r];if(t){const e=t.$elm$;MP(t),e&&(wP=!0,e["s-ol"]?e["s-ol"].remove():EP(e,!0),e.remove())}}},CP=(e,t,n=!1)=>!(e.$tag$!==t.$tag$||("slot"===e.$tag$?"$nodeId$"in e&&n&&8!==e.$elm$.nodeType||e.$name$!==t.$name$:!n&&e.$key$!==t.$key$)),IP=e=>e&&e["s-ol"]||e,PP=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,AP=(e,t,n=!1)=>{const r=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,s=t.$tag$,a=t.$text$;let l;null===a?(_P="svg"===s||"foreignObject"!==s&&_P,("slot"!==s||vP)&&bP(e,t,_P),null!==i&&null!==o?((e,t,n,r,i=!1)=>{let o,s,a=0,l=0,c=0,u=0,h=t.length-1,d=t[0],f=t[h],p=r.length-1,g=r[0],m=r[p];for(;a<=h&&l<=p;)if(null==d)d=t[++a];else if(null==f)f=t[--h];else if(null==g)g=r[++l];else if(null==m)m=r[--p];else if(CP(d,g,i))AP(d,g,i),d=t[++a],g=r[++l];else if(CP(f,m,i))AP(f,m,i),f=t[--h],m=r[--p];else if(CP(d,m,i))"slot"!==d.$tag$&&"slot"!==m.$tag$||EP(d.$elm$.parentNode,!1),AP(d,m,i),LP(e,d.$elm$,f.$elm$.nextSibling),d=t[++a],m=r[--p];else if(CP(f,g,i))"slot"!==d.$tag$&&"slot"!==m.$tag$||EP(f.$elm$.parentNode,!1),AP(f,g,i),LP(e,f.$elm$,d.$elm$),f=t[--h],g=r[++l];else{for(c=-1,u=a;u<=h;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===g.$key$){c=u;break}c>=0?(s=t[c],s.$tag$!==g.$tag$?o=kP(t&&t[l],n,c,e):(AP(s,g,i),t[c]=void 0,o=s.$elm$),g=r[++l]):(o=kP(t&&t[l],n,l,e),g=r[++l]),o&&LP(PP(d.$elm$),o,IP(d.$elm$))}a>h?SP(e,null==r[p+1]?null:r[p+1].$elm$,n,r,l,p):l>p&&TP(t,a,h)})(r,i,t,o,n):null!==o?(null!==e.$text$&&(r.textContent=""),SP(r,null,t,o,0,o.length-1)):!n&&wI.updatable&&null!==i&&TP(i,0,i.length-1),_P&&"svg"===s&&(_P=!1)):(l=r["s-cr"])?l.parentNode.textContent=a:e.$text$!==a&&(r.data=a)},OP=e=>{const t=e.childNodes;for(const n of t)if(1===n.nodeType){if(n["s-sr"]){const e=n["s-sn"];n.hidden=!1;for(const r of t)if(r!==n)if(r["s-hn"]!==n["s-hn"]||""!==e){if(1===r.nodeType&&(e===r.getAttribute("slot")||e===r["s-sn"])||3===r.nodeType&&e===r["s-sn"]){n.hidden=!0;break}}else if(1===r.nodeType||3===r.nodeType&&""!==r.textContent.trim()){n.hidden=!0;break}}OP(n)}},RP=[],NP=e=>{let t,n,r;for(const i of e.childNodes){if(i["s-sr"]&&(t=i["s-cr"])&&t.parentNode){n=t.parentNode.childNodes;const e=i["s-sn"];for(r=n.length-1;r>=0;r--)if(t=n[r],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==i["s-hn"]&&!wI.experimentalSlotFixes)if(DP(t,e)){let n=RP.find((e=>e.$nodeToRelocate$===t));wP=!0,t["s-sn"]=t["s-sn"]||e,n?(n.$nodeToRelocate$["s-sh"]=i["s-hn"],n.$slotRefNode$=i):(t["s-sh"]=i["s-hn"],RP.push({$slotRefNode$:i,$nodeToRelocate$:t})),t["s-sr"]&&RP.map((e=>{DP(e.$nodeToRelocate$,t["s-sn"])&&(n=RP.find((e=>e.$nodeToRelocate$===t)),n&&!e.$slotRefNode$&&(e.$slotRefNode$=n.$slotRefNode$))}))}else RP.some((e=>e.$nodeToRelocate$===t))||RP.push({$nodeToRelocate$:t})}1===i.nodeType&&NP(i)}},DP=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,MP=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(MP)},LP=(e,t,n)=>{const r=null==e?void 0:e.insertBefore(t,n);return FP(t,e),r},jP=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...jP(e.parentElement)),t},FP=(e,t,n=!1)=>{var r;if(e&&t&&1===e.nodeType){const i=new Set(jP(t).filter(Boolean));if(i.size&&(null==(r=e.classList)||r.add(...e["s-scs"]=[...i]),e["s-ol"]||n))for(const t of Array.from(e.childNodes))FP(t,e,!0)}},$P=(e,t,n=!1)=>{var r,i,o,s,a;const l=e.$hostElement$,c=e.$cmpMeta$,u=e.$vnode$||nP(null,null),h=(d=t)&&d.$tag$===rP?t:tP(null,null,t);var d;if(JI=l.tagName,c.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},c.$attrsToReflect$.map((([e,t])=>h.$attrs$[t]=l[e]))),n&&h.$attrs$)for(const f of Object.keys(h.$attrs$))l.hasAttribute(f)&&!["key","ref","style","class"].includes(f)&&(h.$attrs$[f]=l[f]);if(h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=u.$elm$=l.shadowRoot||l,YI=l["s-sc"],vP=!!(1&c.$flags$),XI=l["s-cr"],wP=!1,AP(u,h,n),NI.$flags$|=1,xP){NP(h.$elm$);for(const e of RP){const t=e.$nodeToRelocate$;if(!t["s-ol"]){const e=OI.createTextNode("");e["s-nr"]=t,LP(t.parentNode,t["s-ol"]=e,t)}}for(const e of RP){const t=e.$nodeToRelocate$,a=e.$slotRefNode$;if(a){const e=a.parentNode;let n=a.nextSibling;{let o=null==(r=t["s-ol"])?void 0:r.previousSibling;for(;o;){let r=null!=(i=o["s-nr"])?i:null;if(r&&r["s-sn"]===t["s-sn"]&&e===r.parentNode){for(r=r.nextSibling;r===t||(null==r?void 0:r["s-sr"]);)r=null==r?void 0:r.nextSibling;if(!r||!r["s-nr"]){n=r;break}}o=o.previousSibling}}(!n&&e!==t.parentNode||t.nextSibling!==n)&&t!==n&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),LP(e,t,n),1===t.nodeType&&(t.hidden=null!=(o=t["s-ih"])&&o)),t&&"function"==typeof a["s-rf"]&&a["s-rf"](t)}else 1===t.nodeType&&(n&&(t["s-ih"]=null!=(s=t.hidden)&&s),t.hidden=!0)}}if(wP&&OP(h.$elm$),NI.$flags$&=-2,RP.length=0,wI.experimentalScopedSlotChanges&&2&c.$flags$)for(const f of h.$elm$.childNodes)f["s-hn"]===JI||f["s-sh"]||(n&&null==f["s-ih"]&&(f["s-ih"]=null!=(a=f.hidden)&&a),f.hidden=!0);XI=void 0},UP=(e,t)=>(e.$flags$|=16,e.$ancestorComponent$,HI((()=>zP(e,t)))),zP=(e,t)=>{const n=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{}),i=n;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return o=KP(i,t?"componentWillLoad":"componentWillUpdate"),o=VP(o,(()=>KP(i,"componentWillRender"))),r(),VP(o,(()=>HP(e,i,t)))},VP=(e,t)=>BP(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),BP=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,HP=async(e,t,n)=>{const r=e.$hostElement$,i=(e.$cmpMeta$.$tagName$,()=>{});r["s-rc"],n&&uP(e);const o=(e.$cmpMeta$.$tagName$,()=>{});WP(e,t,r,n),o(),i(),qP(e)},WP=(e,t,n,r)=>{try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(wI.hasRenderFn||wI.reflect)&&(wI.vdomRender||wI.reflect)&&(wI.hydrateServerSide||$P(e,t,r))}catch(ob){TI(ob,e.$hostElement$)}return null},qP=e=>{e.$cmpMeta$.$tagName$;const t=()=>{},n=e.$hostElement$;e.$ancestorComponent$,KP(n,"componentDidRender"),64&e.$flags$?(KP(n,"componentDidUpdate"),t()):(e.$flags$|=64,KP(n,"componentDidLoad"),t())},KP=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(ob){TI(ob)}},GP=(e,t,n,r)=>{const i=EI(e),o=e,s=i.$instanceValues$.get(t),a=i.$flags$,l=o;var c,u;c=n,u=r.$members$[t][0],n=null==c||qI(c)?c:4&u?"false"!==c&&(""===c||!!c):2&u?parseFloat(c):1&u?String(c):c;const h=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!h){if(i.$instanceValues$.set(t,n),r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.map((e=>{try{l[e](n,s,t)}catch(ob){TI(ob,o)}}))}if(2==(18&a)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(n,s,t))return;UP(i,!1)}}},QP=(e,t,n)=>{var r,i;const o=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const n=Object.entries(null!=(r=t.$members$)?r:{});n.map((([e,[n]])=>{(31&n||32&n)&&Object.defineProperty(o,e,{get(){return((e,t)=>EI(e).$instanceValues$.get(t))(this,e)},set(n){GP(this,e,n,t)},configurable:!0,enumerable:!0})}));{const r=new Map;o.attributeChangedCallback=function(e,n,i){NI.jmp((()=>{var s;const a=r.get(e);if(this.hasOwnProperty(a))i=this[a],delete this[a];else{if(o.hasOwnProperty(a)&&"number"==typeof this[a]&&this[a]==i)return;if(null==a){const r=EI(this),o=null==r?void 0:r.$flags$;if(o&&!(8&o)&&128&o&&i!==n){const r=this,o=null==(s=t.$watchers$)?void 0:s[e];null==o||o.forEach((t=>{null!=r[t]&&r[t].call(r,i,n,e)}))}return}}this[a]=(null!==i||"boolean"!=typeof this[a])&&i}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(i=t.$watchers$)?i:{}),...n.filter((([e,t])=>15&t[0])).map((([e,n])=>{var i;const o=n[1]||e;return r.set(o,e),512&n[0]&&(null==(i=t.$attrsToReflect$)||i.push([e,o])),o}))]))}}return e},YP=async(e,t,n,r)=>{let i;if(!(32&t.$flags$)){t.$flags$|=32,n.$lazyBundleId$;{i=e.constructor;const n=e.localName;customElements.whenDefined(n).then((()=>t.$flags$|=128))}if(i&&i.style){let r;"string"==typeof i.style?r=i.style:"string"!=typeof i.style&&(t.$modeName$=(e=>II.map((t=>t(e))).find((e=>!!e)))(e),t.$modeName$&&(r=i.style[t.$modeName$]));const o=hP(n,t.$modeName$);if(!CI.has(o)){const e=(n.$tagName$,()=>{});((e,t,n)=>{let r=CI.get(e);MI&&n?(r=r||new CSSStyleSheet,"string"==typeof r?r=t:r.replaceSync(t)):r=t,CI.set(e,r)})(o,r,!!(1&n.$flags$)),e()}}}t.$ancestorComponent$,UP(t,!0)},XP=e=>{const t=e["s-cr"]=OI.createComment("");t["s-cn"]=!0,LP(e,t,e.firstChild)},JP=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]};n.$members$=t[2],n.$listeners$=t[3],n.$watchers$=e.$watchers$,n.$attrsToReflect$=[];const r=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){((e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};kI.set(e,n)})(this,n)},connectedCallback(){const e=EI(this);ZP(this,e,n.$listeners$),(e=>{if(!(1&NI.$flags$)){const t=EI(e),n=t.$cmpMeta$,r=(n.$tagName$,()=>{});1&t.$flags$?(ZP(e,t,n.$listeners$),(null==t?void 0:t.$lazyInstance$)?t.$lazyInstance$:(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>{t.$lazyInstance$}))):(t.$flags$|=1,12&n.$flags$&&XP(e),n.$members$&&Object.entries(n.$members$).map((([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}})),YP(e,t,n)),r()}})(this),r&&r.call(this)},disconnectedCallback(){(async e=>{if(!(1&NI.$flags$)){const t=EI(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0)}})(this),i&&i.call(this)},__attachShadow(){if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else this.attachShadow({mode:"open",delegatesFocus:!!(16&n.$flags$)})}}),e.is=n.$tagName$,QP(e,n)},ZP=(e,t,n,r)=>{n&&n.map((([n,r,i])=>{const o=tA(e,n),s=eA(t,i),a=nA(n);NI.ael(o,r,s,a),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>NI.rel(o,r,s,a)))}))},eA=(e,t)=>n=>{try{wI.lazyLoad||e.$hostElement$[t](n)}catch(ob){TI(ob)}},tA=(e,t)=>4&t?OI:8&t?AI:16&t?OI.body:e,nA=e=>DI?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e)
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */;const rA="undefined"!=typeof window?window:void 0,iA="undefined"!=typeof document?document:void 0;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let oA;const sA=(e,t,n)=>{const r=t.startsWith("animation")?(e=>{if(void 0===oA){const t=void 0!==e.style.animationName,n=void 0!==e.style.webkitAnimationName;oA=!t&&n?"-webkit-":""}return oA})(e):"";e.style.setProperty(r+t,n)},aA=(e=[],t)=>{if(void 0!==t){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e};e("a",(e=>{let t,n,r,i,o,s,a,l,c,u,h,d=[],f=[],p=[],g=!1,m={},b=[],y=[],v={},w=0,x=!1,_=!1,k=!0,E=!1,S=!0,T=!1;const C=e,I=[],P=[],A=[],O=[],R=[],N=[],D=[],M=[],L=[],j=[],F=[],$="function"==typeof AnimationEffect||void 0!==rA&&"function"==typeof rA.AnimationEffect,U="function"==typeof Element&&"function"==typeof Element.prototype.animate&&$,z=()=>F,V=e=>{q(),e&&K()},B=(e,t)=>{const n=t.findIndex((t=>t.c===e));n>-1&&t.splice(n,1)},H=(e,t)=>(((null==t?void 0:t.oneTimeCallback)?P:I).push({c:e,o:t}),h),W=()=>(I.length=0,P.length=0,h),q=()=>{U&&(F.forEach((e=>{e.cancel()})),F.length=0)},K=()=>{N.forEach((e=>{(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),N.length=0},G=()=>void 0!==o?o:a?a.getFill():"both",Q=()=>void 0!==l?l:void 0!==s?s:a?a.getDirection():"normal",Y=()=>x?"linear":void 0!==r?r:a?a.getEasing():"linear",X=()=>_?0:void 0!==c?c:void 0!==n?n:a?a.getDuration():0,J=()=>void 0!==i?i:a?a.getIterations():1,Z=()=>void 0!==u?u:void 0!==t?t:a?a.getDelay():0,ee=e=>{U&&z().forEach((t=>{const n=t.effect;if(n.setKeyframes)n.setKeyframes(e);else{const r=new KeyframeEffect(n.target,e,n.getTiming());t.effect=r}}))},te=()=>{0!==w&&(w--,0===w&&((()=>{L.forEach((e=>e())),j.forEach((e=>e()));const e=k?1:0,t=b,n=y,r=v;O.forEach((e=>{const i=e.classList;t.forEach((e=>i.add(e))),n.forEach((e=>i.remove(e)));for(const t in r)r.hasOwnProperty(t)&&sA(e,t,r[t])})),c=void 0,l=void 0,u=void 0,I.forEach((t=>t.c(e,h))),P.forEach((t=>t.c(e,h))),P.length=0,S=!0,k&&(E=!0),k=!0})(),a&&a.animationFinish()))},ne=()=>{(()=>{D.forEach((e=>e())),M.forEach((e=>e()));const e=f,t=p,n=m;O.forEach((r=>{const i=r.classList;e.forEach((e=>i.add(e))),t.forEach((e=>i.remove(e)));for(const e in n)n.hasOwnProperty(e)&&sA(r,e,n[e])}))})(),d.length>0&&U&&(O.forEach((e=>{const t=e.animate(d,{id:C,delay:Z(),duration:X(),easing:Y(),iterations:J(),fill:G(),direction:Q()});t.pause(),F.push(t)})),F.length>0&&(F[0].onfinish=()=>{te()})),g=!0},re=e=>{e=Math.min(Math.max(e,0),.9999),U&&F.forEach((t=>{t.currentTime=t.effect.getComputedTiming().delay+X()*e,t.pause()}))},ie=e=>{F.forEach((e=>{e.effect.updateTiming({delay:Z(),duration:X(),easing:Y(),iterations:J(),fill:G(),direction:Q()})})),void 0!==e&&re(e)},oe=(e=!1,t=!0,n)=>(e&&R.forEach((r=>{r.update(e,t,n)})),U&&ie(n),h),se=()=>{g&&(U?F.forEach((e=>{e.pause()})):O.forEach((e=>{sA(e,"animation-play-state","paused")})),T=!0)},ae=e=>new Promise((t=>{(null==e?void 0:e.sync)&&(_=!0,H((()=>_=!1),{oneTimeCallback:!0})),g||ne(),E&&(U&&(re(0),ie()),E=!1),S&&(w=R.length+1,S=!1);const n=()=>{B(r,P),t()},r=()=>{B(n,A),t()};H(r,{oneTimeCallback:!0}),((e,t)=>{A.push({c:e,o:t})})(n,{oneTimeCallback:!0}),R.forEach((e=>{e.play()})),U?(F.forEach((e=>{e.play()})),0!==d.length&&0!==O.length||te()):te(),T=!1})),le=(e,t)=>{const n=d[0];return void 0===n||void 0!==n.offset&&0!==n.offset?d=[{offset:0,[e]:t},...d]:n[e]=t,h};return h={parentAnimation:a,elements:O,childAnimations:R,id:C,animationFinish:te,from:le,to:(e,t)=>{const n=d[d.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?d=[...d,{offset:1,[e]:t}]:n[e]=t,h},fromTo:(e,t,n)=>le(e,t).to(e,n),parent:e=>(a=e,h),play:ae,pause:()=>(R.forEach((e=>{e.pause()})),se(),h),stop:()=>{R.forEach((e=>{e.stop()})),g&&(q(),g=!1),x=!1,_=!1,S=!0,l=void 0,c=void 0,u=void 0,w=0,E=!1,k=!0,T=!1,A.forEach((e=>e.c(0,h))),A.length=0},destroy:e=>(R.forEach((t=>{t.destroy(e)})),V(e),O.length=0,R.length=0,d.length=0,W(),g=!1,S=!0,h),keyframes:e=>{const t=d!==e;return d=e,t&&ee(d),h},addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(h),R.push(t);else e.parent(h),R.push(e);return h},addElement:e=>{if(null!=e)if(1===e.nodeType)O.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)O.push(e[t]);else console.error("Invalid addElement value");return h},update:oe,fill:e=>(o=e,oe(!0),h),direction:e=>(s=e,oe(!0),h),iterations:e=>(i=e,oe(!0),h),duration:e=>(U||0!==e||(e=1),n=e,oe(!0),h),easing:e=>(r=e,oe(!0),h),delay:e=>(t=e,oe(!0),h),getWebAnimations:z,getKeyframes:()=>d,getFill:G,getDirection:Q,getDelay:Z,getIterations:J,getEasing:Y,getDuration:X,afterAddRead:e=>(L.push(e),h),afterAddWrite:e=>(j.push(e),h),afterClearStyles:(e=[])=>{for(const t of e)v[t]="";return h},afterStyles:(e={})=>(v=e,h),afterRemoveClass:e=>(y=aA(y,e),h),afterAddClass:e=>(b=aA(b,e),h),beforeAddRead:e=>(D.push(e),h),beforeAddWrite:e=>(M.push(e),h),beforeClearStyles:(e=[])=>{for(const t of e)m[t]="";return h},beforeStyles:(e={})=>(m=e,h),beforeRemoveClass:e=>(p=aA(p,e),h),beforeAddClass:e=>(f=aA(f,e),h),onFinish:H,isRunning:()=>0!==w&&!T,progressStart:(e=!1,t)=>(R.forEach((n=>{n.progressStart(e,t)})),se(),x=e,g||ne(),oe(!1,!0,t),h),progressStep:e=>(R.forEach((t=>{t.progressStep(e)})),re(e),h),progressEnd:(e,t,n)=>(x=!1,R.forEach((r=>{r.progressEnd(e,t,n)})),void 0!==n&&(c=n),E=!1,k=!0,0===e?(l="reverse"===Q()?"normal":"reverse","reverse"===l&&(k=!1),U?(oe(),re(1-t)):(u=(1-t)*X()*-1,oe(!1,!1))):1===e&&(U?(oe(),re(t)):(u=t*X()*-1,oe(!1,!1))),void 0===e||a||ae(),h)}}));const lA=new class{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const n=this.m.get(e);return void 0!==n?n:t}getBoolean(e,t=!1){const n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}getNumber(e,t){const n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}set(e,t){this.m.set(e,t)}},cA=(e,t)=>("string"==typeof e&&(t=e,e=void 0),(e=>uA(e))(e).includes(t)),uA=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=hA(e),t.forEach((t=>e.document.documentElement.classList.add(`plt-${t}`)))),t},hA=e=>{const t=lA.get("platform");return Object.keys(wA).filter((n=>{const r=null==t?void 0:t[n];return"function"==typeof r?r(e):wA[n](e)}))},dA=e=>!!yA(e,/iPad/i)||!(!yA(e,/Macintosh/i)||!pA(e)),fA=e=>yA(e,/android|sink/i),pA=e=>vA(e,"(any-pointer:coarse)"),gA=e=>mA(e)||bA(e),mA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),bA=e=>{const t=e.Capacitor;return!!(null==t?void 0:t.isNative)},yA=(e,t)=>t.test(e.navigator.userAgent),vA=(e,t)=>{var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},wA={ipad:dA,iphone:e=>yA(e,/iPhone/i),ios:e=>yA(e,/iPhone|iPod/i)||dA(e),android:fA,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return r>390&&r<520&&i>620&&i<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return dA(e)||(e=>fA(e)&&!yA(e,/mobile/i))(e)||r>460&&r<820&&i>780&&i<1400},cordova:mA,capacitor:bA,electron:e=>yA(e,/electron/i),pwa:e=>{var t;return!(!(null===(t=e.matchMedia)||void 0===t?void 0:t.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:pA,mobileweb:e=>pA(e)&&!gA(e),desktop:e=>!pA(e),hybrid:gA},xA=e=>e&&(e=>EI(e).$modeName$)(e)||void 0,_A=(e,...t)=>console.warn(`[Ionic Warning]: ${e}`,...t),kA=(e,t)=>{e.componentOnReady?e.componentOnReady().then((e=>t(e))):EA((()=>t(e)))},EA=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e),SA=(e("c",((e,t,n)=>Math.max(e,Math.min(t,n)))),(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}}),TA=(e,t)=>{if(null!=e||(e={}),null!=t||(t={}),e===t)return!0;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n){if(!(r in t))return!1;if(e[r]!==t[r])return!1}return!0},CA="ionViewWillLeave",IA="ionViewDidLeave",PA="ionViewWillUnload",AA=e=>{e.tabIndex=-1,e.focus()},OA=e=>null!==e.offsetParent,RA="ion-last-focus",NA={saveViewFocus:e=>{if(lA.get("focusManagerPriority",!1)){const t=document.activeElement;null!==t&&(null==e?void 0:e.contains(t))&&t.setAttribute(RA,"true")}},setViewFocus:e=>{const t=lA.get("focusManagerPriority",!1);if(Array.isArray(t)&&!e.contains(document.activeElement)){const n=e.querySelector(`[${RA}]`);if(n&&OA(n))return void AA(n);for(const r of t)switch(r){case"content":const t=e.querySelector('main, [role="main"]');if(t&&OA(t))return void AA(t);break;case"heading":const n=e.querySelector('h1, [role="heading"][aria-level="1"]');if(n&&OA(n))return void AA(n);break;case"banner":const i=e.querySelector('header, [role="banner"]');if(i&&OA(i))return void AA(i);break;default:_A(`Unrecognized focus manager priority value ${r}`)}AA(e)}}},DA=e=>new Promise(((t,n)=>{HI((()=>{MA(e),LA(e).then((n=>{n.animation&&n.animation.destroy(),jA(e),t(n)}),(t=>{jA(e),n(t)}))}))})),MA=e=>{const t=e.enteringEl,n=e.leavingEl;NA.saveViewFocus(n),QA(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),GA(t,!1),t.style.setProperty("pointer-events","none"),n&&(GA(n,!1),n.style.setProperty("pointer-events","none"))},LA=async e=>{const t=await FA(e);return t&&_I?$A(t,e):UA(e)},jA=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),NA.setViewFocus(t)},FA=async e=>{if(e.leavingEl&&e.animated&&0!==e.duration)return e.animationBuilder?e.animationBuilder:"ios"===e.mode?(await vI((()=>t.import("./ios.transition-legacy-DuUh8Lpv.js")))).iosTransitionAnimation:(await vI((()=>t.import("./md.transition-legacy-CANj7PAZ.js")))).mdTransitionAnimation},$A=async(e,t)=>{await zA(t,!0);const n=e(t.baseEl,t);HA(t.enteringEl,t.leavingEl);const r=await BA(n,t);return t.progressCallback&&t.progressCallback(void 0),r&&WA(t.enteringEl,t.leavingEl),{hasCompleted:r,animation:n}},UA=async e=>{const t=e.enteringEl,n=e.leavingEl,r=lA.get("focusManagerPriority",!1);return await zA(e,r),HA(t,n),WA(t,n),{hasCompleted:!0}},zA=async(e,t)=>{(void 0!==e.deepWait?e.deepWait:t)&&await Promise.all([KA(e.enteringEl),KA(e.leavingEl)]),await VA(e.viewIsReady,e.enteringEl)},VA=async(e,t)=>{e&&await e(t)},BA=(e,t)=>{const n=t.progressCallback,r=new Promise((t=>{e.onFinish((e=>t(1===e)))}));return n?(e.progressStart(!0),n(e)):e.play(),r},HA=(e,t)=>{qA(t,CA),qA(e,"ionViewWillEnter")},WA=(e,t)=>{qA(e,"ionViewDidEnter"),qA(t,IA)},qA=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},KA=async e=>{const t=e;if(t){if(null!=t.componentOnReady){if(null!=await t.componentOnReady())return}else if(null!=t.__registerHost){const e=new Promise((e=>EA(e)));return void(await e)}await Promise.all(Array.from(t.children).map(KA))}},GA=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},QA=(e,t,n)=>{void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},YA=(e("g",(e=>{if(e.classList.contains("ion-page"))return e;const t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e})),(e,t,n,r,i)=>JA(e[1],t[1],n[1],r[1],i).map((i=>XA(e[0],t[0],n[0],r[0],i)))),XA=(e,t,n,r,i)=>i*(3*t*Math.pow(i-1,2)+i*(-3*n*i+3*n+r*i))-e*Math.pow(i-1,3),JA=(e,t,n,r,i)=>ZA((r-=i)-3*(n-=i)+3*(t-=i)-(e-=i),3*n-6*t+3*e,3*t-3*e,e).filter((e=>e>=0&&e<=1)),ZA=(e,t,n,r)=>{if(0===e)return((e,t,n)=>{const r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]})(t,n,r);const i=(3*(n/=e)-(t/=e)*t)/3,o=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===i)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-i),-Math.sqrt(-i)];const s=Math.pow(o/2,2)+Math.pow(i/3,3);if(0===s)return[Math.pow(o/2,.5)-t/3];if(s>0)return[Math.pow(-o/2+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-t/3];const a=Math.sqrt(Math.pow(-i/3,3)),l=Math.acos(-o/(2*Math.sqrt(Math.pow(-i/3,3)))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-t/3,c*Math.cos((l+2*Math.PI)/3)-t/3,c*Math.cos((l+4*Math.PI)/3)-t/3]},eO=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,tO=async(e,t,n,r,i,o)=>{var s;if(e)return e.attachViewToDom(t,n,i,r);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof n?null===(s=t.ownerDocument)||void 0===s?void 0:s.createElement(n):n;return r&&r.forEach((e=>a.classList.add(e))),i&&Object.assign(a,i),t.appendChild(a),await new Promise((e=>kA(a,e))),a},nO=JP(class extends RI{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise((n=>{BI((()=>{const r=this.el.getBoundingClientRect(),i=r.width,o=r.height,s=Math.sqrt(i*i+o*o),a=Math.max(o,i),l=this.unbounded?a:s+iO,c=Math.floor(a*oO),u=l/c;let h=e-r.left,d=t-r.top;this.unbounded&&(h=.5*i,d=.5*o);const f=h-.5*c,p=d-.5*c,g=.5*i-h,m=.5*o-d;HI((()=>{const e=document.createElement("div");e.classList.add("ripple-effect");const t=e.style;t.top=p+"px",t.left=f+"px",t.width=t.height=c+"px",t.setProperty("--final-scale",`${u}`),t.setProperty("--translate-end",`${g}px, ${m}px`),(this.el.shadowRoot||this.el).appendChild(e),setTimeout((()=>{n((()=>{rO(e)}))}),325)}))}))}))}get unbounded(){return"unbounded"===this.type}render(){const e=xA(this);return tP(rP,{key:"2302f087ab1c6755355736e4ca77309c5fdcf185",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),rO=e=>{e.classList.add("fade-out"),setTimeout((()=>{e.remove()}),200)},iO=10,oO=.5,sO="undefined"!=typeof window?window:void 0;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var aO,lO;sO&&sO.CSS&&sO.CSS.supports&&sO.CSS.supports("--a: 0"),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(aO||(aO={})),function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"}(lO||(lO={}));const cO={getEngine(){const e=(()=>{if(void 0!==rA)return rA.Capacitor})();if(null==e?void 0:e.isPluginAvailable("Keyboard"))return e.Plugins.Keyboard},getResizeMode(){const e=this.getEngine();return(null==e?void 0:e.getResizeMode)?e.getResizeMode().catch((e=>{if(e.code!==aO.Unimplemented)throw e})):Promise.resolve(void 0)}},uO=e=>{if(void 0===iA||e===lO.None||void 0===e)return null;const t=iA.querySelector("ion-app");return null!=t?t:iA.body},hO=e=>{const t=uO(e);return null===t?0:t.clientHeight};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */class dO{constructor(e,t){this.component=e,this.params=t,this.state=1}async init(e){if(this.state=2,!this.element){const t=this.component;this.element=await tO(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){SA(3!==this.state,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=3}}const fO=(e,t,n)=>!!e&&e.component===t&&TA(e.params,n),pO=(e,t)=>e?e instanceof dO?e:new dO(e,t):null,gO=JP(class extends RI{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=aP(this,"ionNavWillLoad",7),this.ionNavWillChange=aP(this,"ionNavWillChange",3),this.ionNavDidChange=aP(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}rootChanged(){void 0!==this.root&&!1!==this.didLoad&&(this.useRouter||void 0!==this.root&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=null!==document.querySelector("ion-router")&&null===this.el.closest("[no-router]"),void 0===this.swipeGesture){const e=xA(this);this.swipeGesture=lA.getBoolean("swipeBackEnabled","ios"===e)}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await vI((()=>t.import("./swipe-back-legacy-pfV_hcnn.js")))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)qA(e.element,PA),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,n,r){return this.insert(-1,e,t,n,r)}insert(e,t,n,r,i){return this.insertPages(e,[{component:t,componentProps:n}],r,i)}insertPages(e,t,n,r){return this.queueTrns({insertStart:e,insertViews:t,opts:n},r)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,n){const r={removeStart:-1,removeCount:-1,opts:t};return"object"==typeof e&&e.component?(r.removeView=e,r.removeStart=1):"number"==typeof e&&(r.removeStart=e+1),this.queueTrns(r,n)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,n,r){return this.queueTrns({removeStart:e,removeCount:t,opts:n},r)}setRoot(e,t,n,r){return this.setPages([{component:e,componentProps:t}],n,r)}setPages(e,t,n){return null!=t||(t={}),!0!==t.animated&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},n)}setRouteId(e,t,n,r){const i=this.getActiveSync();if(fO(i,e,t))return Promise.resolve({changed:!1,element:i.element});let o;const s=new Promise((e=>o=e));let a;const l={updateURL:!1,viewIsReady:e=>{let t;const n=new Promise((e=>t=e));return o({changed:!0,element:e,markVisible:async()=>{t(),await a}}),n}};if("root"===n)a=this.setRoot(e,t,l);else{const i=this.views.find((n=>fO(n,e,t)));i?a=this.popTo(i,Object.assign(Object.assign({},l),{direction:"back",animationBuilder:r})):"forward"===n?a=this.push(e,t,Object.assign(Object.assign({},l),{animationBuilder:r})):"back"===n&&(a=this.setRoot(e,t,Object.assign(Object.assign({},l),{direction:"back",animated:!0,animationBuilder:r})))}return s}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!(!e||!this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,n=t.indexOf(e);return n>0?t[n-1]:void 0}async queueTrns(e,t){var n,r;if(this.isTransitioning&&(null===(n=e.opts)||void 0===n?void 0:n.skipIfBusy))return!1;const i=new Promise(((t,n)=>{e.resolve=t,e.reject=n}));if(e.done=t,e.opts&&!1!==e.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const n=await t.canTransition();if(!1===n)return!1;if("string"==typeof n)return t.push(n,e.opts.direction||"back"),!1}}return 0===(null===(r=e.insertViews)||void 0===r?void 0:r.length)&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),i}success(e,t){if(this.destroyed)this.fireError("nav controller was destroyed",t);else if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),!1!==t.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const n="back"===e.direction?"back":"forward";t.navChanged(n)}}}failed(e,t){this.destroyed?this.fireError("nav controller was destroyed",t):(this.transInstr.length=0,this.fireError(e,t))}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return!!e&&(this.runTransition(e),!0)}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),n=this.getEnteringView(e,t);if(!t&&!n)throw new Error("no views in the stack to be removed");n&&1===n.state&&await n.init(this.el),this.postViewInit(n,t,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&n!==t;let i;r&&e.opts&&t&&("back"===e.opts.direction&&(e.opts.animationBuilder=e.opts.animationBuilder||(null==n?void 0:n.animationBuilder)),t.animationBuilder=e.opts.animationBuilder),i=r?await this.transition(n,t,e):{hasCompleted:!0,requiresTransition:!1},this.success(i,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,n,r;const i=this.views.length;if(null!==(t=e.opts)&&void 0!==t||(e.opts={}),null!==(n=(r=e.opts).delegate)&&void 0!==n||(r.delegate=this.delegate),void 0!==e.removeView){SA(void 0!==e.removeStart,"removeView needs removeStart"),SA(void 0!==e.removeCount,"removeView needs removeCount");const t=this.views.indexOf(e.removeView);if(t<0)throw new Error("removeView was not found");e.removeStart+=t}void 0!==e.removeStart&&(e.removeStart<0&&(e.removeStart=i-1),e.removeCount<0&&(e.removeCount=i-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===i),e.insertViews&&((e.insertStart<0||e.insertStart>i)&&(e.insertStart=i),e.enteringRequiresTransition=e.insertStart===i);const o=e.insertViews;if(!o)return;SA(o.length>0,"length can not be zero");const s=o.map((e=>e instanceof dO?e:"component"in e?pO(e.component,null===e.componentProps?void 0:e.componentProps):pO(e,void 0))).filter((e=>null!==e));if(0===s.length)throw new Error("invalid views to insert");for(const a of s){a.delegate=e.opts.delegate;const t=a.nav;if(t&&t!==this)throw new Error("inserted view was already inserted");if(3===a.state)throw new Error("inserted view was already destroyed")}e.insertViews=s}getEnteringView(e,t){const n=e.insertViews;if(void 0!==n)return n[n.length-1];const r=e.removeStart;if(void 0!==r){const n=this.views,i=r+e.removeCount;for(let e=n.length-1;e>=0;e--){const o=n[e];if((e<r||e>=i)&&o!==t)return o}}}postViewInit(e,t,n){var r,i,o;SA(t||e,"Both leavingView and enteringView are null"),SA(n.resolve,"resolve must be valid"),SA(n.reject,"reject must be valid");const s=n.opts,{insertViews:a,removeStart:l,removeCount:c}=n;let u;if(void 0!==l&&void 0!==c){SA(l>=0,"removeStart can not be negative"),SA(c>=0,"removeCount can not be negative"),u=[];for(let n=l;n<l+c;n++){const r=this.views[n];void 0!==r&&r!==e&&r!==t&&u.push(r)}null!==(r=s.direction)&&void 0!==r||(s.direction="back")}const h=this.views.length+(null!==(i=null==a?void 0:a.length)&&void 0!==i?i:0)-(null!=c?c:0);if(SA(h>=0,"final balance can not be negative"),0===h)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(a){let e=n.insertStart;for(const t of a)this.insertViewAt(t,e),e++;n.enteringRequiresTransition&&(null!==(o=s.direction)&&void 0!==o||(s.direction="forward"))}if(u&&u.length>0){for(const e of u)qA(e.element,CA),qA(e.element,IA),qA(e.element,PA);for(const e of u)this.destroyView(e)}}async transition(e,t,n){const r=n.opts,i=r.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.sbAni=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0,o=xA(this),s=e.element,a=t&&t.element,l=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:i,animated:this.animated&&lA.getBoolean("animated",!0),enteringEl:s,leavingEl:a},r),{animationBuilder:r.animationBuilder||this.animation||lA.get("navAnimation")}),{hasCompleted:c}=await DA(l);return this.transitionFinish(c,e,t,r)}transitionFinish(e,t,n,r){const i=e?t:n;return i&&this.unmountInactiveViews(i),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:n,direction:r.direction}}insertViewAt(e,t){const n=this.views,r=n.indexOf(e);r>-1?(SA(e.nav===this,"view is not part of the nav"),n.splice(r,1),n.splice(t,0,e)):(SA(!e.nav,"nav is used"),e.nav=this,n.splice(t,0,e))}removeView(e){SA(2===e.state||3===e.state,"view state should be loaded or destroyed");const t=this.views,n=t.indexOf(e);SA(n>-1,"view must be part of the stack"),n>=0&&t.splice(n,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,n=t.indexOf(e);for(let r=t.length-1;r>=0;r--){const e=t[r],i=e.element;i&&(r>n?(qA(i,PA),this.destroyView(e)):r<n&&GA(i,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,n){if(this.sbAni){this.sbAni.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=YA([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=YA([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,r,n)}else this.gestureOrAnimationInProgress=!1}render(){return tP("slot",{key:"e9d99a8a0b84f02f9964d8143cd5e647e43334f9"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]),mO=function(){"undefined"!=typeof customElements&&["ion-nav"].forEach((e=>{"ion-nav"===e&&(customElements.get(e)||customElements.define(e,gO))}))};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var bO;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(bO||(bO={}));const yO=JP(class extends RI{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=aP(this,"ionNavWillLoad",7),this.ionNavWillChange=aP(this,"ionNavWillChange",3),this.ionNavDidChange=aP(this,"ionNavDidChange",3),this.lockController=(()=>{let e;return{lock:async()=>{const t=e;let n;return e=new Promise((e=>n=e)),void 0!==t&&await t,n}}})(),this.gestureOrAnimationInProgress=!1,this.mode=xA(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await vI((()=>t.import("./swipe-back-legacy-pfV_hcnn.js")))).createSwipeBackGesture(this.el,(()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart()),(()=>e()),(e=>{var t;return null===(t=this.ani)||void 0===t?void 0:t.progressStep(e)}),((e,t,n)=>{if(this.ani){this.ani.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(e)}),{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=YA([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=YA([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.ani.progressEnd(e?1:0,r,n)}else this.gestureOrAnimationInProgress=!1})),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,n){const r=await this.lockController.lock();let i=!1;try{i=await this.transition(e,t,n)}catch(ob){console.error(ob)}return r(),i}async setRouteId(e,t,n,r){return{changed:await this.setRoot(e,t,{duration:"root"===n?0:void 0,direction:"back"===n?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,n){if(this.activeComponent===e&&TA(t,this.activeParams))return!1;const r=this.activeEl,i=await tO(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=i,this.activeParams=t,await this.commit(i,r,n),await((e,t)=>{if(t){if(e){const n=t.parentElement;return e.removeViewFromDom(n,t)}t.remove()}return Promise.resolve()})(this.delegate,r),!0}async transition(e,t,n={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:i}=this,o=this.animated&&lA.getBoolean("animated",!0),s=n.animationBuilder||this.animation||lA.get("navAnimation");var a;return await DA(Object.assign(Object.assign({mode:i,animated:o,enteringEl:e,leavingEl:t,baseEl:r,deepWait:(a=r,void 0!==a.componentOnReady),progressCallback:n.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.ani=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0},n),{animationBuilder:s})),this.ionNavDidChange.emit(),!0}render(){return tP("slot",{key:"8279a453c66a766e6e383ff59842b4ae070c13a9"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]),vO=function(){"undefined"!=typeof customElements&&["ion-router-outlet"].forEach((e=>{"ion-router-outlet"===e&&(customElements.get(e)||customElements.define(e,yO))}))},wO=JP(class extends RI{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=aP(this,"ionTabBarChanged",7),this.ionTabBarLoaded=aP(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){void 0!==this.selectedTab&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await(async e=>{let t,n,r,i;const o=async()=>{const e=await cO.getResizeMode(),o=void 0===e?void 0:e.mode;t=()=>{void 0===i&&(i=hO(o)),r=!0,s(r,o)},n=()=>{r=!1,s(r,o)},null==rA||rA.addEventListener("keyboardWillShow",t),null==rA||rA.addEventListener("keyboardWillHide",n)},s=(t,n)=>{e&&e(t,a(n))},a=e=>{if(0===i||i===hO(e))return;const t=uO(e);return null!==t?new Promise((e=>{const n=new ResizeObserver((()=>{t.clientHeight===i&&(n.disconnect(),e())}));n.observe(t)})):void 0};return await o(),{init:o,destroy:()=>{null==rA||rA.removeEventListener("keyboardWillShow",t),null==rA||rA.removeEventListener("keyboardWillHide",n),t=n=void 0},isKeyboardVisible:()=>r}})((async(e,t)=>{!1===e&&void 0!==t&&await t,this.keyboardVisible=e}))}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:t,keyboardVisible:n}=this,r=xA(this),i=n&&"top"!==this.el.getAttribute("slot");return tP(rP,{key:"3a8595dd83f89e8319471a7a7f9f64b2565b384c",role:"tablist","aria-hidden":i?"true":null,class:eO(e,{[r]:!0,"tab-bar-translucent":t,"tab-bar-hidden":i})},tP("slot",{key:"8b65eceb922f6abfa15f41046261586fb94b981f"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",md:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}"}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]),xO=function(){"undefined"!=typeof customElements&&["ion-tab-bar"].forEach((e=>{"ion-tab-bar"===e&&(customElements.get(e)||customElements.define(e,wO))}))},_O=JP(class extends RI{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=aP(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{"Enter"!==e.key&&" "!==e.key||this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,n=this.el.parentElement;(e.composedPath().includes(n)||(null==t?void 0:t.contains(this.el)))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},((e,t=[])=>{const n={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n})(this.el,["aria-label"])),void 0===this.layout&&(this.layout=lA.get("tabButtonLayout","icon-top"))}selectTab(e){void 0!==this.tab&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:n,href:r,rel:i,target:o,layout:s,selected:a,tab:l,inheritedAttributes:c}=this,u=xA(this),h={download:this.download,href:r,rel:i,target:o};return tP(rP,{key:"4b528ce31f67e10ad849e0c99bd034bba675c227",onClick:this.onClick,onKeyup:this.onKeyUp,id:void 0!==l?`tab-button-${l}`:null,class:{[u]:!0,"tab-selected":a,"tab-disabled":e,"tab-has-label":n,"tab-has-icon":t,"tab-has-label-only":n&&!t,"tab-has-icon-only":t&&!n,[`tab-layout-${s}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},tP("a",Object.assign({key:"0da8784b1b243ffaaaf04dd7adb55d6881ed0c08"},h,{class:"button-native",part:"native",role:"tab","aria-selected":a?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},c),tP("span",{key:"2c628e8f1ebc129f84876c01530468cb97d8bf3a",class:"button-inner"},tP("slot",{key:"8052a171d197a7de1a7eb12b091c35f73ae1ee21"})),"md"===u&&tP("ion-ripple-effect",{key:"4186bdb5ed045ec16f495a14fa30ac864c576227",type:"unbounded"})))}get el(){return this}static get style(){return{ios:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',md:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}'}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]),kO=function(){"undefined"!=typeof customElements&&["ion-tab-button","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,_O);break;case"ion-ripple-effect":customElements.get(e)||"undefined"!=typeof customElements&&["ion-ripple-effect"].forEach((e=>{"ion-ripple-effect"===e&&(customElements.get(e)||customElements.define(e,nO))}))}}))};let EO;const SO=(e,t)=>{const n=(()=>{if("undefined"==typeof window)return new Map;if(!EO){const e=window;e.Ionicons=e.Ionicons||{},EO=e.Ionicons.map=e.Ionicons.map||new Map}return EO})().get(e);if(n)return n;try{return(e=>{const t=new URL(e,NI.$resourcesUrl$);return t.origin!==AI.location.origin?t.href:t.pathname})(`svg/${e}.svg`)}catch(ob){console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},TO=(e,t,n,r,i)=>(n="ios"===(n&&AO(n))?"ios":"md",r&&"ios"===n?e=AO(r):i&&"md"===n?e=AO(i):(e||!t||IO(t)||(e=t),PO(e)&&(e=AO(e))),PO(e)&&""!==e.trim()?""!==e.replace(/[a-z]|-|\d/gi,"")?null:e:null),CO=e=>PO(e)&&(e=e.trim(),IO(e))?e:null,IO=e=>e.length>0&&/(\/|\.)/.test(e),PO=e=>"string"==typeof e,AO=e=>e.toLowerCase(),OO=e=>{if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(PO(n)&&0===n.toLowerCase().indexOf("on"))return!1}for(let t=0;t<e.childNodes.length;t++)if(!OO(e.childNodes[t]))return!1}return!0},RO=new Map,NO=new Map;let DO;const MO=(e,t)=>{let n=NO.get(e);if(!n){if("undefined"==typeof fetch||"undefined"==typeof document)return RO.set(e,""),Promise.resolve();if((e=>e.startsWith("data:image/svg+xml"))(e)&&(e=>-1!==e.indexOf(";utf8,"))(e)){DO||(DO=new DOMParser);const t=DO.parseFromString(e,"text/html").querySelector("svg");return t&&RO.set(e,t.outerHTML),Promise.resolve()}n=fetch(e).then((n=>{if(n.ok)return n.text().then((n=>{n&&!1!==t&&(n=(e=>{const t=document.createElement("div");t.innerHTML=e;for(let r=t.childNodes.length-1;r>=0;r--)"svg"!==t.childNodes[r].nodeName.toLowerCase()&&t.removeChild(t.childNodes[r]);const n=t.firstElementChild;if(n&&"svg"===n.nodeName.toLowerCase()){const e=n.getAttribute("class")||"";if(n.setAttribute("class",(e+" s-ion-icon").trim()),OO(n))return t.innerHTML}return""})(n)),RO.set(e,n||"")}));RO.set(e,"")})),NO.set(e,n)}return n},LO=JP(class extends RI{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=jO(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((e,t=[])=>{const n={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,n){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver((e=>{e[0].isIntersecting&&(r.disconnect(),this.io=void 0,n())}),{rootMargin:t});r.observe(e)}else n()}loadIcon(){if(this.isVisible){const e=(e=>{let t=CO(e.src);if(t)return t;if(t=TO(e.name,e.icon,e.mode,e.ios,e.md),t)return SO(t,e);if(e.icon){if(t=CO(e.icon),t)return t;if(t=CO(e.icon[e.mode]),t)return t}return null})(this);e&&(RO.has(e)?this.svgContent=RO.get(e):MO(e,this.sanitize).then((()=>this.svgContent=RO.get(e))),this.didLoadIcon=!0)}this.iconName=TO(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:n,el:r}=this,i=this.mode||"md",o=!!t&&(t.includes("arrow")||t.includes("chevron"))&&!1!==e,s=e||o;return tP(rP,Object.assign({role:"img",class:Object.assign(Object.assign({[i]:!0},FO(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&(a=r,a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},n),this.svgContent?tP("div",{class:"icon-inner",innerHTML:this.svgContent}):tP("div",{class:"icon-inner"}));var a}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),jO=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",FO=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null,$O=function(){"undefined"!=typeof customElements&&["ion-icon"].forEach((e=>{"ion-icon"===e&&(customElements.get(e)||customElements.define(e,LO))}))},UO=B.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),zO=B.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:e=>{"undefined"!=typeof window&&("string"==typeof e?window.location.pathname=e:window.history.back())},navigate:e=>{"undefined"!=typeof window&&(window.location.pathname=e)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)},resetTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)}}),VO=e=>e.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),BO=(e,t,n)=>{const r=t.className||t.class,i=n.className||n.class,o=qO(e),s=qO(r?r.split(" "):[]),a=qO(i?i.split(" "):[]),l=[];return o.forEach((e=>{s.has(e)?(l.push(e),s.delete(e)):a.has(e)||l.push(e)})),s.forEach((e=>l.push(e))),l.join(" ")},HO=e=>{if("undefined"==typeof document)return!0;{const t="on"+(e=>"doubleclick"===e?"dblclick":e)(e);let n=t in document;if(!n){const e=document.createElement("div");e.setAttribute(t,"return;"),n="function"==typeof e[t]}return n}},WO=(e,t,n)=>{const r=e.__events||(e.__events={}),i=r[t];i&&e.removeEventListener(t,i),e.addEventListener(t,r[t]=function(e){n&&n.call(this,e)})},qO=e=>{const t=new Map;return e.forEach((e=>t.set(e,e))),t},KO=(...e)=>t=>{e.forEach((e=>{((e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})(e,t)}))},GO=(e,t,n,r)=>{void 0!==r&&r();const i=e.toLowerCase().split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),o=class extends B.Component{constructor(e){super(e),this.setComponentElRef=e=>{this.componentEl=e}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){((e,t,n={})=>{if(e instanceof Element){const r=BO(e.classList,t,n);""!==r&&(e.className=r),Object.keys(t).forEach((n=>{if("children"!==n&&"style"!==n&&"ref"!==n&&"class"!==n&&"className"!==n&&"forwardedRef"!==n)if(0===n.indexOf("on")&&n[2]===n[2].toUpperCase()){const r=n.substring(2),i=r[0].toLowerCase()+r.substring(1);HO(i)||WO(e,i,t[n])}else e[n]=t[n],"string"==typeof t[n]&&e.setAttribute(VO(n),t[n])}))}})(this.componentEl,this.props,e)}render(){const t=this.props,{children:n,forwardedRef:r,style:i,className:o,ref:s}=t,a=uf(t,["children","forwardedRef","style","className","ref"]);let l=Object.keys(a).reduce(((e,t)=>{const n=a[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const r=t.substring(2).toLowerCase();"undefined"!=typeof document&&HO(r)&&(e[t]=n)}else{const r=typeof n;"string"!==r&&"boolean"!==r&&"number"!==r||(e[VO(t)]=n)}return e}),{});const c=Object.assign(Object.assign({},l),{ref:KO(r,this.setComponentElRef),style:i});return V.createElement(e,c,n)}static get displayName(){return i}};return((e,t)=>{const n=(t,n)=>B.createElement(e,Object.assign({},t,{forwardedRef:n}));return n.displayName=t,B.forwardRef(n)})(o,i)},QO=(e,t)=>{const n=(t,n)=>B.createElement(e,Object.assign({},t,{forwardedRef:n}));return n.displayName=t,B.forwardRef(n)},YO=e=>cA(window,e);B.createContext({addOverlay:()=>{},removeOverlay:()=>{}});const XO=GO("ion-tab-button",0,0,kO),JO=GO("ion-tab-bar",0,0,xO),ZO=GO("ion-router-outlet",0,0,vO),eR=GO("ion-icon",0,0,$O),tR=B.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class nR extends B.PureComponent{constructor(e){super(e),this.ionPageElementRef=B.createRef(),this.stableMergedRefs=KO(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:t,children:n,routeInfo:r,forwardedRef:i}=e,o=uf(e,["className","children","routeInfo","forwardedRef"]);return B.createElement(UO.Consumer,null,(e=>(this.ionLifeCycleContext=e,B.createElement("div",Object.assign({className:t?`${t} ion-page`:"ion-page",ref:this.stableMergedRefs},o),n))))}static get contextType(){return tR}}class rR extends B.Component{constructor(e){super(e)}render(){const e=this.props,{className:t,children:n,forwardedRef:r}=e,i=uf(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?B.createElement(nR,Object.assign({className:t?`${t}`:"",routeInfo:this.context.routeInfo,forwardedRef:r},i),n):B.createElement("div",Object.assign({className:t?`ion-page ${t}`:"ion-page",ref:r},i),n)}static get displayName(){return"IonPage"}static get contextType(){return zO}}QO(rR,"IonPage");const iR={main:0},oR=(e,t)=>{const n=new WeakMap,r=`react-delegate-${((e="main")=>{var t;const n=(null!==(t=iR[e])&&void 0!==t?t:0)+1;return iR[e]=n,n.toString()})()}`;let i=0;return{attachViewToDom:async(t,o,s,a)=>{const l=document.createElement("div");a&&l.classList.add(...a),t.appendChild(l);const c=o(s),u=`${r}-${i++}`,h=oh.createPortal(c,l,u);return n.set(l,h),e(h),Promise.resolve(l)},removeViewFromDom:(e,r)=>{const i=n.get(r);return i&&t(i),r.remove(),Promise.resolve()}}},sR=GO("ion-nav",0,0,mO);QO((e=>{var{children:t,forwardedRef:n}=e,r=uf(e,["children","forwardedRef"]);const[i,o]=V.useState([]),s=e=>o((t=>[...t,e])),a=e=>o((t=>t.filter((t=>t!==e)))),l=V.useMemo((()=>oR(s,a)),[]);return B.createElement(sR,Object.assign({delegate:l,ref:n},r),i)}),"IonNav"),B.createContext({activeTab:void 0,selectTab:()=>!1});const aR="undefined"!=typeof HTMLElement?HTMLElement:class{};class lR extends B.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||kA(this.ionRouterOutlet,(()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)})),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:t,children:n,routeInfo:r}=e,i=uf(e,["StackManager","children","routeInfo"]);return B.createElement(UO.Consumer,null,(e=>(this.ionLifeCycleContext=e,B.createElement(t,{routeInfo:r},B.createElement(ZO,Object.assign({setRef:e=>this.ionRouterOutlet=e},i),n)))))}static get contextType(){return tR}}class cR extends B.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),t=this.props,{children:n,forwardedRef:r}=t,i=uf(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?i.ionPage?B.createElement(lR,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},i),n):B.createElement(e,{routeInfo:this.context.routeInfo},B.createElement(ZO,Object.assign({},i,{forwardedRef:r}),n)):B.createElement(ZO,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return zO}}QO(cR,"IonRouterOutlet");const uR=(()=>class extends B.Component{constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const e=uf(this.props,["onClick"]);return B.createElement(XO,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}})();class hR extends B.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=e=>{};const t={};B.Children.forEach(e.children,(n=>{var r,i,o,s;null!=n&&"object"==typeof n&&n.props&&(n.type===uR||n.type.isTabButton)&&(t[n.props.tab]={originalHref:n.props.href,currentHref:n.props.href,originalRouteOptions:n.props.href===(null===(r=e.routeInfo)||void 0===r?void 0:r.pathname)?null===(i=e.routeInfo)||void 0===i?void 0:i.routeOptions:void 0,currentRouteOptions:n.props.href===(null===(o=e.routeInfo)||void 0===o?void 0:o.pathname)?null===(s=e.routeInfo)||void 0===s?void 0:s.routeOptions:void 0})})),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,t=Object.keys(e).find((t=>{const n=e[t].originalHref;return this.props.routeInfo.pathname.startsWith(n)}));t&&this.setState({activeTab:t})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return!!t&&(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0)}static getDerivedStateFromProps(e,t){var n,r,i;const o=Object.assign({},t.tabs),s=Object.keys(t.tabs).find((n=>{const r=t.tabs[n].originalHref;return e.routeInfo.pathname.startsWith(r)}));B.Children.forEach(e.children,(e=>{if(null!=e&&"object"==typeof e&&e.props&&(e.type===uR||e.type.isTabButton)){const t=o[e.props.tab];t&&t.originalHref===e.props.href||(o[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,originalRouteOptions:e.props.routeOptions,currentRouteOptions:e.props.routeOptions})}}));const{activeTab:a}=t;if(s&&a){const l=t.tabs[a].currentHref,c=t.tabs[a].currentRouteOptions;s===a&&l===(null===(n=e.routeInfo)||void 0===n?void 0:n.pathname)&&c===(null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions)||(o[s]={originalHref:o[s].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[s].originalRouteOptions,currentRouteOptions:null===(i=e.routeInfo)||void 0===i?void 0:i.routeOptions},"pop"===e.routeInfo.routeAction&&s!==a&&(o[a]={originalHref:o[a].originalHref,currentHref:o[a].originalHref,originalRouteOptions:o[a].originalRouteOptions,currentRouteOptions:o[a].currentRouteOptions}))}return s&&e.onSetCurrentTab(s,e.routeInfo),{activeTab:s,tabs:o}}onTabButtonClick(e,t){const n=this.state.tabs[e.detail.tab],r=n.originalHref,i=e.detail.href,{activeTab:o}=this.state;t&&t(e),o===e.detail.tab?r!==i&&this.context.resetTab(e.detail.tab,r,n.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,i,e.detail.routeOptions))}renderTabButton(e){return t=>{var n,r;if(null!=t&&t.props&&(t.type===uR||t.type.isTabButton)){const i=t.props.tab===e?null===(n=this.props.routeInfo)||void 0===n?void 0:n.pathname:this.state.tabs[t.props.tab].currentHref,o=t.props.tab===e?null===(r=this.props.routeInfo)||void 0===r?void 0:r.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return B.cloneElement(t,{href:i,routeOptions:o,onClick:e=>this.onTabButtonClick(e,t.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return B.createElement(JO,Object.assign({},this.props,{selectedTab:e}),B.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return zO}}const dR=B.memo((e=>{var{forwardedRef:t}=e,n=uf(e,["forwardedRef"]);const r=V.useContext(zO);return B.createElement(hR,Object.assign({ref:t},n,{routeInfo:n.routeInfo||r.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:r.setCurrentTab}),n.children)}));QO(dR,"IonTabBar");class fR extends aR{constructor(){super()}}"undefined"!=typeof window&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",fR));class pR extends B.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,t;const n=this.props,{icon:r,ios:i,md:o,mode:s}=n,a=uf(n,["icon","ios","md","mode"]);let l;const c=(()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null})(),u=s||(null==c?void 0:c.get("mode"));return l=i||o?"ios"===u?null!==(e=null!=i?i:o)&&void 0!==e?e:r:null!==(t=null!=o?o:i)&&void 0!==t?t:r:r,B.createElement(eR,Object.assign({ref:this.props.forwardedRef,icon:l},a),this.props.children)}static get contextType(){return zO}}QO(pR,"IonIcon"),B.PureComponent,B.PureComponent,B.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}}),B.PureComponent,B.Component,B.PureComponent;/*! Capacitor: https://capacitorjs.com/ - MIT License */const gR=e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=(e,t)=>{n.platforms.set(e,t)},n.setPlatform=e=>{n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n})(e),mR=gR("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});var bR;mR.addPlatform,mR.setPlatform,function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(bR||(bR={}));class yR extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const vR=e=>{var t,n,r,i,o;const s=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},l=a.Plugins=a.Plugins||{},c=e.CapacitorPlatforms,u=(null===(t=null==c?void 0:c.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==s?s.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e)),h=(null===(n=null==c?void 0:c.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==u()),d=(null===(r=null==c?void 0:c.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(e=>{const t=p.get(e);return!!(null==t?void 0:t.platforms.has(u()))||!!f(e)}),f=(null===(i=null==c?void 0:c.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||(e=>{var t;return null===(t=a.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))}),p=new Map,g=(null===(o=null==c?void 0:c.currentPlatform)||void 0===o?void 0:o.registerPlugin)||((e,t={})=>{const n=p.get(e);if(n)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),n.proxy;const r=u(),i=f(e);let o;const c=n=>{let l;const c=(...c)=>{const u=(async()=>(!o&&r in t?o=o="function"==typeof t[r]?await t[r]():t[r]:null!==s&&!o&&"web"in t&&(o=o="function"==typeof t.web?await t.web():t.web),o))().then((t=>{const o=((t,n)=>{var o,s;if(!i){if(t)return null===(s=t[n])||void 0===s?void 0:s.bind(t);throw new yR(`"${e}" plugin is not implemented on ${r}`,bR.Unimplemented)}{const r=null==i?void 0:i.methods.find((e=>n===e.name));if(r)return"promise"===r.rtype?t=>a.nativePromise(e,n.toString(),t):(t,r)=>a.nativeCallback(e,n.toString(),t,r);if(t)return null===(o=t[n])||void 0===o?void 0:o.bind(t)}})(t,n);if(o){const e=o(...c);return l=null==e?void 0:e.remove,e}throw new yR(`"${e}.${n}()" is not implemented on ${r}`,bR.Unimplemented)}));return"addListener"===n&&(u.remove=async()=>l()),u};return c.toString=()=>`${n.toString()}() { [capacitor code] }`,Object.defineProperty(c,"name",{value:n,writable:!1,configurable:!1}),c},h=c("addListener"),d=c("removeListener"),g=(e,t)=>{const n=h({eventName:e},t),r=async()=>{const r=await n;d({eventName:e,callbackId:r},t)},i=new Promise((e=>n.then((()=>e({remove:r})))));return i.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},i},m=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return i?g:h;case"removeListener":return d;default:return c(t)}}});return l[e]=m,p.set(e,{name:e,proxy:m,platforms:new Set([...Object.keys(t),...i?[r]:[]])}),m});return a.convertFileSrc||(a.convertFileSrc=e=>e),a.getPlatform=u,a.handleError=t=>e.console.error(t),a.isNativePlatform=h,a.isPluginAvailable=d,a.pluginMethodNoop=(e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),a.registerPlugin=g,a.Exception=yR,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},wR=e=>e.Capacitor=vR(e),xR=wR("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),_R=xR.registerPlugin;xR.Plugins;class kR{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const r=this.windowListeners[e];return r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const r=this.listeners[e];if(r)r.forEach((e=>e(t)));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new xR.Exception(e,bR.Unimplemented)}unavailable(e="not available"){return new xR.Exception(e,bR.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}e("W",kR);const ER=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),SR=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class TR extends kR{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[n,r]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=SR(n).trim(),r=SR(r).trim(),t[n]=r})),t}async setCookie(e){try{const t=ER(e.key),n=ER(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${r}; path=${i}; ${o};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}_R("CapacitorCookies",{web:()=>new TR});const CR=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=((e={})=>{const t=Object.keys(e),n=Object.keys(e).map((e=>e.toLocaleLowerCase())),r=n.reduce(((n,r,i)=>(n[r]=e[t[i]],n)),{});return r})(e.headers),i=r["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,r]of Object.entries(e.data||{}))t.set(n,r);n.body=t.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,n)=>{t.append(n,e)}));else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(i.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class IR extends kR{async request(e){const t=CR(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce(((e,n)=>{const[r,i]=n;let o,s;return Array.isArray(i)?(s="",i.forEach((e=>{o=t?encodeURIComponent(e):e,s+=`${r}=${o}&`})),s.slice(0,-1)):(o=t?encodeURIComponent(i):i,s=`${r}=${o}`),`${e}&${s}`}),"").substr(1):null)(e.params,e.shouldEncodeUrlParams),r=n?`${e.url}?${n}`:e.url,i=await fetch(r,t),o=i.headers.get("content-type")||"";let s,a,{responseType:l="text"}=i.ok?e:{};switch(o.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await i.blob(),s=await(async e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},r.onerror=e=>n(e),r.readAsDataURL(e)})))(a);break;case"json":s=await i.json();break;default:s=await i.text()}const c={};return i.headers.forEach(((e,t)=>{c[t]=e})),{data:s,headers:c,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}_R("CapacitorHttp",{web:()=>new IR});const PR=_R("GoogleAuth",{web:()=>vI((()=>t.import("./web-legacy-BRnIgk_q.js"))).then((e=>new e.GoogleAuthWeb))}),AR=()=>{const[e,t]=V.useState(!1),n=mm(),r=Ub();return X.jsxs("div",{className:"hamburguesa-menu",children:[X.jsx("div",{className:"hamburguesa-menu-icon",onClick:()=>{t(!e)},children:"☰"}),X.jsxs("ul",{className:"hamburguesa-menu-links "+(e?"show":""),children:[X.jsx("li",{children:X.jsx("a",{href:"/admin",children:"Inicio"})}),X.jsx("li",{children:X.jsx("a",{href:"/cars",children:"Gestión de Vehiculos"})}),X.jsx("li",{children:X.jsx("a",{href:"/admiusers",children:"Gestión de Usuarios"})}),X.jsx("li",{children:X.jsx("a",{href:"/admiparking",children:"Gestión de Estacionamiento"})}),X.jsx("li",{children:X.jsx("a",{href:"/analytic",children:"Analisis de datos"})}),X.jsx("li",{children:X.jsx("a",{onClick:async()=>{try{await ig(n),YO("capacitor")&&await PR.signOut(),console.log("Sesión cerrada exitosamente"),r.push("/")}catch(e){console.error("Error cerrando sesión",e)}},children:"Salir"})})]})]})},OR=()=>{const[e,t]=V.useState(""),[n,r]=V.useState([]),[i,o]=V.useState([]),[s,a]=V.useState(1);V.useEffect((()=>{(async()=>{const e=await zS(WE(KS,"vehiculosPagados")),t=[];e.forEach((e=>{const n=e.data(),r=n.fechaPago?new Date(n.fechaPago.toDate()):new Date;t.push({...n,docId:e.id,fechaPago:r})})),r(t),o(t)})()}),[]);const l=6*(s-1),c=n.slice(l,l+6);return X.jsxs("div",{className:"busqueda-vehiculos-container",children:[" ",X.jsx(AR,{}),X.jsx("h1",{className:"titulo-busqueda",children:"Busqueda de vehiculos"}),X.jsxs("div",{className:"search-container",children:[X.jsx("input",{type:"text",value:e,onChange:e=>{t(e.target.value),(e=>{if(e){const t=e.toLowerCase(),n=i.filter((e=>e.placa.toLowerCase().includes(t)||e.idTransaccion&&e.idTransaccion.toLowerCase().includes(t)));r(n),a(1)}else r(i)})(e.target.value)},placeholder:"Buscar placa o ID de transacción...",className:"search-input"}),X.jsx("div",{className:"result-container",children:c.map(((e,t)=>X.jsx("div",{className:"list-container",children:X.jsxs("div",{className:"list-item",children:[X.jsx("div",{className:"image-container",children:X.jsx("img",{src:e.imageUrl||"path/to/default/image.jpg",alt:`Vehículo con placa ${e.placa}`})}),X.jsxs("div",{className:"details",children:[X.jsxs("p",{children:[X.jsx("strong",{children:"Placa:"})," ",e.placa]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Fecha de Pago:"})," ",XC(e.fechaPago,"PPPpp",{locale:oI})]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Costo Pagado en COP:"})," $",e.costoPagadoCOP]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Costo Pagado en USD:"})," $",e.costoPagadoUSD]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Pagado:"})," ",e.pagado?"Sí":"No"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Email del Pagador:"})," ",e.emailPagador]}),X.jsxs("p",{children:[X.jsx("strong",{children:"ID de Transacción:"})," ",e.idTransaccion]})]})]})},t)))}),X.jsxs("div",{className:"pagination",children:[X.jsxs("button",{onClick:()=>{a((e=>Math.max(e-1,1)))},disabled:1===s,children:[X.jsx(bI,{})," "]}),X.jsxs("span",{children:["Página ",s]}),X.jsxs("button",{onClick:()=>{const e=Math.ceil(n.length/6);a((t=>Math.min(t+1,e)))},disabled:c.length<6,children:[X.jsx(yI,{})," "]})]})]})]})},RR=QE(qS),NR=mm(qS),DR=eC(qS),MR=({correoUsuario:e})=>{V.useState(!1);const[t,n]=V.useState("home");Ub();const[r,i]=V.useState(null),[o,s]=V.useState(""),[a,l]=V.useState(null),[c,u]=V.useState(null),[h,d]=V.useState(""),[f,p]=V.useState("A"),[g,m]=V.useState(null),[b,y]=V.useState([...Array.from({length:50},((e,t)=>({bloque:"A",numero:t+1,placa:null}))),...Array.from({length:50},((e,t)=>({bloque:"D",numero:t+1,placa:null})))]);V.useEffect((()=>{(async()=>{const e=SS(WE(RR,"textRecords"),CS("estado","==","activo")),t=await zS(e),n=[...Array.from({length:50},((e,t)=>({bloque:"A",numero:t+1,placa:null}))),...Array.from({length:50},((e,t)=>({bloque:"D",numero:t+1,placa:null})))];t.forEach((e=>{const t=e.data();if(t.bloque&&t.lugar){const e=n.findIndex((e=>e.bloque===t.bloque&&e.numero===t.lugar));-1!==e&&(n[e].placa=t.placa)}})),y(n)})()}),[]);const v=async(t,n)=>{if(e)try{const r=await(async e=>{const t=SS(WE(RR,"textRecords"),CS("placa","==",e),CS("estado","==","activo"));return!(await zS(t)).empty})(t);if(r)return void d("Esta placa ya está registrada.");let i="A"===f?"A":"D",o=b.find((e=>e.bloque===i&&!e.placa));if(o||(i="A"===i?"D":"A",o=b.find((e=>e.bloque===i&&!e.placa))),!o)return void d("¡No hay lugares disponibles!");const{numero:s}=o;await function(e,t){const n=$E(e.firestore,GE),r=qE(e),i=NS(e.converter,t);return WS(n,[cS(lS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zw.exists(!1))]).then((()=>r))}(WE(RR,"textRecords"),{placa:t,imageUrl:n,user:e,lugar:s,bloque:i,estado:"activo",timestamp:new Date}),y((e=>e.map((e=>e.bloque===i&&e.numero===s?{...e,placa:t}:e)))),p("A"===i?"D":"A"),d(`✅ Placa ${t} en BLOQUE ${i} LUGAR ${s}`)}catch(r){console.error("Error:",r),d("❌ Error al registrar")}},w=e=>{const t=e.match(/\b([A-Z]{3}[-\s]?[0-9]{3})\b/gi);return t?t[0].replace(/[-\s]/g,"").toUpperCase():null},x=V.useCallback((()=>{c&&clearTimeout(c);const e=setTimeout((()=>ig(NR)),3e6);u(e)}),[c]);return V.useEffect((()=>{const e=()=>{x()};return window.addEventListener("mousemove",e),window.addEventListener("keydown",e),window.addEventListener("scroll",e),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("keydown",e),window.removeEventListener("scroll",e),c&&clearTimeout(c)}}),[x,c]),X.jsxs("div",{className:"home-container",children:[X.jsx(AR,{}),X.jsxs("div",{className:"home-content",children:["home"===t&&X.jsxs("div",{className:"home-upload-container",children:[X.jsx("div",{className:"home-header",children:X.jsxs("h2",{children:["Bienvenido ",e]})}),r&&X.jsx("img",{src:a,alt:"Vista previa de placa",className:"home-image-preview"}),h&&X.jsx("div",{className:"home-registration-message "+(h.includes("registrada")||h.includes("✅")?"success":"error"),children:h}),X.jsx("input",{type:"file",id:"fileInput",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];if(t){i(t);const e=new FileReader;e.onloadend=()=>{l(e.result)},e.readAsDataURL(t)}else l(null)},className:"home-file-input"}),X.jsx("label",{htmlFor:"fileInput",className:"home-file-label",children:r?"Cambiar Imagen":"Seleccionar Imagen"}),r&&X.jsx("button",{className:"home-upload-btn",onClick:async()=>{if(!r)return void alert("Carga una imagen primero.");const e=new FileReader;e.readAsDataURL(r),e.onloadend=async()=>{const t=e.result;t.split(",")[1];try{const e=await async function(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>{const e=r.width,n=r.height,i=e/1.2,o=n/1.2,s=(e-i)/2,a=(n-o)/2,l=document.createElement("canvas");l.width=e,l.height=n;const c=l.getContext("2d");c.imageSmoothingEnabled=!0,c.imageSmoothingQuality="high",c.drawImage(r,s,a,i,o,0,0,e,n),t(l.toDataURL("image/jpeg"))},r.onerror=()=>n(new Error("Error cargando DataURL para zoom")),r.src=e}))}(t),n=e.split(",")[1];m(e);const i=await async function(e){const t={requests:[{image:{content:e},features:[{type:"TEXT_DETECTION"}]}]},n=await fetch("https://vision.googleapis.com/v1/images:annotate?key=AIzaSyDdCd5Qc7PMWa-aVaBopVDhlWuSqs1RW7g",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();return r.responses[0]?.fullTextAnnotation?.text||""}(n),o=w(i);if(o){s(o);const e=await async function(e){const t=ZT(DR,`images/${e.name}`);try{return await XT(t,e),await JT(t)}catch(n){return console.error("Error al subir la imagen:",n),null}}(r);e?await v(o,e):d("Error al subir imagen original.")}else d("No se encontró una placa válida.")}catch(GI){console.error("Error procesando imagen:",GI),d("Error al procesar la imagen.")}}},children:"Procesar Placa"})]}),"admin"===t&&X.jsx("div",{className:"busqueda-placa-container",children:X.jsx(OR,{})})]})]})},LR=()=>{const e=mm(qS),t=KS,[n,r]=V.useState(!1),[i,o]=V.useState(!1),[s,a]=V.useState(""),l=Ub(),[c,u]=V.useState(!1),[h,d]=V.useState(!1);V.useEffect((()=>{const e=()=>{void 0!==window.google?(window.google.accounts.id.initialize({client_id:"805548540766-q9hb7d6vhjs56dniqbh2llandfl4k5eb.apps.googleusercontent.com",callback:f}),u(!0)):(console.error("Google API no está disponible. Volviendo a intentar en 1 segundo."),setTimeout(e,1e3))};YO("capacitor")?(PR.initialize({clientId:"805548540766-q9hb7d6vhjs56dniqbh2llandfl4k5eb.apps.googleusercontent.com",scopes:["profile","email"],grantOfflineAccess:!0}),u(!0)):e()}),[]);const f=async t=>{try{const n=qp.credential(t.credential),r=(await tg(e,n)).user;await p(r),d(!0)}catch(n){console.error("Error authenticating with Firebase",n)}},p=async e=>{const n=qE(t,"users",e.uid),r=await $S(n);if(r.exists()){const e=r.data();"administrador"===e.role?l.push("/admin"):"cliente"===e.role?l.push("/cliente"):"empleado"===e.role?l.push("/empleado"):console.error("Role not recognized or not set.")}else await VS(n,{email:e.email,role:"cliente"}),l.push("/cliente")},g=e=>{switch(e){case"auth/email-already-in-use":return"El correo ya está registrado. Por favor, inicia sesión o usa otro correo.";case"auth/weak-password":return"La contraseña debe tener al menos 8 caracteres.";case"auth/invalid-email":return"El correo no tiene un formato válido.";case"auth/user-not-found":return"El correo no está registrado. Por favor, regístrate primero.";case"auth/wrong-password":return"La contraseña es incorrecta. Inténtalo de nuevo.";default:return"Ocurrió un error inesperado. Por favor, inténtalo de nuevo."}},m=async(n,i)=>{if(i.length<8)alert("La contraseña debe tener al menos 8 caracteres.");else try{const o=await async function(e,t,n){if(Hd(e.app))return Promise.reject(vf(e));const r=kp(e),i=Pp(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qp),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ng(e),t})),s=await Yp._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(e,n,i),s=o.user;await rg(s);const a=qE(t,"users",s.uid);await VS(a,{email:s.email,role:"cliente",emailVerified:!1}),alert("Se ha enviado un correo de verificación. Por favor, verifica tu correo antes de iniciar sesión."),r(!1)}catch(o){const e=o.code,t=g(e);alert(t)}},b=async(t,n)=>{try{const r=await function(e,t,n){return Hd(e.app)?Promise.reject(vf(e)):tg(Nh(e),Vp.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ng(e),t}))}(e,t,n),i=r.user;if(!i.emailVerified)return alert("Por favor, verifica tu correo electrónico antes de iniciar sesión."),void(await ig(e));await p(i)}catch(r){const e=r.code,t=g(e);alert(t)}};return X.jsxs("div",{className:"container",children:[X.jsxs("div",{className:"card",children:[X.jsx("img",{src:"/assets/Ulib-DlELRvu3.png",alt:"Logo",className:"estilo-profile"}),X.jsxs("form",{onSubmit:async e=>{e.preventDefault();const t=e.currentTarget.email.value,r=e.currentTarget.password.value;n?m(t,r):b(t,r)},className:"form-container",children:[X.jsx("input",{type:"email",placeholder:"Ingresar Email",className:"cajatexto",name:"email",required:!0}),X.jsx("input",{type:"password",placeholder:"Ingresar contraseña",className:"cajatexto",name:"password",required:!0}),X.jsx("button",{type:"submit",className:"btnform",children:n?"Regístrate":"Inicia Sesión"})]}),X.jsxs("div",{className:"auth-options",children:[X.jsx("h4",{children:n?"Si ya tienes cuenta":"Si no tienes cuenta"}),X.jsx("button",{className:"btnform toggle-btn",onClick:()=>r(!n),children:n?"Inicia sesión":"Regístrate"}),X.jsxs("button",{onClick:async()=>{if(c)try{if(YO("capacitor")){const t=await PR.signIn(),n=qp.credential(t.authentication.idToken),r=await tg(e,n);await p(r.user),d(!0)}else window.google.accounts.id.prompt()}catch(t){console.error("Error during sign-in",t)}},className:"google-btn",children:[X.jsx("img",{src:"/assets/googlee-7l43CcKV.png",alt:"Google sign-in",className:"google-icon"}),"Iniciar con Google"]}),X.jsx("p",{className:"forgot-password",onClick:()=>o(!0),children:"¿Olvidaste tu contraseña?"})]})]}),i&&X.jsx("div",{className:"modal-overlay",children:X.jsxs("div",{className:"modal",children:[X.jsxs("div",{className:"modal-header",children:[X.jsx("h3",{children:"Recuperar contraseña"}),X.jsx("button",{className:"close-button",onClick:()=>o(!1),children:"×"})]}),X.jsxs("div",{className:"modal-body",children:[X.jsx("p",{children:"Ingresa tu correo electrónico para recibir un enlace de recuperación."}),X.jsx("input",{type:"email",placeholder:"Ingresar Email",value:s,onChange:e=>a(e.target.value)})]}),X.jsxs("div",{className:"modal-footer",children:[X.jsx("button",{className:"btn-secondary",onClick:()=>o(!1),children:"Cancelar"}),X.jsx("button",{className:"btn-primary",onClick:async()=>{try{await async function(e,t,n){const r=kp(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};await Pp(r,i,"getOobCode",jp)}(e,s),alert("Se ha enviado un enlace de recuperación a tu correo electrónico."),o(!1)}catch(t){const e=t.code,n=g(e);alert(n)}},children:"Enviar enlace"})]})]})})]})},jR=()=>{const[e,t]=V.useState(!1),[n,r]=V.useState(null),i=mm(),o=Ub(),s=e=>{r(e),t(!1)};return X.jsxs("div",{className:"hamburguesa-menu",children:[X.jsx("div",{className:"hamburguesa-menu-icon",onClick:()=>{t(!e)},children:"☰"}),X.jsxs("ul",{className:"hamburguesa-menu-links "+(e?"show":""),children:[X.jsx("li",{children:X.jsx("a",{href:"/cliente",className:"Inicio"===n?"selected":"",onClick:()=>s("Inicio"),children:"Inicio"})}),X.jsx("li",{children:X.jsx("a",{href:"/perfil",className:"Perfil"===n?"selected":"",onClick:()=>s("Perfil"),children:"Perfil"})}),X.jsx("li",{children:X.jsx("a",{href:"/pagocliente",className:"Pagos"===n?"selected":"",onClick:()=>s("Pagos"),children:"Pagos"})}),X.jsx("li",{children:X.jsx("a",{onClick:()=>{s("Salir"),(async()=>{try{await ig(i),YO("capacitor")&&await PR.signOut(),console.log("Sesión cerrada exitosamente"),o.push("/")}catch(e){console.error("Error cerrando sesión",e)}})()},className:"Salir"===n?"selected":"",children:"Salir"})})]})]})};function FR(e,t){return function(){return e.apply(t,arguments)}}const{toString:$R}=Object.prototype,{getPrototypeOf:UR}=Object,zR=(VR=Object.create(null),e=>{const t=$R.call(e);return VR[t]||(VR[t]=t.slice(8,-1).toLowerCase())});var VR;const BR=e=>(e=e.toLowerCase(),t=>zR(t)===e),HR=e=>t=>typeof t===e,{isArray:WR}=Array,qR=HR("undefined"),KR=BR("ArrayBuffer"),GR=HR("string"),QR=HR("function"),YR=HR("number"),XR=e=>null!==e&&"object"==typeof e,JR=e=>{if("object"!==zR(e))return!1;const t=UR(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},ZR=BR("Date"),eN=BR("File"),tN=BR("Blob"),nN=BR("FileList"),rN=BR("URLSearchParams"),[iN,oN,sN,aN]=["ReadableStream","Request","Response","Headers"].map(BR);function lN(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),WR(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function cN(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const uN="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,hN=e=>!qR(e)&&e!==uN,dN=(fN="undefined"!=typeof Uint8Array&&UR(Uint8Array),e=>fN&&e instanceof fN);var fN;const pN=BR("HTMLFormElement"),gN=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),mN=BR("RegExp"),bN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};lN(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},yN="abcdefghijklmnopqrstuvwxyz",vN="0123456789",wN={DIGIT:vN,ALPHA:yN,ALPHA_DIGIT:yN+yN.toUpperCase()+vN},xN=BR("AsyncFunction"),_N={isArray:WR,isArrayBuffer:KR,isBuffer:function(e){return null!==e&&!qR(e)&&null!==e.constructor&&!qR(e.constructor)&&QR(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||QR(e.append)&&("formdata"===(t=zR(e))||"object"===t&&QR(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&KR(e.buffer),t},isString:GR,isNumber:YR,isBoolean:e=>!0===e||!1===e,isObject:XR,isPlainObject:JR,isReadableStream:iN,isRequest:oN,isResponse:sN,isHeaders:aN,isUndefined:qR,isDate:ZR,isFile:eN,isBlob:tN,isRegExp:mN,isFunction:QR,isStream:e=>XR(e)&&QR(e.pipe),isURLSearchParams:rN,isTypedArray:dN,isFileList:nN,forEach:lN,merge:function e(){const{caseless:t}=hN(this)&&this||{},n={},r=(r,i)=>{const o=t&&cN(n,i)||i;JR(n[o])&&JR(r)?n[o]=e(n[o],r):JR(r)?n[o]=e({},r):WR(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&lN(arguments[i],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(lN(t,((t,r)=>{n&&QR(t)?e[r]=FR(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&UR(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:zR,kindOfTest:BR,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(WR(e))return e;let t=e.length;if(!YR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:pN,hasOwnProperty:gN,hasOwnProp:gN,reduceDescriptors:bN,freezeMethods:e=>{bN(e,((t,n)=>{if(QR(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];QR(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return WR(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:cN,global:uN,isContextDefined:hN,ALPHABET:wN,generateString:(e=16,t=wN.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&QR(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(XR(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=WR(e)?[]:{};return lN(e,((e,t)=>{const o=n(e,r+1);!qR(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:xN,isThenable:e=>e&&(XR(e)||QR(e))&&QR(e.then)&&QR(e.catch)};function kN(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}_N.inherits(kN,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const EN=kN.prototype,SN={};function TN(e){return _N.isPlainObject(e)||_N.isArray(e)}function CN(e){return _N.endsWith(e,"[]")?e.slice(0,-2):e}function IN(e,t,n){return e?e.concat(t).map((function(e,t){return e=CN(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{SN[e]={value:e}})),Object.defineProperties(kN,SN),Object.defineProperty(EN,"isAxiosError",{value:!0}),kN.from=(e,t,n,r,i,o)=>{const s=Object.create(EN);return _N.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),kN.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const PN=_N.toFlatObject(_N,{},null,(function(e){return/^is[A-Z]/.test(e)}));function AN(e,t,n){if(!_N.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=_N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!_N.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&_N.isSpecCompliantForm(t);if(!_N.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(_N.isDate(e))return e.toISOString();if(!a&&_N.isBlob(e))throw new kN("Blob is not supported. Use a Buffer instead.");return _N.isArrayBuffer(e)||_N.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"==typeof e)if(_N.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(_N.isArray(e)&&function(e){return _N.isArray(e)&&!e.some(TN)}(e)||(_N.isFileList(e)||_N.endsWith(n,"[]"))&&(a=_N.toArray(e)))return n=CN(n),a.forEach((function(e,r){!_N.isUndefined(e)&&null!==e&&t.append(!0===s?IN([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!TN(e)||(t.append(IN(i,n,o),l(e)),!1)}const u=[],h=Object.assign(PN,{defaultVisitor:c,convertValue:l,isVisitable:TN});if(!_N.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!_N.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),_N.forEach(n,(function(n,o){!0===(!(_N.isUndefined(n)||null===n)&&i.call(t,n,_N.isString(o)?o.trim():o,r,h))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t}function ON(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function RN(e,t){this._pairs=[],e&&AN(e,this,t)}const NN=RN.prototype;function DN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function MN(e,t,n){if(!t)return e;const r=n&&n.encode||DN,i=n&&n.serialize;let o;if(o=i?i(t,n):_N.isURLSearchParams(t)?t.toString():new RN(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}NN.append=function(e,t){this._pairs.push([e,t])},NN.toString=function(e){const t=e?function(t){return e.call(this,t,ON)}:ON;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class LN{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_N.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const jN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FN={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:RN,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},$N="undefined"!=typeof window&&"undefined"!=typeof document,UN=(zN="undefined"!=typeof navigator&&navigator.product,$N&&["ReactNative","NativeScript","NS"].indexOf(zN)<0);var zN;const VN="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,BN=$N&&window.location.href||"http://localhost",HN={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$N,hasStandardBrowserEnv:UN,hasStandardBrowserWebWorkerEnv:VN,origin:BN},Symbol.toStringTag,{value:"Module"})),...FN};function WN(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;return o=!o&&_N.isArray(r)?r.length:o,a?(_N.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s):(r[o]&&_N.isObject(r[o])||(r[o]=[]),t(e,n,r[o],i)&&_N.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s)}if(_N.isFormData(e)&&_N.isFunction(e.entries)){const n={};return _N.forEachEntry(e,((e,r)=>{t(function(e){return _N.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const qN={transitional:jN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=_N.isObject(e);if(i&&_N.isHTMLForm(e)&&(e=new FormData(e)),_N.isFormData(e))return r?JSON.stringify(WN(e)):e;if(_N.isArrayBuffer(e)||_N.isBuffer(e)||_N.isStream(e)||_N.isFile(e)||_N.isBlob(e)||_N.isReadableStream(e))return e;if(_N.isArrayBufferView(e))return e.buffer;if(_N.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return AN(e,new HN.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return HN.isNode&&_N.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=_N.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return AN(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(_N.isString(e))try{return(t||JSON.parse)(e),_N.trim(e)}catch(ob){if("SyntaxError"!==ob.name)throw ob}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||qN.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(_N.isResponse(e)||_N.isReadableStream(e))return e;if(e&&_N.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(ob){if(n){if("SyntaxError"===ob.name)throw kN.from(ob,kN.ERR_BAD_RESPONSE,this,null,this.response);throw ob}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:HN.classes.FormData,Blob:HN.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_N.forEach(["delete","get","head","post","put","patch"],(e=>{qN.headers[e]={}}));const KN=_N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GN=Symbol("internals");function QN(e){return e&&String(e).trim().toLowerCase()}function YN(e){return!1===e||null==e?e:_N.isArray(e)?e.map(YN):String(e)}function XN(e,t,n,r,i){return _N.isFunction(r)?r.call(this,t,n):(i&&(t=n),_N.isString(t)?_N.isString(r)?-1!==t.indexOf(r):_N.isRegExp(r)?r.test(t):void 0:void 0)}class JN{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=QN(t);if(!i)throw new Error("header name must be a non-empty string");const o=_N.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=YN(e))}const o=(e,t)=>_N.forEach(e,((e,n)=>i(e,n,t)));if(_N.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(_N.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&KN[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(_N.isHeaders(e))for(const[s,a]of e.entries())i(a,s,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=QN(e)){const n=_N.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(_N.isFunction(t))return t.call(this,e,n);if(_N.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=QN(e)){const n=_N.findKey(this,e);return!(!n||void 0===this[n]||t&&!XN(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=QN(e)){const i=_N.findKey(n,e);!i||t&&!XN(0,n[i],i,t)||(delete n[i],r=!0)}}return _N.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!XN(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return _N.forEach(this,((r,i)=>{const o=_N.findKey(n,i);if(o)return t[o]=YN(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=YN(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return _N.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&_N.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[GN]=this[GN]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=QN(e);t[r]||(function(e,t){const n=_N.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return _N.isArray(e)?e.forEach(r):r(e),this}}function ZN(e,t){const n=this||qN,r=t||n,i=JN.from(r.headers);let o=r.data;return _N.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function eD(e){return!(!e||!e.__CANCEL__)}function tD(e,t,n){kN.call(this,null==e?"canceled":e,kN.ERR_CANCELED,t,n),this.name="CanceledError"}function nD(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new kN("Request failed with status code "+n.status,[kN.ERR_BAD_REQUEST,kN.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}JN.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_N.reduceDescriptors(JN.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),_N.freezeMethods(JN),_N.inherits(tD,kN,{__CANCEL__:!0});const rD=(e,t,n=3)=>{let r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,h=0;for(;u!==o;)h+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}}(50,250);return function(e,t){let n=0;const r=1e3/t;let i=null;return function(){const t=!0===this,o=Date.now();if(t||o-n>r)return i&&(clearTimeout(i),i=null),n=o,e.apply(null,arguments);i||(i=setTimeout((()=>(i=null,n=Date.now(),e.apply(null,arguments))),r-(o-n)))}}((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,l=i(a);r=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s};c[t?"download":"upload"]=!0,e(c)}),n)},iD=HN.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=_N.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},oD=HN.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];_N.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),_N.isString(r)&&s.push("path="+r),_N.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function sD(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const aD=e=>e instanceof JN?{...e}:e;function lD(e,t){t=t||{};const n={};function r(e,t,n){return _N.isPlainObject(e)&&_N.isPlainObject(t)?_N.merge.call({caseless:n},e,t):_N.isPlainObject(t)?_N.merge({},t):_N.isArray(t)?t.slice():t}function i(e,t,n){return _N.isUndefined(t)?_N.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!_N.isUndefined(t))return r(void 0,t)}function s(e,t){return _N.isUndefined(t)?_N.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(aD(e),aD(t),!0)};return _N.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);_N.isUndefined(s)&&o!==a||(n[r]=s)})),n}const cD=e=>{const t=lD({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=JN.from(a),t.url=MN(sD(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_N.isFormData(r))if(HN.hasStandardBrowserEnv||HN.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(HN.hasStandardBrowserEnv&&(i&&_N.isFunction(i)&&(i=i(t)),i||!1!==i&&iD(t.url))){const e=o&&s&&oD.read(s);e&&a.set(o,e)}return t},uD="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=cD(e);let i=r.data;const o=JN.from(r.headers).normalize();let s,{responseType:a}=r;function l(){r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let c=new XMLHttpRequest;function u(){if(!c)return;const r=JN.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());nD((function(e){t(e),l()}),(function(e){n(e),l()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}c.open(r.method.toUpperCase(),r.url,!0),c.timeout=r.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(n(new kN("Request aborted",kN.ECONNABORTED,r,c)),c=null)},c.onerror=function(){n(new kN("Network Error",kN.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const t=r.transitional||jN;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new kN(e,t.clarifyTimeoutError?kN.ETIMEDOUT:kN.ECONNABORTED,r,c)),c=null},void 0===i&&o.setContentType(null),"setRequestHeader"in c&&_N.forEach(o.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),_N.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),a&&"json"!==a&&(c.responseType=r.responseType),"function"==typeof r.onDownloadProgress&&c.addEventListener("progress",rD(r.onDownloadProgress,!0)),"function"==typeof r.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",rD(r.onUploadProgress)),(r.cancelToken||r.signal)&&(s=t=>{c&&(n(!t||t.type?new tD(null,e,c):t),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);h&&-1===HN.protocols.indexOf(h)?n(new kN("Unsupported protocol "+h+":",kN.ERR_BAD_REQUEST,e)):c.send(i||null)}))},hD=(e,t)=>{let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof kN?t:new tD(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new kN(`timeout ${t} of ms exceeded`,kN.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},dD=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},fD=(e,t,n,r,i)=>{const o=async function*(e,t,n){for await(const r of e)yield*dD(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,i);let s=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:i}=await o.next();if(t)return e.close(),void r();let a=i.byteLength;n&&n(s+=a),e.enqueue(new Uint8Array(i))},cancel:e=>(r(e),o.return())},{highWaterMark:2})},pD=(e,t)=>{const n=null!=e;return r=>setTimeout((()=>t({lengthComputable:n,total:e,loaded:r})))},gD="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,mD=gD&&"function"==typeof ReadableStream,bD=gD&&("function"==typeof TextEncoder?(yD=new TextEncoder,e=>yD.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var yD;const vD=mD&&(()=>{let e=!1;const t=new Request(HN.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),wD=mD&&!!(()=>{try{return _N.isReadableStream(new Response("").body)}catch(GI){}})(),xD={stream:wD&&(e=>e.body)};var _D;gD&&(_D=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!xD[e]&&(xD[e]=_N.isFunction(_D[e])?t=>t[e]():(t,n)=>{throw new kN(`Response type '${e}' is not supported`,kN.ERR_NOT_SUPPORT,n)})})));const kD=async(e,t)=>{const n=_N.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:_N.isBlob(e)?e.size:_N.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:_N.isArrayBufferView(e)?e.byteLength:(_N.isURLSearchParams(e)&&(e+=""),_N.isString(e)?(await bD(e)).byteLength:void 0))(t):n},ED=gD&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=cD(e);c=c?(c+"").toLowerCase():"text";let f,p,[g,m]=i||o||s?hD([i,o],s):[];const b=()=>{!f&&setTimeout((()=>{g&&g.unsubscribe()})),f=!0};let y;try{if(l&&vD&&"get"!==n&&"head"!==n&&0!==(y=await kD(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});_N.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body&&(r=fD(n.body,65536,pD(y,rD(l)),null,bD))}_N.isString(h)||(h=h?"cors":"omit"),p=new Request(t,{...d,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:h});let i=await fetch(p);const o=wD&&("stream"===c||"response"===c);if(wD&&(a||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=_N.toFiniteNumber(i.headers.get("content-length"));i=new Response(fD(i.body,65536,a&&pD(t,rD(a,!0)),o&&b,bD),e)}c=c||"text";let s=await xD[_N.findKey(xD,c)||"text"](i,e);return!o&&b(),m&&m(),await new Promise(((t,n)=>{nD(t,n,{data:s,headers:JN.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(GI){if(b(),GI&&"TypeError"===GI.name&&/fetch/i.test(GI.message))throw Object.assign(new kN("Network Error",kN.ERR_NETWORK,e,p),{cause:GI.cause||GI});throw kN.from(GI,GI&&GI.code,e,p)}}),SD={http:null,xhr:uD,fetch:ED};_N.forEach(SD,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ob){}Object.defineProperty(e,"adapterName",{value:t})}}));const TD=e=>`- ${e}`,CD=e=>_N.isFunction(e)||null===e||!1===e,ID=e=>{e=_N.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!CD(n)&&(r=SD[(t=String(n)).toLowerCase()],void 0===r))throw new kN(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new kN("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(TD).join("\n"):" "+TD(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function PD(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tD(null,e)}function AD(e){return PD(e),e.headers=JN.from(e.headers),e.data=ZN.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ID(e.adapter||qN.adapter)(e).then((function(t){return PD(e),t.data=ZN.call(e,e.transformResponse,t),t.headers=JN.from(t.headers),t}),(function(t){return eD(t)||(PD(e),t&&t.response&&(t.response.data=ZN.call(e,e.transformResponse,t.response),t.response.headers=JN.from(t.response.headers))),Promise.reject(t)}))}const OD="1.7.2",RD={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{RD[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ND={};RD.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new kN(r(i," has been removed"+(t?" in "+t:"")),kN.ERR_DEPRECATED);return t&&!ND[i]&&(ND[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const DD={assertOptions:function(e,t,n){if("object"!=typeof e)throw new kN("options must be an object",kN.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new kN("option "+o+" must be "+n,kN.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new kN("Unknown option "+o,kN.ERR_BAD_OPTION)}},validators:RD},MD=DD.validators;class LD{constructor(e){this.defaults=e,this.interceptors={request:new LN,response:new LN}}async request(e,t){try{return await this._request(e,t)}catch(GI){if(GI instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{GI.stack?n&&!String(GI.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(GI.stack+="\n"+n):GI.stack=n}catch(ob){}}throw GI}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=lD(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&DD.assertOptions(n,{silentJSONParsing:MD.transitional(MD.boolean),forcedJSONParsing:MD.transitional(MD.boolean),clarifyTimeoutError:MD.transitional(MD.boolean)},!1),null!=r&&(_N.isFunction(r)?t.paramsSerializer={serialize:r}:DD.assertOptions(r,{encode:MD.function,serialize:MD.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&_N.merge(i.common,i[t.method]);i&&_N.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=JN.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[AD.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=s.length;let d=t;for(h=0;h<u;){const e=s[h++],t=s[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{c=AD.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return MN(sD((e=lD(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}_N.forEach(["delete","get","head","options"],(function(e){LD.prototype[e]=function(t,n){return this.request(lD(n||{},{method:e,url:t,data:(n||{}).data}))}})),_N.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(lD(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}LD.prototype[e]=t(),LD.prototype[e+"Form"]=t(!0)}));class jD{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new tD(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new jD((function(t){e=t}));return{token:t,cancel:e}}}const FD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(FD).forEach((([e,t])=>{FD[t]=e}));const $D=function e(t){const n=new LD(t),r=FR(LD.prototype.request,n);return _N.extend(r,LD.prototype,n,{allOwnKeys:!0}),_N.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(lD(t,n))},r}(qN);$D.Axios=LD,$D.CanceledError=tD,$D.CancelToken=jD,$D.isCancel=eD,$D.VERSION=OD,$D.toFormData=AN,$D.AxiosError=kN,$D.Cancel=$D.CanceledError,$D.all=function(e){return Promise.all(e)},$D.spread=function(e){return function(t){return e.apply(null,t)}},$D.isAxiosError=function(e){return _N.isObject(e)&&!0===e.isAxiosError},$D.mergeConfig=lD,$D.AxiosHeaders=JN,$D.formToJSON=e=>WN(_N.isHTMLForm(e)?new FormData(e):e),$D.getAdapter=ID,$D.HttpStatusCode=FD,$D.default=$D;const UD=e=>{const t=new Date,n=Math.floor((t.getTime()-e.getTime())/6e4);return n<=120?90*n:10900};
/*!
             * react-paypal-js v8.3.0 (2024-04-29T16:01:50.661Z)
             * Copyright 2020-present, PayPal, Inc. All rights reserved.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             * https://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var zD,VD,BD;!function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"}(zD||(zD={})),function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"}(VD||(VD={})),function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"}(BD||(BD={}));var HD=function(){return HD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},HD.apply(this,arguments)};function WD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function qD(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var KD="data-react-paypal-script-id",GD="dataJsSdkLibrary",QD="react-paypal-js",YD="dataNamespace",XD="dataSdkIntegrationSource",JD="paypal",ZD="usePayPalScriptReducer must be used within a PayPalScriptProvider";function eM(e){var t=e,n=KD;t[n];var r=WD(t,[n+""]);return"react-paypal-js-".concat(function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0)*n;e[n+1]&&(r+=e[n+1].charCodeAt(0)*(n-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}(JSON.stringify(r)))}function tM(e,t){var n,r,i,o;switch(t.type){case VD.LOADING_STATUS:return"object"==typeof t.value?HD(HD({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):HD(HD({},e),{loadingStatus:t.value});case VD.RESET_OPTIONS:return i=e.options[KD],(null==(o=self.document.querySelector("script[".concat(KD,'="').concat(i,'"]')))?void 0:o.parentNode)&&o.parentNode.removeChild(o),HD(HD({},e),{loadingStatus:zD.PENDING,options:HD(HD((n={},n[XD]=QD,n),t.value),(r={},r[KD]="".concat(eM(t.value)),r))});case VD.SET_BRAINTREE_INSTANCE:return HD(HD({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var nM=V.createContext(null);function rM(){var e=function(e){if("function"==typeof(null==e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw new Error(ZD)}(V.useContext(nM));return[HD(HD({},e),{isInitial:e.loadingStatus===zD.INITIAL,isPending:e.loadingStatus===zD.PENDING,isResolved:e.loadingStatus===zD.RESOLVED,isRejected:e.loadingStatus===zD.REJECTED}),e.dispatch]}V.createContext({});var iM=function(e){var t=e.className,n=void 0===t?"":t,r=e.disabled,i=void 0!==r&&r,o=e.children,s=e.forceReRender,a=void 0===s?[]:s,l=WD(e,["className","disabled","children","forceReRender"]),c=i?{opacity:.38}:{},u="".concat(n," ").concat(i?"paypal-buttons-disabled":"").trim(),h=V.useRef(null),d=V.useRef(null),f=rM()[0],p=f.isResolved,g=f.options,m=V.useState(null),b=m[0],y=m[1],v=V.useState(!0),w=v[0],x=v[1],_=V.useState(null)[1];function k(){null!==d.current&&d.current.close().catch((function(){}))}return V.useEffect((function(){if(!1===p)return k;var e,t=(void 0===(e=g.dataNamespace)&&(e=JD),window[e]);if(void 0===t||void 0===t.Buttons)return _((function(){throw new Error(function(e){var t=e.reactComponentName,n=e.sdkComponentKey,r=e.sdkRequestedComponents,i=void 0===r?"":r,o=e.sdkDataNamespace,s=void 0===o?JD:o,a=n.charAt(0).toUpperCase().concat(n.substring(1)),l="Unable to render <".concat(t," /> because window.").concat(s,".").concat(a," is undefined."),c="string"==typeof i?i:i.join(",");if(!c.includes(n)){var u=[c,n].filter(Boolean).join();l+="\nTo fix the issue, add '".concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(u,"'}}>`.")}return l}({reactComponentName:iM.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:g.components,sdkDataNamespace:g[YD]}))})),k;try{d.current=t.Buttons(HD(HD({},l),{onInit:function(e,t){y(t),"function"==typeof l.onInit&&l.onInit(e,t)}}))}catch(GI){return _((function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(GI))}))}return!1===d.current.isEligible()?(x(!1),k):h.current?(d.current.render(h.current).catch((function(e){null!==h.current&&0!==h.current.children.length&&_((function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(e))}))})),k):k}),qD(qD([p],a,!0),[l.fundingSource],!1)),V.useEffect((function(){null!==b&&(!0===i?b.disable().catch((function(){})):b.enable().catch((function(){})))}),[i,b]),B.createElement(B.Fragment,null,w?B.createElement("div",{ref:h,style:c,className:u}):o)};function oM(e){var t="";return Object.keys(e).forEach((function(n){0!==t.length&&(t+="&"),t+=n+"="+e[n]})),t}function sM(e,t){void 0===t&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach((function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttribute("nonce",t["data-csp-nonce"])})),n}function aM(e,t){if(void 0===t&&(t=Promise),cM(e,t),"undefined"==typeof document)return t.resolve(null);var n=function(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseUrl&&(t=e.sdkBaseUrl,delete e.sdkBaseUrl);var n=e,r=Object.keys(n).filter((function(e){return void 0!==n[e]&&null!==n[e]&&""!==n[e]})).reduce((function(e,t){var r,i=n[t].toString();return r=function(e,t){return(t?"-":"")+e.toLowerCase()},"data"===(t=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,r)).substring(0,4)||"crossorigin"===t?e.attributes[t]=i:e.queryParams[t]=i,e}),{queryParams:{},attributes:{}}),i=r.queryParams,o=r.attributes;return i["merchant-id"]&&-1!==i["merchant-id"].indexOf(",")&&(o["data-merchant-id"]=i["merchant-id"],i["merchant-id"]="*"),{url:"".concat(t,"?").concat(oM(i)),attributes:o}}(e),r=n.url,i=n.attributes,o=i["data-namespace"]||"paypal",s=lM(o);return i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),function(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(null===n)return null;var r=sM(e,t),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var o=!0;return Object.keys(i.dataset).forEach((function(e){i.dataset[e]!==r.dataset[e]&&(o=!1)})),o?n:null}(r,i)&&s?t.resolve(s):function(e,t){void 0===t&&(t=Promise),cM(e,t);var n=e.url,r=e.attributes;if("string"!=typeof n||0===n.length)throw new Error("Invalid url.");if(void 0!==r&&"object"!=typeof r)throw new Error("Expected attributes to be an object.");return new t((function(e,t){if("undefined"==typeof document)return e();!function(e){var t=e.url,n=e.attributes,r=e.onSuccess,i=e.onError,o=sM(t,n);o.onerror=i,o.onload=r,document.head.insertBefore(o,document.head.firstElementChild)}({url:n,attributes:r,onSuccess:function(){return e()},onError:function(){var e=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return t(e)}})}))}({url:r,attributes:i},t).then((function(){var e=lM(o);if(e)return e;throw new Error("The window.".concat(o," global variable is not available."))}))}function lM(e){return window[e]}function cM(e,t){if("object"!=typeof e||null===e)throw new Error("Expected an options object.");if(void 0!==t&&"function"!=typeof t)throw new Error("Expected PromisePonyfill to be a function.")}iM.displayName="PayPalButtons";var uM=function(e){var t,n=e.options,r=void 0===n?{clientId:"test"}:n,i=e.children,o=e.deferLoading,s=void 0!==o&&o,a=V.useReducer(tM,{options:HD(HD({},r),(t={},t[GD]=QD,t[XD]=QD,t[KD]="".concat(eM(r)),t)),loadingStatus:s?zD.INITIAL:zD.PENDING}),l=a[0],c=a[1];return V.useEffect((function(){if(!1===s&&l.loadingStatus===zD.INITIAL)return c({type:VD.LOADING_STATUS,value:zD.PENDING});if(l.loadingStatus===zD.PENDING){var e=!0;return aM(l.options).then((function(){e&&c({type:VD.LOADING_STATUS,value:zD.RESOLVED})})).catch((function(t){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(t)),e&&c({type:VD.LOADING_STATUS,value:{state:zD.REJECTED,message:String(t)}})})),function(){e=!1}}}),[l.options,s,l.loadingStatus]),B.createElement(nM.Provider,{value:HD(HD({},l),{dispatch:c})},i)};function hM(){}V.createContext({cardFieldsForm:null,fields:{},registerField:hM,unregisterField:hM});const dM=({activeSpot:e})=>{const t=(e,t)=>Array.from({length:t},((t,n)=>({bloque:e,numero:n+1})));return X.jsx("div",{className:"parking-map-wrapper",children:X.jsxs("div",{className:"parking-map-container",children:[X.jsxs("div",{className:"parking-block",children:[X.jsx("h3",{className:"block-title",children:"Bloque A"}),X.jsx("div",{className:"spots-grid",children:t("A",50).map((t=>X.jsx("div",{className:"parking-spot "+("A"===e?.bloque&&e?.numero===t.numero?"active-spot":""),children:X.jsxs("span",{className:"spot-number",children:["A",t.numero]})},`A${t.numero}`)))})]}),X.jsxs("div",{className:"parking-block",children:[X.jsx("h3",{className:"block-title",children:"Bloque D"}),X.jsx("div",{className:"spots-grid",children:t("D",50).map((t=>X.jsx("div",{className:"parking-spot "+("D"===e?.bloque&&e?.numero===t.numero?"active-spot":""),children:X.jsxs("span",{className:"spot-number",children:["D",t.numero]})},`D${t.numero}`)))})]})]})})},fM=async(e,t,n,r)=>{const i=mm().currentUser;if(!i)return void console.error("No hay usuario autenticado");const o=qE(KS,"textRecords",e),s=qE(KS,"vehiculosPagados",e);try{const e=await $S(o);e.exists()&&(await VS(s,{...e.data(),pagado:!0,fechaPago:new Date,costoPagadoCOP:t,costoPagadoUSD:n,pagadoPor:i.uid,emailPagador:i.email,idTransaccion:r}),await HS(o))}catch(a){console.error("Error al mover documento:",a)}},pM=({todosRegistros:e})=>{const t=$b(Ob).location;return V.useEffect((()=>{const n=new URLSearchParams(t.search),r=n.get("status"),i=n.get("external_reference"),o=n.get("payment_id");if("approved"===r&&i&&"null"!==i){const t=e.find((e=>e.docId===i));if(t){const e=UD(t.timestamp),r=parseFloat(n.get("amountInUSD")||"0");fM(i,e,r,o)}}}),[t,e]),null},gM=()=>{const[e,t]=V.useState(""),[n,r]=V.useState([]),[i,o]=V.useState([]),[s,a]=V.useState(null),[l,c]=V.useState(!1),[u,h]=V.useState(""),[d,f]=V.useState(null),[p,g]=V.useState(1);V.useEffect((()=>{(async()=>{const e=(await zS(WE(KS,"textRecords"))).docs.map((e=>{const t=e.data();return{...t,docId:e.id,timestamp:t.timestamp?.toDate()||new Date,lugar:t.lugar||0,bloque:t.bloque||"A"}}));o(e),r(e.slice(0,10))})()}),[]);const m=3*(p-1),b=n.slice(m,m+3),y=async e=>{a(e),await(async e=>{try{if(!mm().currentUser)return;const t=await $D.post("https://us-central1-estacionamientou-e505d.cloudfunctions.net/api/create_payment",{amountCOP:UD(e.timestamp)});f(t.data.id),h(t.data.amountInUSD)}catch(t){console.error("Error en pago:",t)}})(e)};return X.jsxs("div",{className:"containercliente",children:[X.jsx("h1",{children:"Buscar por Placa"}),X.jsx("input",{type:"text",value:e,onChange:e=>{const n=e.target.value.toUpperCase();t(n);const o=""===n?i:i.filter((e=>e.placa.includes(n)));r(o.slice(0,10))},placeholder:"Ingrese la placa",className:"search-input"}),X.jsx("div",{className:"list-container",children:b.map((e=>{return X.jsxs("div",{className:"list-item "+(s?.docId===e.docId?"selected":""),onClick:()=>y(e),children:[e.imageUrl&&X.jsx("div",{className:"image-wrapper",children:X.jsx("img",{src:e.imageUrl,alt:"Vehículo",className:"vehicle-image"})}),X.jsxs("div",{className:"vehicle-info",children:[X.jsxs("div",{className:"info-row",children:[X.jsx("span",{className:"label",children:"Placa:"})," ",X.jsx("span",{className:"value",children:e.placa})]}),X.jsxs("div",{className:"info-row",children:[X.jsx("span",{className:"label",children:"Lugar:"})," ",X.jsxs("span",{className:"value",children:[e.bloque,e.lugar]})]}),X.jsxs("div",{className:"info-row",children:[X.jsx("span",{className:"label",children:"Entrada:"})," ",X.jsx("span",{className:"value",children:XC(e.timestamp,"dd/MM/yyyy HH:mm",{locale:oI})})]}),X.jsxs("div",{className:"info-row",children:[X.jsx("span",{className:"label",children:"Tiempo:"})," ",X.jsx("span",{className:"value",children:(t=e.timestamp,`${Math.floor((Date.now()-t.getTime())/6e4)} minutos`)})]}),X.jsxs("div",{className:"info-row",children:[X.jsx("span",{className:"label",children:"Costo:"})," ",X.jsxs("span",{className:"value",children:["$",UD(e.timestamp)]})]})]})]},e.docId);var t}))}),X.jsxs("div",{className:"pagination-container",children:[X.jsx("button",{className:"pagination-button",onClick:()=>g((e=>Math.max(e-1,1))),disabled:1===p,children:X.jsx(bI,{})}),X.jsxs("span",{children:["Página ",p]}),X.jsx("button",{className:"pagination-button",onClick:()=>g((e=>Math.min(e+1,Math.ceil(n.length/3)))),disabled:b.length<3,children:X.jsx(yI,{})})]}),s&&X.jsx("button",{className:"ubicacion-button",onClick:()=>c(!0),children:"Ubicar mi vehículo"}),l&&s&&X.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:X.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[X.jsx(dM,{activeSpot:{bloque:s.bloque||"A",numero:s.lugar||0}}),X.jsx("button",{className:"cerrar-modal-button",onClick:()=>c(!1),children:"Cerrar"})]})}),s&&d&&X.jsx("div",{className:"paypal-button-wrapper",children:X.jsx(uM,{options:{clientId:"AcGs_32-5U0VRjwqT1lVdwfyDRYtuP5satCz_BQOfzZnvohImbNYxCVitT2_2I7Yr_eBc60EGGZAB2um",locale:"es_ES"},children:X.jsx(iM,{createOrder:(e,t)=>t.order.create({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"USD",value:u}}]}),onApprove:async(e,t)=>{const n=await t.order.capture();await fM(s.docId,UD(s.timestamp),parseFloat(u||"0"),n.id||null),alert("¡Pago exitoso!"),setTimeout((()=>window.location.reload()),3e3)},onError:e=>{console.error(e),alert("Error en el pago")}})})}),X.jsx(pM,{todosRegistros:i})]})},mM="_clientePanel_u3x6g_1",bM="_perfilFoto_u3x6g_25",yM="_correo_u3x6g_47",vM=({correoUsuario:e})=>{V.useState(!1);const[t,n]=V.useState(""),r=mm(),i=Ub(),o=V.useRef(null),s=V.useCallback((async()=>{o.current&&clearTimeout(o.current);try{await ig(r),console.log("Sesión cerrada exitosamente"),i.push("/")}catch(e){console.error("Error cerrando sesión",e)}}),[r,i]),a=V.useCallback((async()=>{try{const t=SS(WE(KS,"users"),CS("email","==",e)),r=await zS(t);if(!r.empty){const e=r.docs[0].data();e.fotoURL&&n(e.fotoURL)}}catch(t){console.error("Error al obtener datos del usuario:",t)}}),[e]),l=V.useCallback((()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(s,62e4)}),[s]);return V.useEffect((()=>{const e=()=>{l()};return window.addEventListener("mousemove",e),window.addEventListener("keydown",e),window.addEventListener("scroll",e),l(),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("keydown",e),window.removeEventListener("scroll",e),o.current&&clearTimeout(o.current)}}),[l]),V.useEffect((()=>{a()}),[a]),X.jsxs("div",{className:mM,children:[X.jsx(jR,{}),t&&X.jsx("img",{src:t,alt:"Foto de perfil",className:bM}),X.jsxs("h1",{className:yM,children:["¡Hola, ",e,"! Nos alegra verte."]}),X.jsx(gM,{})]})},wM=({correoUsuario:e})=>{const[t,n]=V.useState(""),[r,i]=V.useState(""),[o,s]=V.useState(null),[a,l]=V.useState(""),[c,u]=V.useState(null);return V.useEffect((()=>{(async()=>{try{const t=SS(WE(KS,"users"),CS("email","==",e)),r=await zS(t);if(!r.empty){const e=r.docs[0].data();n(e.nombre||""),i(e.telefono||""),e.fotoURL&&l(e.fotoURL)}}catch(t){console.error("Error al obtener datos del usuario:",t)}})()}),[]),X.jsxs("div",{className:"perfil-container",children:[X.jsx(jR,{}),X.jsx("h1",{children:"Bienvenido a tu perfil"}),a&&X.jsx("img",{className:"profile-pic",src:a,alt:"Foto de perfil"}),X.jsxs("p",{className:"email",children:["Correo electrónico: ",e]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),X.jsx("input",{type:"text",id:"nombre",value:t,onChange:e=>{n(e.target.value)}})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"telefono",children:"Teléfono:"}),X.jsx("input",{type:"text",id:"telefono",value:r,onChange:e=>{i(e.target.value)}})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"foto",children:"Foto de perfil:"}),X.jsx("input",{type:"file",id:"foto",onChange:e=>{e.target.files&&e.target.files[0]&&s(e.target.files[0])}})]}),X.jsx("button",{className:"btn-save",onClick:async()=>{try{const n=SS(WE(KS,"users"),CS("email","==",e)),i=await zS(n);if(i.empty)console.error("Usuario no encontrado en la base de datos.");else{const n=i.docs[0];let s=a;if(o){const t=ZT(eC(),`user_profiles/${e}`);await XT(t,o),s=await JT(t)}await BS(n.ref,{nombre:t,telefono:r,fotoURL:s}),console.log("Datos actualizados en Firestore:",t,r,s),u("Datos actualizados correctamente")}}catch(n){console.error("Error al guardar cambios:",n),u("Error al guardar los cambios. Inténtalo de nuevo más tarde.")}},children:"Guardar Cambios"}),c&&X.jsx("p",{className:c.includes("error")?"mensaje-error":"mensaje-exito",children:c})]})},xM=()=>{const[e,t]=V.useState(""),[n,r]=V.useState([]),[i,o]=V.useState([]),[s,a]=V.useState(null),l=Ub(),c=mm();V.useEffect((()=>{u()}),[]);const u=async()=>{const e=await zS(WE(KS,"textRecords")),t=[];e.forEach((e=>{const n=e.data();if(n.placa){const r=n.timestamp?new Date(n.timestamp.toDate()):new Date;t.push({...n,timestamp:r,docId:e.id,placa:n.placa,imageUrl:n.imageUrl})}})),o(t),r(t.slice(0,10))},h=e=>{const t=(new Date).getTime()-e.getTime();return`${Math.floor(t/6e4)} minutos`};return X.jsxs("div",{className:"eps-container",children:[X.jsx("h1",{children:"Procesar Pagos en Efectivo"}),X.jsx("button",{onClick:async()=>{try{await ig(c),YO("capacitor")&&await PR.signOut(),console.log("Sesión cerrada exitosamente"),l.push("/")}catch(e){console.error("Error cerrando sesión",e)}},className:"eps-sign-out-button",children:"Cerrar Sesión"}),X.jsx("input",{type:"text",value:e,onChange:e=>{const n=e.target.value.toUpperCase();if(t(n),""===n)r(i.slice(0,10));else{const e=i.filter((e=>e.placa.includes(n)));r(e.slice(0,10))}},placeholder:"Ingrese la placa del vehículo",className:"eps-input"}),X.jsx("div",{className:"eps-list-container",children:n.slice(0,3).map((e=>X.jsxs("div",{className:"eps-list-item "+(s?.docId===e.docId?"eps-selected":""),onClick:()=>{a(e)},children:[X.jsx("div",{className:"eps-image-container",children:e.imageUrl&&X.jsx("img",{src:e.imageUrl,alt:"Imagen del vehículo",className:"eps-image"})}),X.jsxs("div",{className:"eps-details",children:[X.jsxs("p",{className:"eps-detail-text",children:["Placa: ",e.placa]}),X.jsxs("p",{className:"eps-detail-text",children:["Fecha de Ingreso: ",XC(e.timestamp,"PPPPpppp",{locale:oI})]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Tiempo transcurrido:"})," ",h(e.timestamp)]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Valor a pagar:"})," $",UD(e.timestamp)]})]})]},e.docId)))}),s&&X.jsxs("div",{className:"eps-confirm-section",children:[X.jsx("h2",{children:"Confirmar Pago en Efectivo"}),X.jsxs("p",{children:["Placa: ",s.placa]}),X.jsxs("p",{children:["Valor a pagar: $",UD(s.timestamp)]}),X.jsx("button",{onClick:async()=>{if(!s)return void alert("No se ha seleccionado ningún vehículo.");const e=UD(s.timestamp);try{await(async(e,t,n,r)=>{const i=mm().currentUser;if(!i)return void console.error("No hay usuario autenticado");const o=qE(KS,"textRecords",e),s=qE(KS,"vehiculosPagados",e);try{const e=await $S(o);e.exists()?(await VS(s,{...e.data(),pagado:!0,fechaPago:new Date,costoPagadoCOP:t,costoPagadoUSD:n,pagadoPor:i.uid,emailPagador:i.email,idTransaccion:r}),await HS(o),console.log("Documento movido y eliminado con éxito con costos en COP y USD, usuario, email e ID de transacción!")):console.log("No se encontró el documento!")}catch(a){console.error("Error al mover y eliminar el documento: ",a)}})(s.docId,e,null,null),alert("Pago en efectivo registrado con éxito"),await u(),a(null)}catch(t){console.error("Error al registrar el pago: ",t),alert("Hubo un error al registrar el pago. Por favor, inténtalo de nuevo.")}},className:"eps-confirm-button",children:"Registrar Pago"})]})]})},_M=()=>{const[e,t]=V.useState([]),[n,r]=V.useState({});return V.useEffect((()=>{(async()=>{const e=await zS(WE(KS,"users")),n=[];e.forEach((e=>{const t=e.data();"administrador"!==t.role&&n.push({id:e.id,email:t.email,role:t.role})})),t(n)})()}),[]),X.jsxs("div",{children:[X.jsx(AR,{}),X.jsxs("div",{className:"user-management-container",children:[X.jsx("h2",{children:"Gestión de Usuarios"}),X.jsxs("table",{className:"user-tableU",children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{children:"Email"}),X.jsx("th",{children:"Rol"})]})}),X.jsx("tbody",{children:e.map((e=>X.jsxs("tr",{children:[X.jsx("td",{children:e.email}),X.jsx("td",{children:X.jsxs("select",{value:n[e.id]||e.role,onChange:t=>{return n=e.id,i=t.target.value,void r((e=>({...e,[n]:i})));var n,i},children:[X.jsx("option",{value:"cliente",children:"Cliente"}),X.jsx("option",{value:"empleado",children:"Empleado"})]})})]},e.id)))})]}),X.jsx("button",{onClick:async()=>{try{const i=Object.entries(n).map((async([e,t])=>{const n=qE(KS,"users",e);await BS(n,{role:t})}));await Promise.all(i),t(e.map((e=>({...e,role:n[e.id]||e.role})))),r({}),alert("Los cambios han sido guardados con éxito.")}catch(i){console.error("Error al guardar los cambios:",i)}},className:"save-changes-button",children:"Guardar Cambios"})]})]})},kM=({spots:e,onSpotClick:t,selectedSpot:n})=>X.jsx("div",{className:"parking-map-admin",children:[{bloque:"A",total:50,filas:5,columnas:10},{bloque:"D",total:50,filas:5,columnas:10}].map((r=>X.jsxs("div",{className:"parking-block-admin",children:[X.jsxs("h3",{children:["Bloque ",r.bloque]}),X.jsx("div",{className:"spots-grid-admin",style:{gridTemplateColumns:`repeat(${r.columnas}, 1fr)`},children:Array.from({length:r.total},((i,o)=>{const s=o+1,a=e.find((e=>e.bloque===r.bloque&&e.numero===s)),l=!!a,c=n?.docId===a?.docId;return X.jsxs("div",{className:"spot-admin "+(c?"selected-spot":l?"occupied-spot":"available-spot"),onClick:()=>l&&t?.(a),title:l?`Placa: ${a.placa}\nHora: ${a.timestamp?.toLocaleTimeString()}`:"Disponible",children:[X.jsxs("span",{className:"spot-number-admin",children:[r.bloque,s]}),l&&X.jsx("span",{className:"spot-placa-admin",children:a.placa}),c&&X.jsx("div",{className:"spot-selected-indicator"})]},`${r.bloque}${s}`)}))})]},r.bloque)))}),EM=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(""),[i,o]=V.useState(!1),[s,a]=V.useState(""),[l,c]=V.useState(!1),[u,h]=V.useState(null),[d,f]=V.useState("all");V.useEffect((()=>{(async()=>{const e=await zS(WE(KS,"textRecords")),n=[];e.forEach((e=>{const t=e.data();t.placa&&n.push({...t,docId:e.id,timestamp:new Date(t.timestamp?.toDate())})})),t(n)})()}),[]);const p=e.filter((e=>e.placa.includes(n))),g=()=>{o(!1)},m=e.map((e=>({bloque:e.bloque||"A",numero:e.lugar||0,placa:e.placa,timestamp:e.timestamp,docId:e.docId}))),b="selected"===d&&u?[u]:m;return X.jsxs("div",{className:"admin-parking-container",children:[X.jsx(AR,{}),X.jsx("h1",{children:"Vehículos en el Estacionamiento"}),X.jsxs("div",{className:"admin-controls",children:[X.jsx("input",{type:"text",value:n,onChange:e=>{r(e.target.value.toUpperCase())},placeholder:"Buscar por placa",className:"admin-parking-search"}),X.jsx("button",{className:"toggle-map-button",onClick:()=>c(!l),children:l?"Ocultar Mapa":"Ver Mapa Completo"}),l&&X.jsx("button",{className:"view-mode-button",onClick:()=>{f((e=>"all"===e?"selected":"all"))},disabled:!u,children:"all"===d?"Ver Solo Seleccionado":"Ver Todos"})]}),l?X.jsxs("div",{className:"map-view-container",children:[X.jsx(kM,{spots:b,onSpotClick:e=>{h(e),r(e.placa||"")},selectedSpot:u}),u&&X.jsxs("div",{className:"selected-vehicle-info",children:[X.jsx("h3",{children:"Vehículo Seleccionado"}),X.jsxs("p",{children:[X.jsx("strong",{children:"Placa:"})," ",u.placa]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Ubicación:"})," Bloque ",u.bloque,", Lugar ",u.numero]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Hora de ingreso:"})," ",u.timestamp?.toLocaleString()]}),X.jsx("button",{className:"focus-vehicle-button",onClick:()=>f("selected"),disabled:"selected"===d,children:"Enfocar en Mapa"})]})]}):X.jsx("div",{className:"admin-parking-list",children:p.length>0?p.map((e=>X.jsxs("div",{className:"admin-parking-item "+(u?.docId===e.docId?"selected-item":""),onClick:()=>{const t={bloque:e.bloque||"A",numero:e.lugar||0,placa:e.placa,timestamp:e.timestamp,docId:e.docId};h(t),c(!0)},children:[e.imageUrl&&X.jsxs("div",{className:"admin-parking-image-container",onClick:t=>{var n;t.stopPropagation(),n=e.imageUrl,a(n),o(!0)},children:[X.jsx("img",{src:e.imageUrl,alt:"Vehículo",className:"admin-parking-image"}),X.jsx("div",{className:"admin-parking-zoom-icon"})]}),X.jsxs("div",{className:"vehicle-info-admin",children:[X.jsxs("p",{children:[X.jsx("strong",{children:"Placa:"})," ",e.placa]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Ubicación:"})," Bloque ",e.bloque||"A",", Lugar ",e.lugar||"N/A"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Hora de ingreso:"})," ",e.timestamp.toLocaleString()]})]})]},e.docId))):X.jsx("p",{className:"admin-parking-empty",children:"No hay vehículos que coincidan con la búsqueda."})}),i&&X.jsx("div",{className:"admin-parking-modal",onClick:g,children:X.jsxs("div",{className:"admin-parking-modal-content",onClick:e=>e.stopPropagation(),children:[X.jsx("button",{className:"close-modal-button",onClick:g,children:"×"}),X.jsx("img",{src:s,alt:"Imagen ampliada",className:"admin-parking-modal-image"})]})})]})};
/*!
             * @kurkle/color v0.3.2
             * https://github.com/kurkle/color#readme
             * (c) 2023 Jukka Kurkela
             * Released under the MIT License
             */
function SM(e){return e+.5|0}const TM=(e,t,n)=>Math.max(Math.min(e,n),t);function CM(e){return TM(SM(2.55*e),0,255)}function IM(e){return TM(SM(255*e),0,255)}function PM(e){return TM(SM(e/2.55)/100,0,1)}function AM(e){return TM(SM(100*e),0,100)}const OM={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},RM=[..."0123456789ABCDEF"],NM=e=>RM[15&e],DM=e=>RM[(240&e)>>4]+RM[15&e],MM=e=>(240&e)>>4==(15&e);function LM(e){var t=(e=>MM(e.r)&&MM(e.g)&&MM(e.b)&&MM(e.a))(e)?NM:DM;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const jM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function FM(e,t,n){const r=t*Math.min(n,1-n),i=(t,i=(t+e/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function $M(e,t,n){const r=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function UM(e,t,n){const r=FM(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function zM(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),o=Math.min(t,n,r),s=(i+o)/2;let a,l,c;return i!==o&&(c=i-o,l=s>.5?c/(2-i-o):c/(i+o),a=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),a=60*a+.5),[0|a,l||0,s]}function VM(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(IM)}function BM(e,t,n){return VM(FM,e,t,n)}function HM(e){return(e%360+360)%360}function WM(e){const t=jM.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?CM(+t[5]):IM(+t[5]));const i=HM(+t[2]),o=+t[3]/100,s=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return VM(UM,e,t,n)}(i,o,s):"hsv"===t[1]?function(e,t,n){return VM($M,e,t,n)}(i,o,s):BM(i,o,s),{r:n[0],g:n[1],b:n[2],a:r}}const qM={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},KM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let GM;function QM(e){GM||(GM=function(){const e={},t=Object.keys(KM),n=Object.keys(qM);let r,i,o,s,a;for(r=0;r<t.length;r++){for(s=a=t[r],i=0;i<n.length;i++)o=n[i],a=a.replace(o,qM[o]);o=parseInt(KM[s],16),e[a]=[o>>16&255,o>>8&255,255&o]}return e}(),GM.transparent=[0,0,0,0]);const t=GM[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const YM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,XM=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,JM=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ZM(e,t,n){if(e){let r=zM(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=BM(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function eL(e,t){return e?Object.assign(t||{},e):e}function tL(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=IM(e[3]))):(t=eL(e,{r:0,g:0,b:0,a:1})).a=IM(t.a),t}function nL(e){return"r"===e.charAt(0)?function(e){const t=YM.exec(e);let n,r,i,o=255;if(t){if(t[7]!==n){const e=+t[7];o=t[8]?CM(e):TM(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?CM(n):TM(n,0,255)),r=255&(t[4]?CM(r):TM(r,0,255)),i=255&(t[6]?CM(i):TM(i,0,255)),{r:n,g:r,b:i,a:o}}}(e):WM(e)}class rL{constructor(e){if(e instanceof rL)return e;const t=typeof e;let n;var r,i,o;"object"===t?n=tL(e):"string"===t&&(o=(r=e).length,"#"===r[0]&&(4===o||5===o?i={r:255&17*OM[r[1]],g:255&17*OM[r[2]],b:255&17*OM[r[3]],a:5===o?17*OM[r[4]]:255}:7!==o&&9!==o||(i={r:OM[r[1]]<<4|OM[r[2]],g:OM[r[3]]<<4|OM[r[4]],b:OM[r[5]]<<4|OM[r[6]],a:9===o?OM[r[7]]<<4|OM[r[8]]:255})),n=i||QM(e)||nL(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=eL(this._rgb);return e&&(e.a=PM(e.a)),e}set rgb(e){this._rgb=tL(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${PM(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?LM(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=zM(e),n=t[0],r=AM(t[1]),i=AM(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${PM(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const o=t===i?.5:t,s=2*o-1,a=n.a-r.a,l=((s*a==-1?s:(s+a)/(1+s*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=JM(PM(e.r)),i=JM(PM(e.g)),o=JM(PM(e.b));return{r:IM(XM(r+n*(JM(PM(t.r))-r))),g:IM(XM(i+n*(JM(PM(t.g))-i))),b:IM(XM(o+n*(JM(PM(t.b))-o))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new rL(this.rgb)}alpha(e){return this._rgb.a=IM(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=SM(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ZM(this._rgb,2,e),this}darken(e){return ZM(this._rgb,2,-e),this}saturate(e){return ZM(this._rgb,1,e),this}desaturate(e){return ZM(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=zM(e);n[0]=HM(n[0]+t),n=BM(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}
/*!
             * Chart.js v4.4.8
             * https://www.chartjs.org
             * (c) 2025 Chart.js Contributors
             * Released under the MIT License
             */function iL(){}const oL=(()=>{let e=0;return()=>e++})();function sL(e){return null==e}function aL(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function lL(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function cL(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function uL(e,t){return cL(e)?e:t}function hL(e,t){return void 0===e?t:e}const dL=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function fL(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function pL(e,t,n,r){let i,o,s;if(aL(e))for(o=e.length,i=0;i<o;i++)t.call(n,e[i],i);else if(lL(e))for(s=Object.keys(e),o=s.length,i=0;i<o;i++)t.call(n,e[s[i]],s[i])}function gL(e,t){let n,r,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function mL(e){if(aL(e))return e.map(mL);if(lL(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=mL(e[n[i]]);return t}return e}function bL(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function yL(e,t,n,r){if(!bL(e))return;const i=t[e],o=n[e];lL(i)&&lL(o)?vL(i,o,r):t[e]=mL(o)}function vL(e,t,n){const r=aL(t)?t:[t],i=r.length;if(!lL(e))return e;const o=(n=n||{}).merger||yL;let s;for(let a=0;a<i;++a){if(s=r[a],!lL(s))continue;const t=Object.keys(s);for(let r=0,i=t.length;r<i;++r)o(t[r],e,s,n)}return e}function wL(e,t){return vL(e,t,{merger:xL})}function xL(e,t,n){if(!bL(e))return;const r=t[e],i=n[e];lL(r)&&lL(i)?wL(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=mL(i))}const _L={"":e=>e,x:e=>e.x,y:e=>e.y};function kL(e,t){const n=_L[t]||(_L[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function EL(e){return e.charAt(0).toUpperCase()+e.slice(1)}const SL=e=>void 0!==e,TL=e=>"function"==typeof e,CL=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},IL=Math.PI,PL=2*IL,AL=PL+IL,OL=Number.POSITIVE_INFINITY,RL=IL/180,NL=IL/2,DL=IL/4,ML=2*IL/3,LL=Math.log10,jL=Math.sign;function FL(e,t,n){return Math.abs(e-t)<n}function $L(e){const t=Math.round(e);e=FL(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(LL(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function UL(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function zL(e,t,n){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function VL(e){return e*(IL/180)}function BL(e){return e*(180/IL)}function HL(e){if(!cL(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function WL(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*IL&&(o+=PL),{angle:o,distance:i}}function qL(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function KL(e,t){return(e-t+AL)%PL-IL}function GL(e){return(e%PL+PL)%PL}function QL(e,t,n,r){const i=GL(e),o=GL(t),s=GL(n),a=GL(o-i),l=GL(s-i),c=GL(i-o),u=GL(i-s);return i===o||i===s||r&&o===s||a>l&&c<u}function YL(e,t,n){return Math.max(t,Math.min(n,e))}function XL(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function JL(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const ZL=(e,t,n,r)=>JL(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),ej=(e,t,n)=>JL(e,n,(r=>e[r][t]>=n)),tj=["push","pop","shift","splice","unshift"];function nj(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(tj.forEach((t=>{delete e[t]})),delete e._chartjs)}function rj(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ij="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function oj(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,ij.call(window,(()=>{r=!1,e.apply(t,n)})))}}const sj=e=>"start"===e?"left":"end"===e?"right":"center",aj=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function lj(e,t,n){const r=t.length;let i=0,o=r;if(e._sorted){const{iScale:s,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=s.axis,{min:h,max:d,minDefined:f,maxDefined:p}=s.getUserBounds();if(f){if(i=Math.min(ZL(l,u,h).lo,n?r:ZL(t,u,s.getPixelForValue(h)).lo),c){const e=l.slice(0,i+1).reverse().findIndex((e=>!sL(e[a.axis])));i-=Math.max(0,e)}i=YL(i,0,r-1)}if(p){let e=Math.max(ZL(l,s.axis,d,!0).hi+1,n?0:ZL(t,u,s.getPixelForValue(d),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!sL(e[a.axis])));e+=Math.max(0,t)}o=YL(e,i,r)-i}else o=r-i}return{start:i,count:o}}function cj(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const uj=e=>0===e||1===e,hj=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*PL/n),dj=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*PL/n)+1,fj={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*NL),easeOutSine:e=>Math.sin(e*NL),easeInOutSine:e=>-.5*(Math.cos(IL*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>uj(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>uj(e)?e:hj(e,.075,.3),easeOutElastic:e=>uj(e)?e:dj(e,.075,.3),easeInOutElastic(e){const t=.1125;return uj(e)?e:e<.5?.5*hj(2*e,t,.45):.5+.5*dj(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-fj.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*fj.easeInBounce(2*e):.5*fj.easeOutBounce(2*e-1)+.5};function pj(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function gj(e){return pj(e)?e:new rL(e)}function mj(e){return pj(e)?e:new rL(e).saturate(.5).darken(.1).hexString()}const bj=["x","y","borderWidth","radius","tension"],yj=["color","borderColor","backgroundColor"],vj=new Map;function wj(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=vj.get(n);return r||(r=new Intl.NumberFormat(e,t),vj.set(n,r)),r}(t,n).format(e)}const xj={values:e=>aL(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,o=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),o=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}(e,n)}const s=LL(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),wj(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(LL(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?xj.numeric.call(this,e,t,n):""}};var _j={formatters:xj};const kj=Object.create(null),Ej=Object.create(null);function Sj(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function Tj(e,t,n){return"string"==typeof t?vL(Sj(e,t),n):vL(Sj(e,""),t)}class Cj{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>mj(t.backgroundColor),this.hoverBorderColor=(e,t)=>mj(t.borderColor),this.hoverColor=(e,t)=>mj(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Tj(this,e,t)}get(e){return Sj(this,e)}describe(e,t){return Tj(Ej,e,t)}override(e,t){return Tj(kj,e,t)}route(e,t,n,r){const i=Sj(this,e),o=Sj(this,n),s="_"+t;Object.defineProperties(i,{[s]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=o[r];return lL(e)?Object.assign({},t,e):hL(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach((e=>e(this)))}}var Ij=new Cj({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:yj},numbers:{type:"number",properties:bj}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_j.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Pj(e,t,n,r,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>r&&(r=o),r}function Aj(e,t,n,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},o=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let s=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],null==h||aL(h)){if(aL(h))for(c=0,u=h.length;c<u;c++)d=h[c],null==d||aL(d)||(s=Pj(e,i,o,s,d))}else s=Pj(e,i,o,s,h);e.restore();const f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[o[l]];o.splice(0,f)}return s}function Oj(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Rj(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Nj(e,t,n,r){Dj(e,t,n,r,null)}function Dj(e,t,n,r,i){let o,s,a,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*RL;if(f&&"object"==typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,g,0,0,PL):e.arc(n,r,g,0,PL),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=ML,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=ML,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,s=Math.cos(m+DL)*l,h=Math.cos(m+DL)*(i?i/2-c:l),a=Math.sin(m+DL)*l,d=Math.sin(m+DL)*(i?i/2-c:l),e.arc(n-h,r-a,c,m-IL,m-NL),e.arc(n+d,r-s,c,m-NL,m),e.arc(n+h,r+a,c,m,m+NL),e.arc(n-d,r+s,c,m+NL,m+IL),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}m+=DL;case"rectRot":h=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+d,r-s),e.lineTo(n+h,r+a),e.lineTo(n-d,r+s),e.closePath();break;case"crossRot":m+=DL;case"cross":h=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-s),e.lineTo(n-d,r+s);break;case"star":h=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-s),e.lineTo(n-d,r+s),m+=DL,h=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-s),e.lineTo(n-d,r+s);break;case"line":s=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-s,r-a),e.lineTo(n+s,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Mj(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Lj(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function jj(e){e.restore()}function Fj(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function $j(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Uj(e,t,n,r,i){if(i.strikethrough||i.underline){const o=e.measureText(r),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,u),e.lineTo(a,u),e.stroke()}}function zj(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Vj(e,t,n,r,i,o={}){const s=aL(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),sL(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&zj(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),sL(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,n,r,o.maxWidth)),e.fillText(c,n,r,o.maxWidth),Uj(e,n,r,c,o),r+=Number(i.lineHeight);e.restore()}function Bj(e,t){const{x:n,y:r,w:i,h:o,radius:s}=t;e.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*IL,IL,!0),e.lineTo(n,r+o-s.bottomLeft),e.arc(n+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,IL,NL,!0),e.lineTo(n+i-s.bottomRight,r+o),e.arc(n+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,NL,0,!0),e.lineTo(n+i,r+s.topRight),e.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-NL,!0),e.lineTo(n+s.topLeft,r)}const Hj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Wj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function qj(e,t){const n=(""+e).match(Hj);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Kj=e=>+e||0;function Gj(e,t){const n={},r=lL(t),i=r?Object.keys(t):t,o=lL(e)?r?n=>hL(e[n],e[t[n]]):t=>e[t]:()=>e;for(const s of i)n[s]=Kj(o(s));return n}function Qj(e){return Gj(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Yj(e){return Gj(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Xj(e){const t=Qj(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Jj(e,t){e=e||{},t=t||Ij.font;let n=hL(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let r=hL(e.style,t.style);r&&!(""+r).match(Wj)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:hL(e.family,t.family),lineHeight:qj(hL(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:hL(e.weight,t.weight),string:""};return i.string=function(e){return!e||sL(e.size)||sL(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Zj(e,t,n,r){let i,o,s;for(i=0,o=e.length;i<o;++i)if(s=e[i],void 0!==s&&void 0!==s)return s}function eF(e,t){return Object.assign(Object.create(e),t)}function tF(e,t=[""],n,r,i=(()=>e[0])){const o=n||e;void 0===r&&(r=dF("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:r,_getTarget:i,override:n=>tF([n,...e],t,o,r)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>sF(n,r,(()=>function(e,t,n,r){let i;for(const o of t)if(i=dF(iF(o,e),n),void 0!==i)return oF(e,i)?uF(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>fF(e).includes(t),ownKeys:e=>fF(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function nF(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:rF(e,r),setContext:t=>nF(e,t,n,r),override:i=>nF(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>sF(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=e;let a=r[t];return TL(a)&&s.isScriptable(t)&&(a=function(e,t,n,r){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,s||r);return a.delete(e),oF(e,l)&&(l=uF(i._scopes,i,e,l)),l}(t,a,e,n)),aL(a)&&a.length&&(a=function(e,t,n,r){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=n;if(void 0!==o.index&&r(e))return t[o.index%t.length];if(lL(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=uF(r,i,e,l);t.push(nF(n,o,s&&s[e],a))}}return t}(t,a,e,s.isIndexable)),oF(t,a)&&(a=nF(a,i,o&&o[t],s)),a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function rF(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:TL(n)?n:()=>n,isIndexable:TL(r)?r:()=>r}}const iF=(e,t)=>e?e+EL(t):t,oF=(e,t)=>lL(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function sF(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function aF(e,t,n){return TL(e)?e(t,n):e}const lF=(e,t)=>!0===e?t:"string"==typeof e?kL(t,e):void 0;function cF(e,t,n,r,i){for(const o of t){const t=lF(n,o);if(t){e.add(t);const o=aF(t._fallback,n,i);if(void 0!==o&&o!==n&&o!==r)return o}else if(!1===t&&void 0!==r&&n!==r)return null}return!1}function uF(e,t,n,r){const i=t._rootScopes,o=aF(t._fallback,n,r),s=[...e,...i],a=new Set;a.add(r);let l=hF(a,s,n,o||n,r);return null!==l&&(void 0===o||o===n||(l=hF(a,s,o,l,r),null!==l))&&tF(Array.from(a),[""],i,o,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return aL(i)&&lL(n)?n:i||{}}(t,n,r)))}function hF(e,t,n,r,i){for(;n;)n=cF(e,t,n,r,i);return n}function dF(e,t){for(const n of t){if(!n)continue;const t=n[e];if(void 0!==t)return t}}function fF(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function pF(e,t,n,r){const{iScale:i}=e,{key:o="r"}=this._parsing,s=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=t[c],s[a]={r:i.parse(kL(u,o),c)};return s}const gF=Number.EPSILON||1e-14,mF=(e,t)=>t<e.length&&!e[t].skip&&e[t],bF=e=>"x"===e?"y":"x";function yF(e,t,n,r){const i=e.skip?t:e,o=t,s=n.skip?t:n,a=qL(o,i),l=qL(s,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:o.x-h*(s.x-i.x),y:o.y-h*(s.y-i.y)},next:{x:o.x+d*(s.x-i.x),y:o.y+d*(s.y-i.y)}}}function vF(e,t="x"){const n=bF(t),r=e.length,i=Array(r).fill(0),o=Array(r);let s,a,l,c=mF(e,0);for(s=0;s<r;++s)if(a=l,l=c,c=mF(e,s+1),l){if(c){const e=c[t]-l[t];i[s]=0!==e?(c[n]-l[n])/e:0}o[s]=a?c?jL(i[s-1])!==jL(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}!function(e,t,n){const r=e.length;let i,o,s,a,l,c=mF(e,0);for(let u=0;u<r-1;++u)l=c,c=mF(e,u+1),l&&c&&(FL(t[u],0,gF)?n[u]=n[u+1]=0:(i=n[u]/t[u],o=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),n[u]=i*s*t[u],n[u+1]=o*s*t[u])))}(e,i,o),function(e,t,n="x"){const r=bF(n),i=e.length;let o,s,a,l=mF(e,0);for(let c=0;c<i;++c){if(s=a,a=l,l=mF(e,c+1),!a)continue;const i=a[n],u=a[r];s&&(o=(i-s[n])/3,a[`cp1${n}`]=i-o,a[`cp1${r}`]=u-o*t[c]),l&&(o=(l[n]-i)/3,a[`cp2${n}`]=i+o,a[`cp2${r}`]=u+o*t[c])}}(e,o,t)}function wF(e,t,n){return Math.max(Math.min(e,n),t)}function xF(e,t,n,r,i){let o,s,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)vF(e,i);else{let n=r?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],l=yF(n,a,e[Math.min(o+1,s-(r?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,r,i,o,s,a=Mj(e[0],t);for(n=0,r=e.length;n<r;++n)s=o,o=a,a=n<r-1&&Mj(e[n+1],t),o&&(i=e[n],s&&(i.cp1x=wF(i.cp1x,t.left,t.right),i.cp1y=wF(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=wF(i.cp2x,t.left,t.right),i.cp2y=wF(i.cp2y,t.top,t.bottom)))}(e,n)}function _F(){return"undefined"!=typeof window&&"undefined"!=typeof document}function kF(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function EF(e,t,n){let r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const SF=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),TF=["top","right","bottom","left"];function CF(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=TF[i];r[o]=parseFloat(e[t+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const IF=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function PF(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=SF(n),o="border-box"===i.boxSizing,s=CF(i,"padding"),a=CF(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:o}=r;let s,a,l=!1;if(IF(i,o,e.target))s=i,a=o;else{const e=t.getBoundingClientRect();s=r.clientX-e.left,a=r.clientY-e.top,l=!0}return{x:s,y:a,box:l}}(e,n),h=s.left+(u&&a.left),d=s.top+(u&&a.top);let{width:f,height:p}=t;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const AF=e=>Math.round(10*e)/10;function OF(e,t,n,r){const i=SF(e),o=CF(i,"margin"),s=EF(i.maxWidth,e,"clientWidth")||OL,a=EF(i.maxHeight,e,"clientHeight")||OL,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const o=e&&kF(e);if(o){const e=o.getBoundingClientRect(),s=SF(o),a=CF(s,"border","width"),l=CF(s,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,r=EF(s.maxWidth,o,"clientWidth"),i=EF(s.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||OL,maxHeight:i||OL}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=CF(i,"border","width"),t=CF(i,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=AF(Math.min(c,s,l.maxWidth)),u=AF(Math.min(u,a,l.maxHeight)),c&&!u&&(u=AF(c/2)),(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=AF(Math.floor(u*r))),{width:c,height:u}}function RF(e,t,n){const r=t||1,i=Math.floor(e.height*r),o=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||s.height!==i||s.width!==o)&&(e.currentDevicePixelRatio=r,s.height=i,s.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0)}const NF=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};_F()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(ob){}return e}();function DF(e,t){const n=function(e,t){return SF(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function MF(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function LF(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function jF(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},s=MF(e,i,n),a=MF(i,o,n),l=MF(o,t,n),c=MF(s,a,n),u=MF(a,l,n);return MF(c,u,n)}function FF(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function $F(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function UF(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function zF(e){return"angle"===e?{between:QL,compare:KL,normalize:GL}:{between:XL,compare:(e,t)=>e-t,normalize:e=>e}}function VF({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n==0,style:i}}function BF(e,t,n){if(!n)return[e];const{property:r,start:i,end:o}=n,s=t.length,{compare:a,between:l,normalize:c}=zF(r),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:r,start:i,end:o}=n,{between:s,normalize:a}=zF(r),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&s(a(t[h%l][r]),i,o);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let g,m,b,y=!1,v=null;const w=()=>y||l(i,b,g)&&0!==a(i,b),x=()=>!y||0===a(o,g)||l(o,b,g);for(let _=u,k=u;_<=h;++_)m=t[_%s],m.skip||(g=c(m[r]),g!==b&&(y=l(g,i,o),null===v&&w()&&(v=0===a(g,i)?_:k),null!==v&&x()&&(p.push(VF({start:v,end:_,loop:d,count:s,style:f})),v=null),k=_,b=g));return null!==v&&p.push(VF({start:v,end:h,loop:d,count:s,style:f})),p}function HF(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const o=BF(r[i],e.points,t);o.length&&n.push(...o)}return n}function WF(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),o=qF(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=n.length,c=[];let u=o,h=t[0].start,d=h;function f(e,t,r,i){const o=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=o;for(;n[t%l].skip;)t+=o;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,h=t%l)}}for(const p of t){h=a?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const o=n[d%l];e=qF(r.setContext(eF(i,{type:"segment",p0:t,p1:o,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),KF(e,u)&&f(h,d-1,p.loop,u),t=o,u=e}h<d-1&&f(h,d-1,p.loop,u)}return c}(e,t,n,r):t}function qF(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function KF(e,t){if(!t)return!1;const n=[],r=function(e,t){return pj(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}
/*!
             * Chart.js v4.4.8
             * https://www.chartjs.org
             * (c) 2025 Chart.js Contributors
             * Released under the MIT License
             */class GF{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],o=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=ij.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,s=i.length-1,a=!1;for(;s>=0;--s)o=i[s],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(e),a=!0):(i[s]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var QF=new GF;const YF="transparent",XF={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=gj(e||YF),i=r.valid&&gj(t||YF);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class JF{constructor(e,t,n,r){const i=t[n];r=Zj([e.to,r,i,e.from]);const o=Zj([e.from,i,r]);this._active=!0,this._fn=e.fn||XF[e.type||typeof o],this._easing=fj[e.easing]||fj.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Zj([e.to,t,r,e.from]),this._from=Zj([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,s=this._to;let a;if(this._active=i!==s&&(o||t<n),!this._active)return this._target[r]=s,void this._notify(!0);t<0?this._target[r]=i:(a=t/n%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,s,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class ZF{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!lL(e))return;const t=Object.keys(Ij.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!lL(i))return;const o={};for(const e of t)o[e]=i[e];(aL(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,o)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,s);continue}u.cancel()}h&&h.duration?(i[l]=u=new JF(h,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(QF.add(this._chart,n),!0):void 0}}function e$(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:r?o:i,end:r?i:o}}function t$(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function n$(e,t,n,r={}){const i=e.keys,o="single"===r.mode;let s,a,l,c;if(null===t)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===n){if(u=!0,r.all)continue;break}c=e.values[l],cL(c)&&(o||0===t||jL(t)===jL(c))&&(t+=c)}return u||r.all?t:0}function r$(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function i$(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function o$(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function s$(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,c=s.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(o,s,r),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[c]:o}=e;d=(e._stacks||(e._stacks={}))[c]=i$(i,u,n),d[a]=o,d._top=o$(d,s,!0,r.type),d._bottom=o$(d,s,!1,r.type),(d._visualValues||(d._visualValues={}))[a]=o}}function a$(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function l$(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const c$=e=>"reset"===e||"none"===e,u$=(e,t)=>t?e:Object.assign({},e);class h${static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=r$(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&l$(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=hL(n.xAxisID,a$(e,"x")),o=t.yAxisID=hL(n.yAxisID,a$(e,"y")),s=t.rAxisID=hL(n.rAxisID,a$(e,"r")),a=t.indexAxis,l=t.iAxisID=r(a,i,o,s),c=t.vAxisID=r(a,o,i,s);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&nj(this._data,this),e._stacked&&l$(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(lL(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",o="x"===r.axis?"x":"y",s=Object.keys(e),a=new Array(s.length);let l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[i]:u,[o]:e[u]};return a}(t,e)}else if(n!==t){if(n){nj(n,this);const e=this._cachedMeta;l$(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),tj.forEach((e=>{const t="_onData"+EL(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(...e){const i=n.apply(this,e);return r._chartjs.listeners.forEach((n=>{"function"==typeof n[t]&&n[t](...e)})),i}})})))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=r$(t.vScale,t),t.stack!==n.stack&&(r=!0,l$(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(s$(this,t._parsed),t._stacked=r$(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,s=i.axis;let a,l,c,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=aL(r[e])?this.parseArrayData(n,r,e,t):lL(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[s]||h&&l[s]<h[s];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(i()&&(u=!1),h=l);n._sorted=u}o&&s$(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:o}=e,s=i.axis,a=o.axis,l=i.getLabels(),c=i===o,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[s]:c||i.parse(l[f],f),[a]:o.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:o}=e,s=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=t[c],s[a]={x:i.parse(u[0],c),y:o.parse(u[1],c)};return s}parseObjectData(e,t,n,r){const{xScale:i,yScale:o}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=t[h],l[c]={x:i.parse(kL(d,s),h),y:o.parse(kL(d,a),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,o=t[e.axis];return n$({keys:t$(r,!0),values:t._stacks[e.axis]._visualValues},o,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let o=null===i?NaN:i;const s=r&&n._stacks[t.axis];r&&s&&(r.values=s,o=n$(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,o=r.length,s=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:t$(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(s);let h,d;function f(){d=r[h];const t=d[s.axis];return!cL(d[e.axis])||c>t||u<t}for(h=0;h<o&&(f()||(this.updateRangeFromParsed(l,e,d,a),!i));++h);if(i)for(h=o-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r][e.axis],cL(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return lL(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(hL(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=e$(e,n),i=e$(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||r.length-s,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,s,a),c=s;c<s+a;++c){const t=r[c];t.hidden||(t.active&&l?o.push(t):t.draw(e,i))}for(c=0;c<o.length;++c)o[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return eF(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return eF(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const r="active"===t,i=this._cachedDataOpts,o=e+"-"+t,s=i[o],a=this.enableOptionSharing&&SL(n);if(s)return u$(s,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Ij.elements[e]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,t)),u);return f.$shared&&(f.$shared=a,i[o]=Object.freeze(u$(f,a))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,s=i[o];if(s)return s;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),o=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(o,this.getContext(e,n,t))}const l=new ZF(r,a&&a.animations);return a&&a._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||c$(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:o}}updateElement(e,t,n,r){c$(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!c$(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[s,a,l]of this._syncList)this[s](a,l);this._syncList=[];const r=n.length,i=t.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t,n=!0){const r=this._cachedMeta,i=r.data,o=e+t;let s;const a=e=>{for(e.length+=t,s=e.length-1;s>=o;s--)e[s]=e[s-t]};for(a(i),s=e;s<o;++s)i[s]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&l$(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function d$(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=rj(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,o,s,a=t._length;const l=()=>{32767!==o&&-32768!==o&&(SL(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(r=0,i=n.length;r<i;++r)o=t.getPixelForValue(n[r]),l();for(s=void 0,r=0,i=t.ticks.length;r<i;++r)o=t.getPixelForTick(r),l();return a}function f$(e,t,n,r){return aL(e)?function(e,t,n,r){const i=n.parse(e[0],r),o=n.parse(e[1],r),s=Math.min(i,o),a=Math.max(i,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:s,max:a}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function p$(e,t,n,r){const i=e.iScale,o=e.vScale,s=i.getLabels(),a=i===o,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=t[c],h={},h[i.axis]=a||i.parse(s[c],c),l.push(f$(d,h,o,c));return l}function g$(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function m$(e,t,n,r){let i=t.borderSkipped;const o={};if(!i)return void(e.borderSkipped=o);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,o;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:t,top:i,bottom:o}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(o[b$(u,s,a,l)]=!0,i=c)),o[b$(i,s,a,l)]=!0,e.borderSkipped=o}function b$(e,t,n,r){var i,o,s;return r?(s=n,e=y$(e=(i=e)===(o=t)?s:i===s?o:i,n,t)):e=y$(e,t,n),e}function y$(e,t,n){return"start"===e?t:"end"===e?n:e}function v$(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}class w$ extends h${static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return p$(e,t,n,r)}parseArrayData(e,t,n,r){return p$(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:o}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===i.axis?s:a,c="x"===o.axis?s:a,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=t[h],f={},f[i.axis]=i.parse(kL(p,l),h),u.push(f$(kL(p,c),f,o,h));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),o=i._custom,s=g$(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=i||sL(t[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[s.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||g$(t._custom)||o===p._top||o===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const m=g.options||e[d].options;m$(g,m,p,o),v$(g,m,c.ratio),this.updateElement(e[d],d,g,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,o=[],s=this._cachedMeta.controller.getParsed(t),a=s&&s[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===a)),r=t&&t[e.vScale.axis];if(sL(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===i||-1===o.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&o.push(c.stack),c.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,o;for(i=0,o=t.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const s=e.barThickness;return{min:s||d$(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,s=i||0,a=this.getParsed(e),l=a._custom,c=g$(l);let u,h,d=a[t.axis],f=0,p=n?this.applyStack(t,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&jL(d)!==jL(l.barEnd)&&(f=0),f+=d);const g=sL(i)||c?f:i;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<o){h=function(e,t,n){return 0!==e?jL(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,s)*o,d===s&&(m-=h/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(s)){const e=jL(h)*t.getLineWidthForValue(s)/2;m+=e,h-=e}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,o=hL(r.maxBarThickness,1/0);let s,a;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,o=i[e];let s=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const i=n.barThickness;let o,s;return sL(i)?(o=t.min*n.categoryPercentage,s=n.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:t.pixels[e]-o/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);s=l.start+l.chunk*c+l.chunk/2,a=Math.min(o,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(o,t.min*t.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}class x$ extends h${static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,o,s=e=>+n[e];if(lL(n[e])){const{key:e="value"}=this._parsing;s=t=>+kL(n[t],e)}for(i=e,o=e+t;i<o;++i)r._parsed[i]=s(i)}}_getRotation(){return VL(this.options.rotation-90)}_getCircumference(){return VL(this.options.circumference)}_getRotationExtents(){let e=PL,t=-PL;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-o)/2,0),a=Math.min((l=this.options.cutout,c=s,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(e,t,n){let r=1,i=1,o=0,s=0;if(t<PL){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(e,t,r)=>QL(e,a,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>QL(e,a,l,!0)?-1:Math.min(t,t*n,r,r*n),g=f(0,c,h),m=f(NL,u,d),b=p(IL,c,h),y=p(IL+NL,u,d);r=(g-b)/2,i=(m-y)/2,o=-(g+b)/2,s=-(m+y)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}(d,h,a),b=(n.width-o)/f,y=(n.height-o)/p,v=Math.max(Math.min(b,y)/2,0),w=dL(this.options.radius,v),x=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,r.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/PL)}updateElements(e,t,n,r){const i="reset"===r,o=this.chart,s=o.chartArea,a=o.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,u=i&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,i);for(g=t;g<t+n;++g){const t=this._circumference(g,i),n=e[g],o={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:h};p&&(o.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=t,this.updateElement(n,g,o,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?PL*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=wj(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,o,s,a;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,s=o.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)a=s.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(hL(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class _$ extends h${static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,o=this.chart._animationsDisabled;let{start:s,count:a}=lj(t,r,o);this._drawStart=s,this._drawCount=a,cj(t)&&(s=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},e),this.updateElements(r,s,a,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:o,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),h=o.axis,d=s.axis,{spanGaps:f,segment:p}=this.options,g=UL(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,b=t+n,y=e.length;let v=t>0&&this.getParsed(t-1);for(let w=0;w<y;++w){const n=e[w],f=m?n:{};if(w<t||w>=b){f.skip=!0;continue}const y=this.getParsed(w),x=sL(y[d]),_=f[h]=o.getPixelForValue(y[h],w),k=f[d]=i||x?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,y,a):y[d],w);f.skip=isNaN(_)||isNaN(k)||x,f.stop=w>0&&Math.abs(y[h]-v[h])>g,p&&(f.parsed=y,f.raw=l.data[w]),u&&(f.options=c||this.resolveDataElementOptions(w,n.active?"active":r)),m||this.updateElement(n,w,f,r),v=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class k$ extends h${static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=wj(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return pF.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),o=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,r){const i="reset"===r,o=this.chart,s=o.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*IL;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,r,f);for(h=t;h<t+n;h++){const t=e[h];let n=d,p=d+this._computeAngle(h,r,f),g=o.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(s.animateScale&&(g=0),s.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,t.active?"active":r)};this.updateElement(t,h,m,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?VL(this.resolveDataElementOptions(e,t).angle||n):0}}var E$=Object.freeze({__proto__:null,BarController:w$,BubbleController:class extends h${static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let o=0;o<i.length;o++){const e=t[n+o];i[o]._custom=hL(e[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let o=0;o<i.length;o++){const e=t[n+o];i[o]._custom=hL(e&&e.r&&+e.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),s=r.getLabelForValue(o.x),a=i.getLabelForValue(o.y),l=o._custom;return{label:n[e]||"",value:"("+s+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,r),c=o.axis,u=s.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!i&&this.getParsed(h),d={},f=d[c]=i?o.getPixelForDecimal(.5):o.getPixelForValue(n[c]),p=d[u]=i?s.getBasePixel():s.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,t.active?"active":r),i&&(d.options.radius=0)),this.updateElement(t,h,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=hL(n&&n._custom,i),r}},DoughnutController:x$,LineController:_$,PieController:class extends x${static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:k$,RadarController:class extends h${static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return pF.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,o="reset"===r;for(let s=t;s<t+n;s++){const t=e[s],n=this.resolveDataElementOptions(s,t.active?"active":r),a=i.getPointPositionForValue(s,this.getParsed(s).r),l=o?i.xCenter:a.x,c=o?i.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,s,u,r)}}},ScatterController:class extends h${static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),s=r.getLabelForValue(o.x),a=i.getLabelForValue(o.y);return{label:n[e]||"",value:"("+s+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:o}=lj(t,n,r);if(this._drawStart=i,this._drawCount=o,cj(t)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:o}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:o,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),h=this.includeOptions(r,u),d=o.axis,f=s.axis,{spanGaps:p,segment:g}=this.options,m=UL(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===r;let y=t>0&&this.getParsed(t-1);for(let v=t;v<t+n;++v){const t=e[v],n=this.getParsed(v),c=b?t:{},p=sL(n[f]),w=c[d]=o.getPixelForValue(n[d],v),x=c[f]=i||p?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,n,a):n[f],v);c.skip=isNaN(w)||isNaN(x)||p,c.stop=v>0&&Math.abs(n[d]-y[d])>m,g&&(c.parsed=n,c.raw=l.data[v]),h&&(c.options=u||this.resolveDataElementOptions(v,t.active?"active":r)),b||this.updateElement(t,v,c,r),y=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,o)/2}}});function S$(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class T${static override(e){Object.assign(T$.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return S$()}parse(){return S$()}format(){return S$()}add(){return S$()}diff(){return S$()}startOf(){return S$()}endOf(){return S$()}}var C$=T$;function I$(e,t,n,r){const{controller:i,data:o,_sorted:s}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&"r"!==t&&s&&o.length){const s=a._reversePixels?ej:ZL;if(!r){const r=s(o,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,o=n.slice(0,r.lo+1).reverse().findIndex((e=>!sL(e[t.axis])));r.lo-=Math.max(0,o);const s=n.slice(r.hi).findIndex((e=>!sL(e[t.axis])));r.hi+=Math.max(0,s)}return r}if(i._sharedOptions){const e=o[0],r="function"==typeof e.getRange&&e.getRange(t);if(r){const e=s(o,t,n-r),i=s(o,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:o.length-1}}function P$(e,t,n,r,i){const o=e.getSortedVisibleDatasetMetas(),s=n[t];for(let a=0,l=o.length;a<l;++a){const{index:e,data:n}=o[a],{lo:l,hi:c}=I$(o[a],t,s,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function A$(e,t,n,r,i){const o=[];return i||e.isPointInArea(t)?(P$(e,n,t,(function(n,s,a){(i||Mj(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&o.push({element:n,datasetIndex:s,index:a})}),!0),o):o}function O$(e,t,n,r,i,o){let s=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return P$(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!o&&!e.isPointInArea(d)&&!h)return;const f=a(t,d);f<l?(s=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&s.push({element:n,datasetIndex:c,index:u})})),s}function R$(e,t,n,r,i,o){return o||e.isPointInArea(t)?"r"!==n||r?O$(e,t,n,r,i,o):function(e,t,n,r){let i=[];return P$(e,n,t,(function(e,n,o){const{startAngle:s,endAngle:a}=e.getProps(["startAngle","endAngle"],r),{angle:l}=WL(e,{x:t.x,y:t.y});QL(l,s,a)&&i.push({element:e,datasetIndex:n,index:o})})),i}(e,t,n,i):[]}function N$(e,t,n,r,i){const o=[],s="x"===n?"inXRange":"inYRange";let a=!1;return P$(e,n,t,((e,r,l)=>{e[s]&&e[s](t[n],i)&&(o.push({element:e,datasetIndex:r,index:l}),a=a||e.inRange(t.x,t.y,i))})),r&&!a?[]:o}var D$={evaluateInteractionItems:P$,modes:{index(e,t,n,r){const i=PF(t,e),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?A$(e,i,o,r,s):R$(e,i,o,!1,r,s),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=PF(t,e),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?A$(e,i,o,r,s):R$(e,i,o,!1,r,s);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,r)=>A$(e,PF(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=PF(t,e),o=n.axis||"xy",s=n.includeInvisible||!1;return R$(e,i,o,n.intersect,r,s)},x:(e,t,n,r)=>N$(e,PF(t,e),"x",n.intersect,r),y:(e,t,n,r)=>N$(e,PF(t,e),"y",n.intersect,r)}};const M$=["left","top","right","bottom"];function L$(e,t){return e.filter((e=>e.pos===t))}function j$(e,t){return e.filter((e=>-1===M$.indexOf(e.pos)&&e.box.axis===t))}function F$(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function $$(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!M$.includes(r))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];const{fullSize:s}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*r:s&&t.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:s&&t.availableHeight)}return n}function U$(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function z$(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function V$(e,t,n,r){const{pos:i,box:o}=n,s=e.maxPadding;if(!lL(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?o.height:o.width),n.size=t.size/t.count,e[i]+=n.size}o.getPadding&&z$(s,o.getPadding());const a=Math.max(0,t.outerWidth-U$(s,e,"left","right")),l=Math.max(0,t.outerHeight-U$(s,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function B$(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function H$(e,t,n,r){const i=[];let o,s,a,l,c,u;for(o=0,s=e.length,c=0;o<s;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,B$(a.horizontal,t));const{same:s,other:h}=V$(t,n,a,r);c|=s&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&H$(i,t,n,r)||u}function W$(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function q$(e,t,n,r){const i=n.padding;let{x:o,y:s}=t;for(const a of e){const e=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const r=t.w*c,o=l.size||e.height;SL(l.start)&&(s=l.start),e.fullSize?W$(e,i.left,s,n.outerWidth-i.right-i.left,o):W$(e,t.left+l.placed,s,r,o),l.start=s,l.placed+=r,s=e.bottom}else{const r=t.h*c,s=l.size||e.width;SL(l.start)&&(o=l.start),e.fullSize?W$(e,o,i.top,s,n.outerHeight-i.bottom-i.top):W$(e,o,t.top+l.placed,s,r),l.start=o,l.placed+=r,o=e.right}}t.x=o,t.y=s}var K$={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Xj(e.options.layout.padding),o=Math.max(t-i.width,0),s=Math.max(n-i.height,0),a=function(e){const t=function(e){const t=[];let n,r,i,o,s,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:o,options:{stack:s,stackWeight:a=1}}=i),t.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return t}(e),n=F$(t.filter((e=>e.box.fullSize)),!0),r=F$(L$(t,"left"),!0),i=F$(L$(t,"right")),o=F$(L$(t,"top"),!0),s=F$(L$(t,"bottom")),a=j$(t,"x"),l=j$(t,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:L$(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;pL(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),d=Object.assign({},i);z$(d,Xj(r));const f=Object.assign({maxPadding:d,w:o,h:s,x:i.left,y:i.top},i),p=$$(l.concat(c),h);H$(a.fullSize,f,h,p),H$(l,f,h,p),H$(c,f,h,p)&&H$(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),q$(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,q$(a.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},pL(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class G${acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Q$ extends G${acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Y$="$chartjs",X$={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},J$=e=>null===e||""===e,Z$=!!NF&&{passive:!0};function eU(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Z$)}function tU(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function nU(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||tU(n.addedNodes,r),t=t&&!tU(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function rU(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||tU(n.removedNodes,r),t=t&&!tU(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const iU=new Map;let oU=0;function sU(){const e=window.devicePixelRatio;e!==oU&&(oU=e,iU.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function aU(e,t,n){const r=e.canvas,i=r&&kF(r);if(!i)return;const o=oj(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),s=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||o(n,r)}));return s.observe(i),function(e,t){iU.size||window.addEventListener("resize",sU),iU.set(e,t)}(e,o),s}function lU(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){iU.delete(e),iU.size||window.removeEventListener("resize",sU)}(e)}function cU(e,t,n){const r=e.canvas,i=oj((t=>{null!==e.ctx&&n(function(e,t){const n=X$[e.type]||e.type,{x:r,y:i}=PF(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,Z$)}(r,t,i),i}class uU extends G${acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Y$]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",J$(i)){const t=DF(e,"width");void 0!==t&&(e.width=t)}if(J$(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=DF(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Y$])return!1;const n=t[Y$].initial;["height","width"].forEach((e=>{const r=n[e];sL(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[Y$],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:nU,detach:rU,resize:aU}[t]||cU;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:lU,detach:lU,resize:lU}[t]||eU)(e,t,r),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return OF(e,t,n,r)}isAttached(e){const t=e&&kF(e);return!(!t||!t.isConnected)}}let hU=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return UL(this.x)&&UL(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}};function dU(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>i)return function(e,t,n,r){let i,o=0,s=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===s&&(t.push(e[i]),o++,s=n[o*r])}(t,c,o,s/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const o=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r==0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let s=0,a=o.length-1;s<a;s++){const e=o[s];if(e>i)return e}return Math.max(i,1)}(o,t,i);if(s>0){let e,n;const r=s>1?Math.round((l-a)/(s-1)):null;for(fU(t,c,u,sL(r)?0:a-r,a),e=0,n=s-1;e<n;e++)fU(t,c,u,o[e],o[e+1]);return fU(t,c,u,l,sL(r)?t.length:l+r),c}return fU(t,c,u),c}function fU(e,t,n,r,i){const o=hL(r,0),s=Math.min(hL(i,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<s;l++)l===c&&(t.push(e[l]),u++,c=Math.round(o+u*n))}const pU=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,gU=(e,t)=>Math.min(t||e,e);function mU(e,t){const n=[],r=e.length/t,i=e.length;let o=0;for(;o<i;o+=r)n.push(e[Math.floor(o)]);return n}function bU(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),o=e._startPixel,s=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-o,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<o-a||c>s+a)))return c}function yU(e){return e.drawTicks?e.tickLength:0}function vU(e,t){if(!e.display)return 0;const n=Jj(e.font,t),r=Xj(e.padding);return(aL(e.text)?e.text.length:1)*n.lineHeight+r.height}function wU(e,t,n){let r=sj(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class xU extends hU{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=uL(e,Number.POSITIVE_INFINITY),t=uL(t,Number.NEGATIVE_INFINITY),n=uL(n,Number.POSITIVE_INFINITY),r=uL(r,Number.NEGATIVE_INFINITY),{min:uL(e,n),max:uL(t,r),minDefined:cL(e),maxDefined:cL(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)t=s[a].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),o||(r=Math.max(r,t.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:uL(n,uL(r,n)),max:uL(r,uL(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fL(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,o=dL(t,(i-r)/2),s=(e,t)=>n&&0===e?0:e+t;return{min:s(r,-Math.abs(o)),max:s(i,o)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?mU(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=dU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fL(this.options.afterUpdate,[this])}beforeSetDimensions(){fL(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fL(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),fL(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fL(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=fL(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){fL(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fL(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=gU(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let o,s,a,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=YL(this.chart.width-u,0,this.maxWidth);o=e.offset?this.maxWidth/n:d/(n-1),u+6>o&&(o=d/(n-(e.offset?.5:1)),s=this.maxHeight-yU(e.grid)-t.padding-vU(e.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=BL(Math.min(Math.asin(YL((c.highest.height+6)/o,-1,1)),Math.asin(YL(s/a,-1,1))-Math.asin(YL(h/a,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){fL(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fL(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const o=vU(r,t.options.font);if(s?(e.width=this.maxWidth,e.height=yU(i)+o):(e.height=this.maxHeight,e.width=yU(i)+o),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:o}=this._getLabelSizes(),a=2*n.padding,l=VL(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const t=n.mirror?0:u*i.width+c*o.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*i.width+u*o.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:o},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=r*e.width,h=n*t.height):(u=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fL(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)sL(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=mU(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,o=[],s=[],a=Math.floor(t/gU(t,n));let l,c,u,h,d,f,p,g,m,b,y,v=0,w=0;for(l=0;l<t;l+=a){if(h=e[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},g=d.lineHeight,m=b=0,sL(h)||aL(h)){if(aL(h))for(c=0,u=h.length;c<u;++c)y=h[c],sL(y)||aL(y)||(m=Pj(r,p.data,p.gc,m,y),b+=g)}else m=Pj(r,p.data,p.gc,m,h),b=g;o.push(m),s.push(b),v=Math.max(m,v),w=Math.max(b,w)}!function(e,t){pL(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const x=o.indexOf(v),_=s.indexOf(w),k=e=>({width:o[e]||0,height:s[e]||0});return{first:k(0),last:k(t-1),widest:k(x),highest:k(_),widths:o,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return YL(this._alignToPixels?Oj(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return eF(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=function(e,t){return eF(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=VL(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,s=i?i.widest.width+o:0,a=i?i.highest.height+o:0;return this.isHorizontal()?a*n>s*r?s/n:a/r:a*r<s*n?a/n:s/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:s}=r,a=i.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=yU(i),h=[],d=s.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(e){return Oj(n,e,f)};let m,b,y,v,w,x,_,k,E,S,T,C;if("top"===o)m=g(this.bottom),x=this.bottom-u,k=m-p,S=g(e.top)+p,C=e.bottom;else if("bottom"===o)m=g(this.top),S=e.top,C=g(e.bottom)-p,x=m+p,k=this.top+u;else if("left"===o)m=g(this.right),w=this.right-u,_=m-p,E=g(e.left)+p,T=e.right;else if("right"===o)m=g(this.left),E=e.left,T=g(e.right)-p,w=m+p,_=this.left+u;else if("x"===t){if("center"===o)m=g((e.top+e.bottom)/2+.5);else if(lL(o)){const e=Object.keys(o)[0],t=o[e];m=g(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,x=m+p,k=x+u}else if("y"===t){if("center"===o)m=g((e.left+e.right)/2);else if(lL(o)){const e=Object.keys(o)[0],t=o[e];m=g(this.chart.scales[e].getPixelForValue(t))}w=m-p,_=w-u,E=e.left,T=e.right}const I=hL(r.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/I));for(b=0;b<c;b+=P){const e=this.getContext(b),t=i.setContext(e),r=s.setContext(e),o=t.lineWidth,c=t.color,u=r.dash||[],d=r.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;y=bU(this,b,a),void 0!==y&&(v=Oj(n,y,o),l?w=_=E=T=v:x=k=S=C=v,h.push({tx1:w,ty1:x,tx2:_,ty2:k,x1:E,y1:S,x2:T,y2:C,width:o,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=i,h=yU(n.grid),d=h+c,f=u?-c:d,p=-VL(this.labelRotation),g=[];let m,b,y,v,w,x,_,k,E,S,T,C,I="middle";if("top"===r)x=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)x=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,w=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,w=e.x}else if("x"===t){if("center"===r)x=(e.top+e.bottom)/2+d;else if(lL(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)+d}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)w=(e.left+e.right)/2-d;else if(lL(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?I="top":"end"===a&&(I="bottom"));const P=this._getLabelSizes();for(m=0,b=s.length;m<b;++m){y=s[m],v=y.label;const e=i.setContext(this.getContext(m));k=this.getPixelForTick(m)+i.labelOffset,E=this._resolveTickFontOptions(m),S=E.lineHeight,T=aL(v)?v.length:1;const t=T/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let h,d=_;if(o?(w=k,"inner"===_&&(d=m===b-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==p?-T*S+S/2:"center"===l?-P.highest.height/2-t*S+S:-P.highest.height+S/2:"near"===l||0!==p?S/2:"center"===l?P.highest.height/2-t*S:P.highest.height-T*S,u&&(C*=-1),0===p||e.showLabelBackdrop||(w+=S/2*Math.sin(p))):(x=k,C=(1-T)*S/2),e.showLabelBackdrop){const t=Xj(e.backdropPadding),n=P.heights[m],r=P.widths[m];let i=C-t.top,o=0-t.left;switch(I){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":o-=r/2;break;case"right":o-=r;break;case"inner":m===b-1?o-=r:m>0&&(o-=r/2)}h={left:o,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:v,font:E,textOffset:C,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[w,x],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-VL(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=e+i,s=this._getLabelSizes().widest.width;let a,l;return"left"===t?r?(l=this.right+i,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-o,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+o,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const s=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,o=r.length;i<o;++i){const e=r[i];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const s=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Oj(e,this.left,o)-o/2,c=Oj(e,this.right,s)+s/2,u=h=a):(u=Oj(e,this.top,o)-o/2,h=Oj(e,this.bottom,s)+s/2,l=c=a),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Lj(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;Vj(t,i.label,0,i.textOffset,n,e)}n&&jj(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Jj(n.font),o=Xj(n.padding),s=n.align;let a=i.lineHeight/2;"bottom"===t||"center"===t||lL(t)?(a+=o.bottom,aL(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:i,left:o,bottom:s,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=s-i,m=a-o;if(e.isHorizontal()){if(d=aj(r,o,a),lL(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+g-t}else f="center"===n?(c.bottom+c.top)/2+g-t:pU(e,n,t);h=a-o}else{if(lL(n)){const e=Object.keys(n)[0],r=n[e];d=u[e].getPixelForValue(r)-m+t}else d="center"===n?(c.left+c.right)/2-m+t:pU(e,n,t);f=aj(r,s,i),p="left"===n?-NL:NL}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,t,s);Vj(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:wU(s,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=hL(e.grid&&e.grid.z,-1),r=hL(e.border&&e.border.z,0);return this._isVisible()&&this.draw===xU.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=t.length;i<o;++i){const o=t[i];o[n]!==this.id||e&&o.type!==e||r.push(o)}return r}_resolveTickFontOptions(e){return Jj(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _U{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=vL(Object.create(null),[n?Ij.get(n):{},Ij.get(t),e.defaults]);Ij.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),o=[e].concat(r).join("."),s=t[n].split("."),a=s.pop(),l=s.join(".");Ij.route(o,i,l,a)}))}(t,e.defaultRoutes),e.descriptors&&Ij.describe(t,e.descriptors)}(e,o,n),this.override&&Ij.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Ij[r]&&(delete Ij[r][n],this.override&&delete kj[n])}}class kU{constructor(){this.controllers=new _U(h$,"datasets",!0),this.elements=new _U(hU,"elements"),this.plugins=new _U(Object,"plugins"),this.scales=new _U(xU,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):pL(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=EL(e);fL(n["before"+r],[],n),t[e](n),fL(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var EU=new kU;class SU{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===fL(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){sL(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=hL(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(EU.plugins.items);for(let o=0;o<r.length;o++)n.push(EU.getPlugin(r[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const e=i[o];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,{plugins:t,localIds:n},r,i){const o=[],s=e.getContext();for(const a of t){const t=a.id,l=TU(r[t],i);null!==l&&o.push({plugin:a,options:CU(e.config,{plugin:a,local:n[t]},l,s)})}return o}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function TU(e,t){return t||!1!==e?!0===e?{}:e:null}function CU(e,{plugin:t,local:n},r,i){const o=e.pluginScopeKeys(t),s=e.getOptionScopes(r,o);return n&&t.defaults&&s.push(t.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function IU(e,t){const n=Ij.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function PU(e){if("x"===e||"y"===e||"r"===e)return e}function AU(e,...t){if(PU(e))return e;for(const r of t){const t=r.axis||("top"===(n=r.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.length>1&&PU(e[0].toLowerCase());if(t)return t}var n;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function OU(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function RU(e,t){const n=kj[e.type]||{scales:{}},r=t.scales||{},i=IU(e.type,t),o=Object.create(null);return Object.keys(r).forEach((t=>{const s=r[t];if(!lL(s))return console.error(`Invalid scale configuration for scale: ${t}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=AU(t,s,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return OU(e,"x",n[0])||OU(e,"y",n[0])}return{}}(t,e),Ij.scales[s.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,i),c=n.scales||{};o[t]=wL(Object.create(null),[{axis:a},s,c[a],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,s=n.indexAxis||IU(i,t),a=(kj[i]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,s),i=n[t+"AxisID"]||t;o[i]=o[i]||Object.create(null),wL(o[i],[{axis:t},r[i],a[e]])}))})),Object.keys(o).forEach((e=>{const t=o[e];wL(t,[Ij.scales[t.type],Ij.scale])})),o}function NU(e){const t=e.options||(e.options={});t.plugins=hL(t.plugins,{}),t.scales=RU(e,t)}function DU(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const MU=new Map,LU=new Set;function jU(e,t){let n=MU.get(e);return n||(n=t(),MU.set(e,n),LU.add(n)),n}const FU=(e,t,n)=>{const r=kL(t,n);void 0!==r&&e.add(r)};class $U{constructor(e){this._config=function(e){return(e=e||{}).data=DU(e.data),NU(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DU(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),NU(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jU(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return jU(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return jU(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return jU(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,o=this._cachedScopes(e,n),s=o.get(t);if(s)return s;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>FU(a,e,t)))),t.forEach((e=>FU(a,r,e))),t.forEach((e=>FU(a,kj[i]||{},e))),t.forEach((e=>FU(a,Ij,e))),t.forEach((e=>FU(a,Ej,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),LU.has(t)&&o.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,kj[t]||{},Ij.datasets[t]||{},{type:t},Ij,Ej]}resolveNamedOptions(e,t,n,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:s}=UU(this._resolverCache,e,r);let a=o;(function(e,t){const{isScriptable:n,isIndexable:r}=rF(e);for(const i of t){const t=n(i),o=r(i),s=(o||t)&&e[i];if(t&&(TL(s)||zU(s))||o&&aL(s))return!0}return!1})(o,t)&&(i.$shared=!1,a=nF(o,n=TL(n)?n():n,this.createResolver(e,n,s)));for(const l of t)i[l]=a[l];return i}createResolver(e,t,n=[""],r){const{resolver:i}=UU(this._resolverCache,e,n);return lL(t)?nF(i,t,void 0,r):i}}function UU(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let o=r.get(i);return o||(o={resolver:tF(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,o)),o}const zU=e=>lL(e)&&Object.getOwnPropertyNames(e).some((t=>TL(e[t]))),VU=["top","bottom","left","right","chartArea"];function BU(e,t){return"top"===e||"bottom"===e||-1===VU.indexOf(e)&&"x"===t}function HU(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function WU(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),fL(n&&n.onComplete,[e],t)}function qU(e){const t=e.chart,n=t.options.animation;fL(n&&n.onProgress,[e],t)}function KU(e){return _F()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const GU={},QU=e=>{const t=KU(e);return Object.values(GU).filter((e=>e.canvas===t)).pop()};function YU(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function XU(e,t,n){return e.options.clip?e[n]:t[n]}let JU=class{static defaults=Ij;static instances=GU;static overrides=kj;static registry=EU;static version="4.4.8";static getChart=QU;static register(...e){EU.add(...e),ZU()}static unregister(...e){EU.remove(...e),ZU()}constructor(e,t){const n=this.config=new $U(t),r=KU(e),i=QU(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!_F()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Q$:uU}(r)),this.platform.updateConfig(n);const s=this.platform.acquireContext(r,o.aspectRatio),a=s&&s.canvas,l=a&&a.height,c=a&&a.width;this.id=oL(),this.ctx=s,this.canvas=a,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new SU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}((e=>this.update(e)),o.resizeDelay||0),this._dataChanges=[],GU[this.id]=this,s&&a?(QF.listen(this,"complete",WU),QF.listen(this,"progress",qU),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return sL(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return EU}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():RF(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Rj(this.canvas,this.ctx),this}stop(){return QF.stop(this),this}resize(e,t){QF.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,i),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,RF(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),fL(n.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){pL(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=AU(e,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),pL(i,(t=>{const i=t.options,o=i.id,s=AU(o,i),a=hL(i.type,t.dtype);void 0!==i.position&&BU(i.position,s)===BU(t.dposition)||(i.position=t.dposition),r[o]=!0;let l=null;o in n&&n[o].type===a?l=n[o]:(l=new(EU.getScale(a))({id:o,type:a,ctx:this.ctx,chart:this}),n[l.id]=l),l.init(i,e)})),pL(r,((e,t)=>{e||delete n[t]})),pL(n,(e=>{K$.configure(this,e,e.options),K$.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(HU("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||IU(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=EU.getController(o),{datasetElementType:r,dataElementType:s}=Ij.datasets[o];Object.assign(t,{dataElementType:EU.getElement(s),datasetElementType:r&&EU.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){pL(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||pL(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(HU("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){pL(this.scales,(e=>{K$.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);CL(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t)YU(e,r,"_removeElements"===n?-i:i)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!CL(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;K$.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],pL(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,TL(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(QF.has(this)?this.attached&&!QF.running(this)&&QF.start(this):(this.draw(),WU({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:XU(n,t,"left"),right:XU(n,t,"right"),top:XU(r,t,"top"),bottom:XU(r,t,"bottom")}:t}(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&Lj(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&jj(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Mj(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=D$.modes[t];return"function"==typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=eF(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);SL(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),QF.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Rj(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete GU[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};pL(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let o;const s=()=>{r("attach",s),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",s)},t.isAttached(this.canvas)?s():o()}unbindEvents(){pL(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},pL(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,o,s,a;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),s=0,a=e.length;s<a;++s){o=e[s];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}));!gL(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),o=i(t,e),s=n?e:i(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),s.length&&r.mode&&this.updateHoverStyle(s,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,o=t,s=this._getActiveElements(e,r,n,o),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,fL(i.onHover,[e,s,this],this),a&&fL(i.onClick,[e,s,this],this));const c=!gL(s,r);return(c||t)&&(this._active=s,this._updateHoverStyles(s,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}};function ZU(){return pL(JU.instances,(e=>e._plugins.invalidate()))}function ez(e,t,n,r){const i=Gj(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(n-t)/2,s=Math.min(o,r*t/2),a=e=>{const t=(n-Math.min(o,e))*r/2;return YL(e,0,Math.min(o,t))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:YL(i.innerStart,0,s),innerEnd:YL(i.innerEnd,0,s)}}function tz(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function nz(e,t,n,r,i,o){const{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const g=(p-Math.max(.001,p*h-n/IL)/h)/2,m=l+g+f,b=i-g-f,{outerStart:y,outerEnd:v,innerStart:w,innerEnd:x}=ez(t,d,h,b-m),_=h-y,k=h-v,E=m+y/_,S=b-v/k,T=d+w,C=d+x,I=m+w/T,P=b-x/C;if(e.beginPath(),o){const t=(E+S)/2;if(e.arc(s,a,h,E,t),e.arc(s,a,h,t,S),v>0){const t=tz(k,S,s,a);e.arc(t.x,t.y,v,S,b+NL)}const n=tz(C,b,s,a);if(e.lineTo(n.x,n.y),x>0){const t=tz(C,P,s,a);e.arc(t.x,t.y,x,b+NL,P+Math.PI)}const r=(b-x/d+(m+w/d))/2;if(e.arc(s,a,d,b-x/d,r,!0),e.arc(s,a,d,r,m+w/d,!0),w>0){const t=tz(T,I,s,a);e.arc(t.x,t.y,w,I+Math.PI,m-NL)}const i=tz(_,m,s,a);if(e.lineTo(i.x,i.y),y>0){const t=tz(_,E,s,a);e.arc(t.x,t.y,y,m-NL,E)}}else{e.moveTo(s,a);const t=Math.cos(E)*h+s,n=Math.sin(E)*h+a;e.lineTo(t,n);const r=Math.cos(S)*h+s,i=Math.sin(S)*h+a;e.lineTo(r,i)}e.closePath()}function rz(e,t,n,r,i){const{fullCircles:o,startAngle:s,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(o){nz(e,t,n,r,p,i);for(let t=0;t<o;++t)e.stroke();isNaN(a)||(p=s+(a%PL||PL))}f&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(o,s,a,r-c,n+c),l>i?(c=i/l,e.arc(o,s,l,n+c,r-c,!0)):e.arc(o,s,i,n+NL,r-NL),e.closePath(),e.clip()}(e,t,p),o||(nz(e,t,n,r,p,i),e.stroke())}function iz(e,t,n=t){e.lineCap=hL(n.borderCapStyle,t.borderCapStyle),e.setLineDash(hL(n.borderDash,t.borderDash)),e.lineDashOffset=hL(n.borderDashOffset,t.borderDashOffset),e.lineJoin=hL(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=hL(n.borderWidth,t.borderWidth),e.strokeStyle=hL(n.borderColor,t.borderColor)}function oz(e,t,n){e.lineTo(n.x,n.y)}function sz(e,t,n={}){const r=e.length,{start:i=0,end:o=r-1}=n,{start:s,end:a}=t,l=Math.max(i,s),c=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function az(e,t,n,r){const{points:i,options:o}=t,{count:s,start:a,loop:l,ilen:c}=sz(i,n,r),u=function(e){return e.stepped?Fj:e.tension||"monotone"===e.cubicInterpolationMode?$j:oz}(o);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=c;++h)d=i[(a+(g?c-h:h))%s],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,g,o.stepped),f=d);return l&&(d=i[(a+(g?c:0))%s],u(e,f,d,g,o.stepped)),!!l}function lz(e,t,n,r){const i=t.points,{count:o,start:s,ilen:a}=sz(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,g,m=0,b=0;const y=e=>(s+(c?a-e:e))%o,v=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,g))};for(l&&(h=i[y(0)],e.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=i[y(u)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<f?f=n:n>p&&(p=n),m=(b*m+t)/++b):(v(),e.lineTo(t,n),d=r,b=0,f=p=n),g=n}v()}function cz(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n?az:lz}const uz="function"==typeof Path2D;function hz(e,t,n,r){uz&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),iz(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:o}=t,s=cz(t);for(const a of i)iz(e,o,a.style),e.beginPath(),s(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class dz extends hU{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;xF(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const o=!!e._loop,{start:s,end:a}=function(e,t,n,r){let i=0,o=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}(n,i,o,r);return WF(e,!0===r?[{start:s,end:a,loop:o}]:function(e,t,n,r){const i=e.length,o=[];let s,a=t,l=e[t];for(s=t+1;s<=n;++s){const n=e[s%i];n.skip||n.stop?l.skip||(r=!1,o.push({start:t%i,end:(s-1)%i,loop:r}),t=a=n.stop?s:null):(a=s,l.skip&&(t=s)),l=n}return null!==a&&o.push({start:t%i,end:a%i,loop:r}),o}(n,s,a<s?a+i:a,!!e._fullLoop&&0===s&&a===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,o=HF(this,{property:t,start:r,end:r});if(!o.length)return;const s=[],a=function(e){return e.stepped?LF:e.tension||"monotone"===e.cubicInterpolationMode?jF:MF}(n);let l,c;for(l=0,c=o.length;l<c;++l){const{start:c,end:u}=o[l],h=i[c],d=i[u];if(h===d){s.push(h);continue}const f=a(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],s.push(f)}return 1===s.length?s[0]:s}pathSegment(e,t,n){return cz(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=cz(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const s of r)o&=i(e,this,s,{start:t,end:t+n-1});return!!o}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),hz(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function fz(e,t,n,r){const i=e.options,{[n]:o}=e.getProps([n],r);return Math.abs(t-o)<i.radius+i.hitRadius}class pz extends hU{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return fz(this,e,"x",t)}inYRange(e,t){return fz(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Mj(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Nj(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function gz(e,t){const{x:n,y:r,base:i,width:o,height:s}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=s/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=o/2,a=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function mz(e,t,n,r){return e?0:YL(t,n,r)}function bz(e){const t=gz(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,o=Qj(r);return{t:mz(i.top,o.top,0,n),r:mz(i.right,o.right,0,t),b:mz(i.bottom,o.bottom,0,n),l:mz(i.left,o.left,0,t)}}(e,n/2,r/2),o=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=Yj(i),s=Math.min(t,n),a=e.borderSkipped,l=r||lL(i);return{topLeft:mz(!l||a.top||a.left,o.topLeft,0,s),topRight:mz(!l||a.top||a.right,o.topRight,0,s),bottomLeft:mz(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:mz(!l||a.bottom||a.right,o.bottomRight,0,s)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function yz(e,t,n,r){const i=null===t,o=null===n,s=e&&!(i&&o)&&gz(e,r);return s&&(i||XL(t,s.left,s.right))&&(o||XL(n,s.top,s.bottom))}function vz(e,t){e.rect(t.x,t.y,t.w,t.h)}function wz(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-r,s=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+s,radius:e.radius}}class xz extends hU{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=bz(this),s=(a=o.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Bj:vz;var a;e.save(),o.w===i.w&&o.h===i.h||(e.beginPath(),s(e,wz(o,t,i)),e.clip(),s(e,wz(i,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),s(e,wz(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return yz(this,e,t,n)}inXRange(e,t){return yz(this,e,null,t)}inYRange(e,t){return yz(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}var _z=Object.freeze({__proto__:null,ArcElement:class extends hU{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=WL(r,{x:e,y:t}),{startAngle:s,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=hL(u,a-s),f=QL(i,s,a)&&s!==a,p=d>=PL||f,g=XL(o,l+h,c+h);return p&&g}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(r+i)/2,u=(o+s+l+a)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>PL?Math.floor(n/PL):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*r,Math.sin(s)*r);const a=r*(1-Math.sin(Math.min(IL,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:o,startAngle:s,circumference:a}=t;let l=t.endAngle;if(o){nz(e,t,n,r,l,i);for(let t=0;t<o;++t)e.fill();isNaN(a)||(l=s+(a%PL||PL))}nz(e,t,n,r,l,i),e.fill()}(e,this,a,i,o),rz(e,this,a,i,o),e.restore()}},BarElement:xz,LineElement:dz,PointElement:pz});const kz=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ez=kz.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function Sz(e){return kz[e%kz.length]}function Tz(e){return Ez[e%Ez.length]}function Cz(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof x$?t=function(e,t){return e.backgroundColor=e.data.map((()=>Sz(t++))),t}(n,t):i instanceof k$?t=function(e,t){return e.backgroundColor=e.data.map((()=>Tz(t++))),t}(n,t):i&&(t=function(e,t){return e.borderColor=Sz(t),e.backgroundColor=Tz(t),++t}(n,t))}}function Iz(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var Pz={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:o}=i,s=Iz(r)||(a=i)&&(a.borderColor||a.backgroundColor)||o&&Iz(o)||"rgba(0,0,0,0.1)"!==Ij.borderColor||"rgba(0,0,0,0.1)"!==Ij.backgroundColor;var a;if(!n.forceOverride&&s)return;const l=Cz(e);r.forEach(l)}};function Az(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Oz(e){e.data.datasets.forEach((e=>{Az(e)}))}var Rz={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void Oz(e);const r=e.width;e.data.datasets.forEach(((t,i)=>{const{_data:o,indexAxis:s}=t,a=e.getDatasetMeta(i),l=o||t.data;if("y"===Zj([s,e.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=e.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let u,{start:h,count:d}=function(e,t){const n=t.length;let r,i=0;const{iScale:o}=e,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=YL(ZL(t,o.axis,s).lo,0,n-1)),r=c?YL(ZL(t,o.axis,a).hi+1,i,n)-i:n-i,{start:i,count:r}}(a,l);if(d<=(n.threshold||4*r))Az(t);else{switch(sL(o)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":u=function(e,t,n,r,i){const o=i.samples||r;if(o>=n)return e.slice(t,t+n);const s=[],a=(n-2)/(o-2);let l=0;const c=t+n-1;let u,h,d,f,p,g=t;for(s[l++]=e[g],u=0;u<o-2;u++){let r,i=0,o=0;const c=Math.floor((u+1)*a)+1+t,m=Math.min(Math.floor((u+2)*a)+1,n)+t,b=m-c;for(r=c;r<m;r++)i+=e[r].x,o+=e[r].y;i/=b,o/=b;const y=Math.floor(u*a)+1+t,v=Math.min(Math.floor((u+1)*a)+1,n)+t,{x:w,y:x}=e[g];for(d=f=-1,r=y;r<v;r++)f=.5*Math.abs((w-i)*(e[r].y-x)-(w-e[r].x)*(o-x)),f>d&&(d=f,h=e[r],p=r);s[l++]=h,g=p}return s[l++]=e[c],s}(l,h,d,r,n);break;case"min-max":u=function(e,t,n,r){let i,o,s,a,l,c,u,h,d,f,p=0,g=0;const m=[],b=t+n-1,y=e[t].x,v=e[b].x-y;for(i=t;i<t+n;++i){o=e[i],s=(o.x-y)/v*r,a=o.y;const t=0|s;if(t===l)a<d?(d=a,c=i):a>f&&(f=a,u=i),p=(g*p+o.x)/++g;else{const n=i-1;if(!sL(c)&&!sL(u)){const t=Math.min(c,u),r=Math.max(c,u);t!==h&&t!==n&&m.push({...e[t],x:p}),r!==h&&r!==n&&m.push({...e[r],x:p})}i>0&&n!==h&&m.push(e[n]),m.push(o),l=t,g=0,d=f=a,c=u=h=i}}return m}(l,h,d,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=u}}))},destroy(e){Oz(e)}};function Nz(e,t,n,r){if(r)return;let i=t[e],o=n[e];return"angle"===e&&(i=GL(i),o=GL(o)),{property:e,start:i,end:o}}function Dz(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Mz(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Lz(e,t){let n=[],r=!1;return aL(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,o=[];return t.segments.forEach((({start:e,end:t})=>{t=Dz(e,t,i);const s=i[e],a=i[t];null!==r?(o.push({x:s.x,y:r}),o.push({x:a.x,y:r})):null!==n&&(o.push({x:n,y:s.y}),o.push({x:n,y:a.y}))})),o}(e,t),n.length?new dz({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function jz(e){return e&&!1!==e.fill}function Fz(e,t,n){let r=e[t].fill;const i=[t];let o;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!cL(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function $z(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=hL(n&&n.target,n);return void 0===r&&(r=!!t.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(e);if(lL(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return cL(i)&&Math.floor(i)===i?function(e,t,n,r){return"-"!==e&&"+"!==e||(n=t+n),!(n===t||n<0||n>=r)&&n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Uz(e,t,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:s,last:a,point:l}=zz(o,t,"x");if(!(!l||s&&a))if(s)r.unshift(l);else if(e.push(l),!a)break}e.push(...r)}function zz(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],o=e.segments,s=e.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const e=o[c],t=s[e.start][n],r=s[e.end][n];if(XL(i,t,r)){a=i===t,l=i===r;break}}return{first:a,last:l,point:r}}class Vz{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:i,radius:o}=this;return t=t||{start:0,end:PL},e.arc(r,i,o,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function Bz(e){const{chart:t,fill:n,line:r}=e;if(cL(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,i=[],o=r.segments,s=r.points,a=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const e=r[i];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);a.push(Lz({x:null,y:t.bottom},r));for(let l=0;l<o.length;l++){const e=o[l];for(let t=e.start;t<=e.end;t++)Uz(i,s[t],a)}return new dz({points:i,options:{}})}(e);if("shape"===n)return!0;const i=function(e){const t=e.scale||{};return t.getPointPositionForValue?function(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,o=r.reverse?t.max:t.min,s=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:lL(e)?e.value:t.getBaseValue(),r}(n,t,o),a=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,o);return new Vz({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,s));return a}(e):function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:lL(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(cL(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return i instanceof Vz?i:Lz(i,r)}function Hz(e,t,n){const r=Bz(t),{line:i,scale:o,axis:s}=t,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};r&&i.points.length&&(Lj(e,n),function(e,t){const{line:n,target:r,above:i,below:o,area:s,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&o!==i&&(Wz(e,r,s.top),qz(e,{line:n,target:r,color:i,scale:a,property:l}),e.restore(),e.save(),Wz(e,r,s.bottom)),qz(e,{line:n,target:r,color:o,scale:a,property:l}),e.restore()}(e,{line:i,target:r,above:u,below:h,area:n,scale:o,axis:s}),jj(e))}function Wz(e,t,n){const{segments:r,points:i}=t;let o=!0,s=!1;e.beginPath();for(const a of r){const{start:r,end:l}=a,c=i[r],u=i[Dz(r,l,i)];o?(e.moveTo(c.x,c.y),o=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function qz(e,t){const{line:n,target:r,property:i,color:o,scale:s}=t,a=function(e,t,n){const r=e.segments,i=e.points,o=t.points,s=[];for(const a of r){let{start:e,end:r}=a;r=Dz(e,r,i);const l=Nz(n,i[e],i[r],a.loop);if(!t.segments){s.push({source:a,target:l,start:i[e],end:i[r]});continue}const c=HF(t,l);for(const t of c){const e=Nz(n,o[t.start],o[t.end],t.loop),r=BF(a,i,e);for(const i of r)s.push({source:i,target:t,start:{[n]:Mz(l,e,"start",Math.max)},end:{[n]:Mz(l,e,"end",Math.min)}})}}return s}(n,r,i);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:t=o}={}}=l,a=!0!==r;e.save(),e.fillStyle=t,Kz(e,s,a&&Nz(i,u,h)),e.beginPath();const d=!!n.pathSegment(e,l);let f;if(a){d?e.closePath():Gz(e,r,h,i);const t=!!r.pathSegment(e,c,{move:d,reverse:!0});f=d&&t,f||Gz(e,r,u,i)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function Kz(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:o,start:s,end:a}=n||{};"x"===o&&(e.beginPath(),e.rect(s,r,a-s,i-r),e.clip())}function Gz(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Qz={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let o,s,a,l;for(s=0;s<r;++s)o=e.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof dz&&(l={visible:e.isDatasetVisible(s),index:s,fill:$z(a,s,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],l&&!1!==l.fill&&(l.fill=Fz(i,s,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let s=i.length-1;s>=0;--s){const t=i[s].$filler;t&&(t.line.updateControlPoints(o,t.axis),r&&t.fill&&Hz(e.ctx,t,o))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;jz(t)&&Hz(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;jz(r)&&"beforeDatasetDraw"===n.drawTime&&Hz(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Yz=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Xz extends hU{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=fL(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Jj(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=Yz(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,i,s,a)+10):(c=this.maxHeight,l=this._fitCols(o,r,s,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+s;let u=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*s>o)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+s})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-e;let u=s,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,o)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,r,i){const o=function(e,t,n,r){let i=e.text;return i&&"string"!=typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t))),t+n.size/2+r.measureText(i).width}(r,e,t,n),s=function(e,t,n){let r=e;return"string"!=typeof t.text&&(r=Jz(t,n)),r}(i,r,t.lineHeight);return{itemWidth:o,itemHeight:s}}(n,t,i,e,r);o>0&&d+m+2*s>c&&(u+=h+s,l.push({width:h,height:d}),f+=h+s,p++,h=d=0),a[o]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+s})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,o=FF(i,this.left,this.width);if(this.isHorizontal()){let i=0,s=aj(n,this.left+r,this.right-this.lineWidths[i]);for(const a of t)i!==a.row&&(i=a.row,s=aj(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+e+r,a.left=o.leftForLtr(o.x(s),a.width),s+=a.width+r}else{let i=0,s=aj(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const a of t)a.col!==i&&(i=a.col,s=aj(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),a.top=s,a.left+=this.left+r,a.left=o.leftForLtr(o.x(a.left),a.width),s+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Lj(e,this),this._draw(),jj(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:o}=e,s=Ij.color,a=FF(e.rtl,this.left,this.width),l=Jj(o.font),{padding:c}=o,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=Yz(o,u),m=this.isHorizontal(),b=this._computeTitleHeight();d=m?{x:aj(i,this.left+c,this.right-n[0]),y:this.top+c+b,line:0}:{x:this.left+c,y:aj(i,this.top+b+c,this.bottom-t[0].height),line:0},$F(this.ctx,e.textDirection);const y=g+c;this.legendItems.forEach(((v,w)=>{r.strokeStyle=v.fontColor,r.fillStyle=v.fontColor;const x=r.measureText(v.text).width,_=a.textAlign(v.textAlign||(v.textAlign=o.textAlign)),k=f+h+x;let E=d.x,S=d.y;if(a.setWidth(this.width),m?w>0&&E+k+c>this.right&&(S=d.y+=y,d.line++,E=d.x=aj(i,this.left+c,this.right-n[d.line])):w>0&&S+y>this.bottom&&(E=d.x=E+t[d.line].width+c,d.line++,S=d.y=aj(i,this.top+b+c,this.bottom-t[d.line].height)),function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=hL(n.lineWidth,1);if(r.fillStyle=hL(n.fillStyle,s),r.lineCap=hL(n.lineCap,"butt"),r.lineDashOffset=hL(n.lineDashOffset,0),r.lineJoin=hL(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=hL(n.strokeStyle,s),r.setLineDash(hL(n.lineDash,[])),o.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=a.xPlus(e,f/2);Dj(r,s,l,t+h,o.pointStyleWidth&&f)}else{const o=t+Math.max((u-p)/2,0),s=a.leftForLtr(e,f),l=Yj(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?Bj(r,{x:s,y:o,w:f,h:p,radius:l}):r.rect(s,o,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(E),S,v),E=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,E+f+h,m?E+k:this.right,e.rtl),function(e,t,n){Vj(r,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(E),S,v),m)d.x+=k+c;else if("string"!=typeof v.text){const e=l.lineHeight;d.y+=Jz(v,e)+c}else d.y+=y})),UF(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Jj(t.font),r=Xj(t.padding);if(!t.display)return;const i=FF(e.rtl,this.left,this.width),o=this.ctx,s=t.position,a=n.size/2,l=r.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=aj(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+aj(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=aj(s,u,u+h);o.textAlign=i.textAlign(sj(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,Vj(o,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=Jj(e.font),n=Xj(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(XL(e,this.left,this.right)&&XL(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],XL(e,r.left,r.left+r.width)&&XL(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&fL(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&fL(t.onHover,[e,n,this],this)}else n&&fL(t.onClick,[e,n,this],this)}}function Jz(e,t){return t*(e.text?e.text.length:0)}var Zz={id:"legend",_element:Xz,start(e,t,n){const r=e.legend=new Xz({ctx:e.ctx,options:n,chart:e});K$.configure(e,r,n),K$.addBox(e,r)},stop(e){K$.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;K$.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Xj(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class eV extends hU{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=aL(n.text)?n.text.length:1;this._padding=Xj(n.padding);const i=r*Jj(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:o}=this,s=o.align;let a,l,c,u=0;return this.isHorizontal()?(l=aj(s,n,i),c=t+e,a=i-n):("left"===o.position?(l=n+e,c=aj(s,r,t),u=-.5*IL):(l=i-e,c=aj(s,t,r),u=.5*IL),a=r-t),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Jj(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:o,maxWidth:s,rotation:a}=this._drawArgs(r);Vj(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:a,textAlign:sj(t.align),textBaseline:"middle",translation:[i,o]})}}var tV={id:"title",_element:eV,start(e,t,n){!function(e,t){const n=new eV({ctx:e.ctx,options:t,chart:e});K$.configure(e,n,t),K$.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;K$.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;K$.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nV=new WeakMap;var rV={id:"subtitle",start(e,t,n){const r=new eV({ctx:e.ctx,options:n,chart:e});K$.configure(e,r,n),K$.addBox(e,r),nV.set(e,r)},stop(e){K$.removeBox(e,nV.get(e)),nV.delete(e)},beforeUpdate(e,t,n){const r=nV.get(e);K$.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const iV={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,o=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++o}}if(0===o||0===r.size)return!1;const s=[...r].reduce(((e,t)=>e+t))/r.size;return{x:s,y:i/o}},nearest(e,t){if(!e.length)return!1;let n,r,i,o=t.x,s=t.y,a=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=qL(t,r.getCenterPoint());e<a&&(a=e,i=r)}}if(i){const e=i.tooltipPosition();o=e.x,s=e.y}return{x:o,y:s}}};function oV(e,t){return t&&(aL(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function sV(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function aV(e,t){const{element:n,datasetIndex:r,index:i}=t,o=e.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:e,label:s,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function lV(e,t){const n=e.chart.ctx,{body:r,footer:i,title:o}=e,{boxWidth:s,boxHeight:a}=t,l=Jj(t.bodyFont),c=Jj(t.titleFont),u=Jj(t.footerFont),h=o.length,d=i.length,f=r.length,p=Xj(t.padding);let g=p.height,m=0,b=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);b+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b&&(g+=f*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(b-f)*l.lineHeight+(b-1)*t.bodySpacing),d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const v=function(e){m=Math.max(m,n.measureText(e).width+y)};return n.save(),n.font=c.string,pL(e.title,v),n.font=l.string,pL(e.beforeBody.concat(e.afterBody),v),y=t.displayColors?s+2+t.boxPadding:0,pL(r,(e=>{pL(e.before,v),pL(e.lines,v),pL(e.after,v)})),y=0,n.font=u.string,pL(e.footer,v),n.restore(),m+=p.width,{width:m,height:g}}function cV(e,t,n,r){const{x:i,width:o}=n,{width:s,chartArea:{left:a,right:l}}=e;let c="center";return"center"===r?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=s-o/2&&(c="right"),function(e,t,n,r){const{x:i,width:o}=r,s=n.caretSize+n.caretPadding;return"left"===e&&i+o+s>t.width||"right"===e&&i-o-s<0||void 0}(c,e,t,n)&&(c="center"),c}function uV(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||cV(e,t,n,r),yAlign:r}}function hV(e,t,n,r){const{caretSize:i,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:l}=n,c=i+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Yj(s);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,a);const g=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+i:"right"===a&&(p+=Math.max(h,f)+i),{x:YL(p,0,r.width-t.width),y:YL(g,0,r.height-t.height)}}function dV(e,t,n){const r=Xj(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function fV(e){return oV([],sV(e))}function pV(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const gV={beforeTitle:iL,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:iL,beforeBody:iL,beforeLabel:iL,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return sL(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:iL,afterBody:iL,beforeFooter:iL,footer:iL,afterFooter:iL};function mV(e,t,n,r){const i=e[t].call(n,r);return void 0===i?gV[t].call(n,r):i}class bV extends hU{static positioners=iV;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new ZF(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=function(e,t,n){return eF(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,r=mV(n,"beforeTitle",this,e),i=mV(n,"title",this,e),o=mV(n,"afterTitle",this,e);let s=[];return s=oV(s,sV(r)),s=oV(s,sV(i)),s=oV(s,sV(o)),s}getBeforeBody(e,t){return fV(mV(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return pL(e,(e=>{const t={before:[],lines:[],after:[]},i=pV(n,e);oV(t.before,sV(mV(i,"beforeLabel",this,e))),oV(t.lines,mV(i,"label",this,e)),oV(t.after,sV(mV(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return fV(mV(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=mV(n,"beforeFooter",this,e),i=mV(n,"footer",this,e),o=mV(n,"afterFooter",this,e);let s=[];return s=oV(s,sV(r)),s=oV(s,sV(i)),s=oV(s,sV(o)),s}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],o=[];let s,a,l=[];for(s=0,a=t.length;s<a;++s)l.push(aV(this.chart,t[s]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),pL(l,(t=>{const n=pV(e.callbacks,t);r.push(mV(n,"labelColor",this,t)),i.push(mV(n,"labelPointStyle",this,t)),o.push(mV(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const e=iV[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const t=this._size=lV(this,n),s=Object.assign({},e,t),a=uV(this.chart,n,s),l=hV(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:s}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Yj(s),{x:h,y:d}=e,{width:f,height:p}=t;let g,m,b,y,v,w;return"center"===i?(v=d+p/2,"left"===r?(g=h,m=g-o,y=v+o,w=v-o):(g=h+f,m=g+o,y=v-o,w=v+o),b=g):(m="left"===r?h+Math.max(a,c)+o:"right"===r?h+f-Math.max(l,u)-o:this.caretX,"top"===i?(y=d,v=y-o,g=m-o,b=m+o):(y=d+p,v=y+o,g=m+o,b=m-o),w=y),{x1:g,x2:m,x3:b,y1:y,y2:v,y3:w}}drawTitle(e,t,n){const r=this.title,i=r.length;let o,s,a;if(i){const l=FF(n.rtl,this.x,this.width);for(e.x=dV(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",o=Jj(n.titleFont),s=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,a=0;a<i;++a)t.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s,a+1===i&&(e.y+=n.titleMarginBottom-s)}}_drawColorBox(e,t,n,r,i){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=i,c=Jj(i.bodyFont),u=dV(this,"left",i),h=r.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=t.y+d;if(i.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+a/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Nj(e,t,n,c),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Nj(e,t,n,c)}else{e.lineWidth=lL(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const t=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),s=Yj(o.borderRadius);Object.values(s).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Bj(e,{x:t,y:f,w:l,h:a,radius:s}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Bj(e,{x:n,y:f+1,w:l-2,h:a-2,radius:s}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,a),e.strokeRect(t,f,l,a),e.fillStyle=o.backgroundColor,e.fillRect(n,f+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Jj(n.bodyFont);let h=u.lineHeight,d=0;const f=FF(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+i},g=f.textAlign(o);let m,b,y,v,w,x,_;for(t.textAlign=o,t.textBaseline="middle",t.font=u.string,e.x=dV(this,g,n),t.fillStyle=n.bodyColor,pL(this.beforeBody,p),d=s&&"right"!==g?"center"===o?l/2+c:l+2+c:0,v=0,x=r.length;v<x;++v){for(m=r[v],b=this.labelTextColors[v],t.fillStyle=b,pL(m.before,p),y=m.lines,s&&y.length&&(this._drawColorBox(t,e,v,f,n),h=Math.max(u.lineHeight,a)),w=0,_=y.length;w<_;++w)p(y[w]),h=u.lineHeight;pL(m.after,p)}d=0,h=u.lineHeight,pL(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let o,s;if(i){const a=FF(n.rtl,this.x,this.width);for(e.x=dV(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",o=Jj(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,s=0;s<i;++s)t.fillText(r[s],a.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:o}=this,{x:s,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Yj(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(s+u,a),"top"===o&&this.drawCaret(e,t,n,r),t.lineTo(s+l-h,a),t.quadraticCurveTo(s+l,a,s+l,a+h),"center"===o&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(s+l,a+c-f),t.quadraticCurveTo(s+l,a+c,s+l-f,a+c),"bottom"===o&&this.drawCaret(e,t,n,r),t.lineTo(s+d,a+c),t.quadraticCurveTo(s,a+c,s,a+c-d),"center"===o&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(s,a+u),t.quadraticCurveTo(s,a,s+u,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=iV[e.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=lV(this,e),s=Object.assign({},n,this._size),a=uV(t,e,s),l=hV(e,s,a,t);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Xj(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),$F(e,t.textDirection),i.y+=o.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),UF(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}})),i=!gL(n,r),o=this._positionChanged(r,t);(i||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,t,n),s=this._positionChanged(o,e),a=t||!gL(o,i)||s;return a&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,o=iV[i.position].call(this,e,t);return!1!==o&&(n!==o.x||r!==o.y)}}var yV={id:"tooltip",_element:bV,positioners:iV,afterInit(e,t,n){n&&(e.tooltip=new bV({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gV},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vV=Object.freeze({__proto__:null,Colors:Pz,Decimation:Rz,Filler:Qz,Legend:Zz,SubTitle:rV,Title:tV,Tooltip:yV});function wV(e,t,n,r){const i=e.indexOf(t);return-1===i?((e,t,n,r)=>("string"==typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r):i!==e.lastIndexOf(t)?n:i}function xV(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class _V extends xU{static id="category";static defaults={ticks:{callback:xV}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(sL(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:YL(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:wV(n,e,hL(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return xV.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function kV(e,t){const n=[],{bounds:r,step:i,min:o,max:s,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=i||1,f=c-1,{min:p,max:g}=t,m=!sL(o),b=!sL(s),y=!sL(l),v=(g-p)/(u+1);let w,x,_,k,E=$L((g-p)/f/d)*d;if(E<1e-14&&!m&&!b)return[{value:p},{value:g}];k=Math.ceil(g/E)-Math.floor(p/E),k>f&&(E=$L(k*E/f/d)*d),sL(a)||(w=Math.pow(10,a),E=Math.ceil(E*w)/w),"ticks"===r?(x=Math.floor(p/E)*E,_=Math.ceil(g/E)*E):(x=p,_=g),m&&b&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((s-o)/i,E/1e3)?(k=Math.round(Math.min((s-o)/E,c)),E=(s-o)/k,x=o,_=s):y?(x=m?o:x,_=b?s:_,k=l-1,E=(_-x)/k):(k=(_-x)/E,k=FL(k,Math.round(k),E/1e3)?Math.round(k):Math.ceil(k));const S=Math.max(HL(E),HL(x));w=Math.pow(10,sL(a)?S:a),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let T=0;for(m&&(h&&x!==o?(n.push({value:o}),x<o&&T++,FL(Math.round((x+T*E)*w)/w,o,EV(o,v,e))&&T++):x<o&&T++);T<k;++T){const e=Math.round((x+T*E)*w)/w;if(b&&e>s)break;n.push({value:e})}return b&&h&&_!==s?n.length&&FL(n[n.length-1].value,s,EV(s,v,e))?n[n.length-1].value=s:n.push({value:s}):b&&_!==s||n.push({value:_}),n}function EV(e,t,{horizontal:n,minRotation:r}){const i=VL(r),o=(n?Math.sin(i):Math.cos(i))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}class SV extends xU{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return sL(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=e=>r=t?r:e,s=e=>i=n?i:e;if(e){const e=jL(r),t=jL(i);e<0&&t<0?s(0):e>0&&t>0&&o(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);s(i+t),e||o(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=kV({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&zL(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return wj(e,this.chart.options.locale,this.options.ticks.format)}}class TV extends SV{static id="linear";static defaults={ticks:{callback:_j.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cL(e)?e:0,this.max=cL(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=VL(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const CV=e=>Math.floor(LL(e)),IV=(e,t)=>Math.pow(10,CV(e)+t);function PV(e){return 1==e/Math.pow(10,CV(e))}function AV(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function OV(e,{min:t,max:n}){t=uL(e.min,t);const r=[],i=CV(t);let o=function(e,t){let n=CV(t-e);for(;AV(e,t,n)>10;)n++;for(;AV(e,t,n)<10;)n--;return Math.min(n,CV(e))}(t,n),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((t-l)*s)/s,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,o)),d=uL(e.min,Math.round((l+u+h*Math.pow(10,o))*s)/s);for(;d<n;)r.push({value:d,major:PV(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),d=Math.round((l+u+h*Math.pow(10,o))*s)/s;const f=uL(e.max,d);return r.push({value:f,major:PV(f),significand:h}),r}class RV extends xU{static id="logarithmic";static defaults={ticks:{callback:_j.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=SV.prototype.parse.apply(this,[e,t]);if(0!==n)return cL(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cL(e)?Math.max(0,e):null,this.max=cL(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!cL(this._userMin)&&(this.min=e===IV(this.min,0)?IV(this.min,-1):IV(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,o=e=>r=t?r:e;n===r&&(n<=0?(i(1),o(10)):(i(IV(n,-1)),o(IV(r,1)))),n<=0&&i(IV(r,-1)),r<=0&&o(IV(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=OV({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&zL(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":wj(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=LL(e),this._valueRange=LL(this.max)-LL(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(LL(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function NV(e){const t=e.ticks;if(t.display&&e.display){const e=Xj(t.backdropPadding);return hL(t.font&&t.font.size,Ij.font.size)+e.height}return 0}function DV(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function MV(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],o=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?IL/o:0;for(let h=0;h<o;h++){const o=s.setContext(e.getPointLabelContext(h));i[h]=o.padding;const d=e.getPointPosition(h,e.drawingArea+i[h],a),f=Jj(o.font),p=(l=e.ctx,c=f,u=aL(u=e._pointLabels[h])?u:[u],{w:Aj(l,c.string,u),h:u.length*c.lineHeight});r[h]=p;const g=GL(e.getIndexAngle(h)+a),m=Math.round(BL(g));LV(n,t,g,DV(m,d.x,p.w,0,180),DV(m,d.y,p.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:NV(o)/2,additionalAngle:s?IL/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const i=jV(e,u,l);r.push(i),"auto"===a&&(i.visible=FV(i,c),i.visible&&(c=i))}return r}(e,r,i)}function LV(e,t,n,r,i){const o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/o,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/s,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function jV(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=n,l=e.getPointPosition(t,r+i+s,o),c=Math.round(BL(GL(l.angle+NL))),u=function(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}(l.y,a.h,c),h=function(e){return 0===e||180===e?"center":e<180?"left":"right"}(c),d=function(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function FV(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:o}=e;return!(Mj({x:n,y:r},t)||Mj({x:n,y:o},t)||Mj({x:i,y:r},t)||Mj({x:i,y:o},t))}function $V(e,t,n){const{left:r,top:i,right:o,bottom:s}=n,{backdropColor:a}=t;if(!sL(a)){const n=Yj(t.borderRadius),l=Xj(t.backdropPadding);e.fillStyle=a;const c=r-l.left,u=i-l.top,h=o-r+l.width,d=s-i+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),Bj(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function UV(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,PL);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let o=1;o<r;o++)n=e.getPointPosition(o,t),i.lineTo(n.x,n.y)}}class zV extends SV{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_j.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Xj(NV(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=cL(e)&&!isNaN(e)?e:0,this.max=cL(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/NV(this.options))}generateTickLabels(e){SV.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=fL(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?MV(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return GL(e*(PL/(this._pointLabels.length||1))+VL(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(sL(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(sL(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return eF(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const r=this.getIndexAngle(e)-NL+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),UV(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,o=this._pointLabels.length;let s,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const o=r.setContext(e.getPointLabelContext(i));$V(n,o,t);const s=Jj(o.font),{x:a,y:l,textAlign:c}=t;Vj(n,e._pointLabels[i],a,l+s.lineHeight/2,s,{color:o.color,textAlign:c,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),s=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const o=e.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!r||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),UV(e,n,s,r),o.closePath(),o.stroke(),o.restore())}(this,s,a,o,l)}})),n.display){for(e.save(),s=o-1;s>=0;s--){const r=n.setContext(this.getPointLabelContext(s)),{color:i,lineWidth:o}=r;o&&i&&(e.lineWidth=o,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(s,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,s)=>{if(0===s&&this.min>=0&&!t.reverse)return;const a=n.setContext(this.getContext(s)),l=Jj(a.font);if(i=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){e.font=l.string,o=e.measureText(r.label).width,e.fillStyle=a.backdropColor;const t=Xj(a.backdropPadding);e.fillRect(-o/2-t.left,-i-l.size/2-t.top,o+t.width,l.size+t.height)}Vj(e,r.label,0,-i,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}const VV={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},BV=Object.keys(VV);function HV(e,t){return e-t}function WV(e,t){if(sL(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:o}=e._parseOpts;let s=t;return"function"==typeof r&&(s=r(s)),cL(s)||(s="string"==typeof r?n.parse(s,r):n.parse(s)),null===s?null:(i&&(s="week"!==i||!UL(o)&&!0!==o?n.startOf(s,i):n.startOf(s,"isoWeek",o)),+s)}function qV(e,t,n,r){const i=BV.length;for(let o=BV.indexOf(e);o<i-1;++o){const e=VV[BV[o]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return BV[o]}return BV[i-1]}function KV(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=JL(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function GV(e,t,n){const r=[],i={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],i[a]=s,r.push({value:a,major:!1});return 0!==o&&n?function(e,t,n,r){const i=e._adapter,o=+i.startOf(t[0].value,r),s=t[t.length-1].value;let a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class QV extends xU{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),r=this._adapter=new C$(e.adapters.date);r.init(t),wL(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:WV(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:s}=this.getUserBounds();function a(e){o||isNaN(e.min)||(r=Math.min(r,e.min)),s||isNaN(e.max)||(i=Math.max(i,e.max))}o&&s||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),r=cL(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=cL(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?qV(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let o=BV.length-1;o>=BV.indexOf(n);o--){const n=BV[o];if(VV[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return BV[n?BV.indexOf(n):0]}(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=BV.indexOf(e)+1,n=BV.length;t<n;++t)if(VV[BV[t]].common)return BV[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&o.reverse(),GV(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e=[]){let t,n,r=0,i=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),r=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),i=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=YL(r,0,o),i=YL(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||qV(i.minUnit,t,n,this._getLabelCapacity(t)),s=hL(r.ticks.stepSize,1),a="week"===o&&i.isoWeekday,l=UL(a)||!0===a,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,l?"day":o),e.diff(n,t,o)>1e5*s)throw new Error(t+" and "+n+" are too far apart with stepSize of "+s+" "+o);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,s,o),h++)KV(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||KV(c,u,f),Object.keys(c).sort(HV).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,o=i.ticks.callback;if(o)return fL(o,[e,t,n],this);const s=i.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&s[a],u=l&&s[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,r||(d?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=VL(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),o=Math.sin(r),s=this._resolveTickFontOptions(0).size;return{w:n*i+s*o,h:n*o+s*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,GV(this,[e],this._majorUnit),r),o=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(WV(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return rj(e.sort(HV))}}function YV(e,t,n){let r,i,o,s,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=ZL(e,"pos",t)),({pos:r,time:o}=e[a]),({pos:i,time:s}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=ZL(e,"time",t)),({time:r,pos:o}=e[a]),({time:i,pos:s}=e[l]));const c=i-r;return c?o+(s-o)*(t-r)/c:o}var XV=Object.freeze({__proto__:null,CategoryScale:_V,LinearScale:TV,LogarithmicScale:RV,RadialLinearScale:zV,TimeScale:QV,TimeSeriesScale:class extends QV{static id="timeseries";static defaults=QV.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=YV(t,this.min),this._tableRange=YV(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;++o)l=e[o],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,s=r.length;o<s;++o)c=r[o+1],a=r[o-1],l=r[o],Math.round((c+a)/2)!==l&&i.push({time:l,pos:o/(s-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(YV(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return YV(this._table,n*this._tableRange+this._minPos,!0)}}});const JV=[E$,_z,vV,XV],ZV="label";function eB(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function tB(e,t){e.labels=t}function nB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ZV;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}}))}function rB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZV;const n={labels:[],datasets:[]};return tB(n,e.labels),nB(n,e.datasets,t),n}function iB(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:s,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=e,f=V.useRef(null),p=V.useRef(null),g=()=>{f.current&&(p.current=new JU(f.current,{type:s,data:rB(a,o),options:l&&{...l},plugins:c}),eB(t,p.current))},m=()=>{eB(t,null),p.current&&(p.current.destroy(),p.current=null)};return V.useEffect((()=>{!i&&p.current&&l&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(p.current,l)}),[i,l]),V.useEffect((()=>{!i&&p.current&&tB(p.current.config.data,a.labels)}),[i,a.labels]),V.useEffect((()=>{!i&&p.current&&a.datasets&&nB(p.current.config.data,a.datasets,o)}),[i,a.datasets]),V.useEffect((()=>{p.current&&(i?(m(),setTimeout(g)):p.current.update(h))}),[i,l,a.labels,a.datasets,h]),V.useEffect((()=>{p.current&&(m(),setTimeout(g))}),[s]),V.useEffect((()=>(g(),()=>m())),[]),B.createElement("canvas",{ref:f,role:"img",height:n,width:r,...d},u)}const oB=V.forwardRef(iB);function sB(e,t){return JU.register(t),V.forwardRef(((t,n)=>B.createElement(oB,{...t,ref:n,type:e})))}const aB=sB("line",_$),lB=sB("bar",w$);function cB(e){return`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}`}function uB(e){return`${String(e.getUTCDate()).padStart(2,"0")}/${String(e.getUTCMonth()+1).padStart(2,"0")}`}const hB="_container_1so80_1",dB="_title_1so80_17",fB="_filters_1so80_29",pB="_dateInput_1so80_67",gB="_periodSelect_1so80_69",mB="_tabs_1so80_87",bB="_tab_1so80_87",yB="_activeTab_1so80_105",vB="_tabContent_1so80_145",wB="_chartContainer_1so80_171",xB="_metricsContainer_1so80_183",_B="_metricCard_1so80_197";JU.register(_V,TV,xz,pz,dz,tV,yV,Zz);const kB=()=>{const[e,t]=V.useState(0),[n,r]=V.useState(0),[i,o]=V.useState({entryHoursCount:Array(24).fill(0),exitHoursCount:Array(24).fill(0)}),[s,a]=V.useState(0),[l,c]=V.useState({labels:[],entries:[],exits:[]}),[u,h]=V.useState({labels:[],income:[]}),[d,f]=V.useState({labels:[],occupancy:[]}),[p,g]=V.useState("day"),[m,b]=V.useState("day"),[y,v]=V.useState("light"),[w,x]=V.useState((()=>{const e=new Date;return e.setDate(1),e})),[_,k]=V.useState(new Date),[E,S]=V.useState("flujo");V.useEffect((()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{v(e.matches?"dark":"light"),document.body.setAttribute("data-theme",e.matches?"dark":"light")};return t(e),e.addEventListener("change",t),()=>e.removeEventListener("change",t)}),[]),V.useEffect((()=>{!async function(){try{const e=await async function(e,t){const n=SS(WE(KS,"vehiculosPagados"),CS("fechaPago",">=",e),CS("fechaPago","<=",t)),r=await zS(n);let i=0,o=0;return r.forEach((e=>{const t=e.data(),n=t.timestamp.toDate(),r=(t.fechaPago.toDate().getTime()-n.getTime())/36e5;i+=r,o++})),o?i/o:0}(w,_),n=await async function(e,t){const n=SS(WE(KS,"vehiculosPagados"),CS("fechaPago",">=",e),CS("fechaPago","<=",t)),r=await zS(n);let i=0;return r.forEach((e=>{const t=e.data();i+=t.costoPagadoCOP})),i}(w,_),i=await async function(e,t){const n=SS(WE(KS,"vehiculosPagados"),CS("fechaPago",">=",e),CS("fechaPago","<=",t)),r=await zS(n);let i=Array(24).fill(0),o=Array(24).fill(0);return r.forEach((e=>{const t=e.data(),n=t.timestamp.toDate(),r=t.fechaPago.toDate(),s=n.getHours(),a=r.getHours();i[s]++,o[a]++})),{entryHoursCount:i,exitHoursCount:o}}(w,_),s=await async function(e,t){const n=SS(WE(KS,"vehiculosPagados"),CS("fechaPago",">=",e),CS("fechaPago","<=",t)),r=await zS(n);let i=0;return r.forEach((e=>{i++})),i/100*100}(w,_),l=await async function(e,t){const n=SS(WE(KS,"vehiculosPagados"),CS("fechaPago",">=",e),CS("fechaPago","<=",t)),r=await zS(n),i={};r.forEach((e=>{const t=e.data(),n=t.timestamp.toDate().toISOString().split("T")[0],r=t.fechaPago.toDate().toISOString().split("T")[0];i[n]||(i[n]={entradas:0,salidas:0}),i[n].entradas++,i[r]||(i[r]={entradas:0,salidas:0}),i[r].salidas++}));const o=Object.keys(i),s=o.map((e=>i[e].entradas)),a=o.map((e=>i[e].salidas));return{labels:o,entries:s,exits:a}}(w,_),u=await async function(e,t,n){const r=SS(WE(KS,"vehiculosPagados"),CS("fechaPago",">=",e),CS("fechaPago","<=",t)),i=await zS(r),o={};i.forEach((e=>{const t=e.data(),r=t.fechaPago.toDate();let i;switch(n){case"day":default:i=r.toISOString().split("T")[0];break;case"week":const e=new Date(r);e.setDate(r.getDate()-(r.getDay()+6)%7);const t=new Date(e);t.setDate(e.getDate()+6),i=e.toISOString().split("T")[0],cB(e),cB(t);break;case"month":i=`${r.getFullYear()}-${r.getMonth()+1}`,new Date(r.getFullYear(),r.getMonth(),1).toLocaleString("default",{month:"long"})}o[i]||(o[i]=0),o[i]+=t.costoPagadoCOP}));const s=Object.keys(o).map((e=>{if("week"===n){const t=new Date(e),n=new Date(t);return n.setDate(t.getDate()+6),`Lun ${cB(t)} - Dom ${cB(n)}`}return e}));return{labels:s,income:Object.values(o)}}(w,_,p),d=await async function(e,t,n){const r=SS(WE(KS,"vehiculosPagados"),CS("fechaPago",">=",e),CS("fechaPago","<=",t)),i=await zS(r),o={},s=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),a=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()));let l=new Date(s);for(;l<=a;){let e;switch(n){case"day":e=l.toISOString().split("T")[0],l.setUTCDate(l.getUTCDate()+1);break;case"week":const t=new Date(l);t.setUTCDate(l.getUTCDate()-(l.getUTCDay()+6)%7),e=t.toISOString().split("T")[0],l.setUTCDate(l.getUTCDate()+7);break;case"month":e=`${l.getUTCFullYear()}-${(l.getUTCMonth()+1).toString().padStart(2,"0")}`,l.setUTCMonth(l.getUTCMonth()+1);break;default:throw new Error("Período no válido")}o[e]||(o[e]=0)}i.forEach((e=>{const t=e.data().fechaPago.toDate();let r;switch(n){case"day":default:r=t.toISOString().split("T")[0];break;case"week":const e=new Date(t);e.setUTCDate(t.getUTCDate()-(t.getUTCDay()+6)%7),r=e.toISOString().split("T")[0];break;case"month":r=`${t.getUTCFullYear()}-${(t.getUTCMonth()+1).toString().padStart(2,"0")}`}void 0!==o[r]&&o[r]++}));const c=Object.keys(o).map((e=>{if("week"===n){const t=new Date(e),n=new Date(t);return n.setUTCDate(t.getUTCDate()+6),`Lun ${uB(t)} - Dom ${uB(n)}`}return e}));return{labels:c,occupancy:Object.values(o).map((e=>e/100*100))}}(w,_,m);t(e),r(n),o(i),a(s),c(l),h(u),f(d)}catch(e){console.error("Error fetching data:",e)}}()}),[w,_,p,m]);const T={labels:Array.from({length:24},((e,t)=>`${t}:00`)),datasets:[{label:"Entradas",data:i.entryHoursCount,backgroundColor:"light"===y?"rgba(75, 192, 192, 0.6)":"rgba(75, 192, 192, 0.8)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Salidas",data:i.exitHoursCount,backgroundColor:"light"===y?"rgba(153, 102, 255, 0.6)":"rgba(153, 102, 255, 0.8)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]},C={labels:l.labels,datasets:[{label:"Entradas",data:l.entries,borderColor:"light"===y?"rgba(75, 192, 192, 1)":"rgba(75, 192, 192, 0.8)",backgroundColor:"light"===y?"rgba(75, 192, 192, 0.2)":"rgba(75, 192, 192, 0.4)",fill:!0,tension:.3},{label:"Salidas",data:l.exits,borderColor:"light"===y?"rgba(153, 102, 255, 1)":"rgba(153, 102, 255, 0.8)",backgroundColor:"light"===y?"rgba(153, 102, 255, 0.2)":"rgba(153, 102, 255, 0.4)",fill:!0,tension:.3}]},I={labels:u.labels,datasets:[{label:`Ingresos (${"day"===p?"Día":"week"===p?"Semana":"Mes"})`,data:u.income,backgroundColor:"light"===y?"rgba(255, 99, 132, 0.6)":"rgba(255, 99, 132, 0.8)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]},P={labels:d.labels,datasets:[{label:`Ocupación (${"day"===m?"Día":"week"===m?"Semana":"Mes"})`,data:d.occupancy,backgroundColor:"light"===y?"rgba(54, 162, 235, 0.6)":"rgba(54, 162, 235, 0.8)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},A={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"light"===y?"#333":"#fff"}}},scales:{x:{grid:{color:"light"===y?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"},ticks:{color:"light"===y?"#333":"#fff"}},y:{grid:{color:"light"===y?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"},ticks:{color:"light"===y?"#333":"#fff"},beginAtZero:!0}}};return X.jsxs("div",{className:hB,"data-theme":y,children:[X.jsx(AR,{}),X.jsx("h1",{className:dB,children:"Dashboard de Análisis"}),X.jsxs("div",{className:xB,children:[X.jsxs("div",{className:_B,children:[X.jsx("h3",{children:"Tiempo promedio de estadía"}),X.jsxs("p",{children:[e.toFixed(2)," min"]})]}),X.jsxs("div",{className:_B,children:[X.jsx("h3",{children:"Ingresos totales"}),X.jsxs("p",{children:["$",n.toLocaleString()]})]}),X.jsxs("div",{className:_B,children:[X.jsx("h3",{children:"Tasa de ocupación"}),X.jsxs("p",{children:[s.toFixed(2),"%"]})]})]}),X.jsxs("div",{className:fB,children:[X.jsxs("label",{children:["Fecha de Inicio:",X.jsx("input",{type:"date",className:pB,value:w.toISOString().split("T")[0],onChange:e=>x(new Date(e.target.value))})]}),X.jsxs("label",{children:["Fecha de Fin:",X.jsx("input",{type:"date",className:pB,value:_.toISOString().split("T")[0],onChange:e=>k(new Date(e.target.value))})]})]}),X.jsxs("div",{className:mB,children:[X.jsx("button",{className:"flujo"===E?yB:bB,onClick:()=>S("flujo"),children:"Flujo de Vehículos"}),X.jsx("button",{className:"ocupacion"===E?yB:bB,onClick:()=>S("ocupacion"),children:"Ocupación"}),X.jsx("button",{className:"ingresos"===E?yB:bB,onClick:()=>S("ingresos"),children:"Ingresos"}),X.jsx("button",{className:"horas"===E?yB:bB,onClick:()=>S("horas"),children:"Horas Pico"})]}),X.jsxs("div",{className:vB,children:["flujo"===E&&X.jsxs(X.Fragment,{children:[X.jsx("h2",{children:"Flujo de Vehículos"}),X.jsx("div",{className:wB,children:X.jsx(aB,{data:C,options:{...A,scales:{...A.scales,y:{...A.scales.y,beginAtZero:!0}}}})})]}),"ocupacion"===E&&X.jsxs(X.Fragment,{children:[X.jsx("h2",{children:"Ocupación del Parqueadero"}),X.jsx("div",{className:fB,children:X.jsxs("label",{children:["Período:",X.jsxs("select",{className:gB,value:m,onChange:e=>b(e.target.value),children:[X.jsx("option",{value:"day",children:"Día"}),X.jsx("option",{value:"week",children:"Semana"}),X.jsx("option",{value:"month",children:"Mes"})]})]})}),X.jsx("div",{className:wB,children:X.jsx(lB,{data:P,options:{...A,scales:{...A.scales,y:{...A.scales.y,beginAtZero:!0,max:100}}}})})]}),"ingresos"===E&&X.jsxs(X.Fragment,{children:[X.jsx("h2",{children:"Ingresos"}),X.jsx("div",{className:fB,children:X.jsxs("label",{children:["Período:",X.jsxs("select",{className:gB,value:p,onChange:e=>g(e.target.value),children:[X.jsx("option",{value:"day",children:"Día"}),X.jsx("option",{value:"week",children:"Semana"}),X.jsx("option",{value:"month",children:"Mes"})]})]})}),X.jsx("div",{className:wB,children:X.jsx(lB,{data:I,options:{...A,scales:{...A.scales,y:{...A.scales.y,beginAtZero:!0}}}})})]}),"horas"===E&&X.jsxs(X.Fragment,{children:[X.jsx("h2",{children:"Horas Pico"}),X.jsx("div",{className:wB,children:X.jsx(lB,{data:T,options:{...A,scales:{...A.scales,y:{...A.scales.y,beginAtZero:!0}}}})})]})]})]})},EB="_pagoCliente-container_1p2nx_3",SB="_pagoCliente-titulo_1p2nx_19",TB="_pagoCliente-lista_1p2nx_33",CB="_pagoCliente-item_1p2nx_45",IB="_pagoCliente-imagen_1p2nx_67",PB="_pagoCliente-info_1p2nx_85",AB=()=>{const[e,t]=V.useState([]),[n,r]=V.useState(!0);return V.useEffect((()=>{(async()=>{try{const e=mm().currentUser;if(!e)return void console.error("Usuario no autenticado");const n=SS(WE(KS,"vehiculosPagados"),CS("emailPagador","==",e.email)),r=(await zS(n)).docs.map((e=>({id:e.id,...e.data()}))),i=r.sort(((e,t)=>{const n=e.fechaPago.toDate();return t.fechaPago.toDate().getTime()-n.getTime()}));t(i)}catch(e){console.error("Error obteniendo vehículos pagados:",e)}finally{r(!1)}})()}),[]),n?X.jsx("p",{children:"Cargando información..."}):0===e.length?X.jsx("p",{children:"No tienes vehículos registrados como pagados."}):X.jsxs("div",{className:EB,children:[X.jsx(jR,{}),X.jsx("h2",{className:SB,children:"Vehículos Pagados"}),X.jsx("ul",{className:TB,children:e.map((e=>X.jsxs("li",{className:CB,children:[X.jsx("img",{src:e.imageUrl,alt:`Vehículo con placa ${e.placa}`,className:IB}),X.jsxs("div",{className:PB,children:[X.jsxs("p",{children:[X.jsx("strong",{children:"Placa:"})," ",e.placa]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Fecha de Pago:"})," ",e.fechaPago?.toDate().toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Costo Pagado (COP):"})," $",e.costoPagadoCOP?.toLocaleString("es-CO")]})]})]},e.id)))})]})};JU.register(...JV);const OB=mm(qS),RB=()=>{const[e,t]=V.useState(null),[n,r]=V.useState(!1);return V.useEffect((()=>{const e=function(e,t,n,r){return Nh(e).onAuthStateChanged(t,n,r)}(OB,(async e=>{if(e){const n=await Hf(e);r(!!n.claims.admin),t(e)}else t(null),r(!1)}));return()=>e()}),[]),V.useEffect((()=>{document.title="Estacionamiento U"}),[]),X.jsx(zb,{children:X.jsxs(Fb,{children:[X.jsx(jb,{path:"/",exact:!0,component:LR}),X.jsx(jb,{path:"/admin",render:()=>e?X.jsx(MR,{correoUsuario:e.email}):X.jsx(LR,{})}),X.jsx(jb,{path:"/cliente",render:()=>e?X.jsx(vM,{correoUsuario:e.email}):X.jsx(LR,{})}),X.jsx(jb,{path:"/perfil",render:()=>e?X.jsx(wM,{correoUsuario:e.email}):X.jsx(LR,{})}),X.jsx(jb,{path:"/cars",render:()=>e?X.jsx(OR,{}):X.jsx(LR,{})}),X.jsx(jb,{path:"/empleado",render:()=>e?X.jsx(xM,{}):X.jsx(LR,{})}),X.jsx(jb,{path:"/admiusers",render:()=>e?X.jsx(_M,{}):X.jsx(LR,{})}),X.jsx(jb,{path:"/admiparking",render:()=>e?X.jsx(EM,{}):X.jsx(LR,{})}),X.jsx(jb,{path:"/analytic",render:()=>e?X.jsx(kB,{}):X.jsx(LR,{})}),X.jsx(jb,{path:"/pagocliente",render:()=>e?X.jsx(AB,{}):X.jsx(LR,{})})]})})};ih(document.getElementById("root")).render(X.jsx(B.StrictMode,{children:X.jsx(RB,{})}))}}}));
